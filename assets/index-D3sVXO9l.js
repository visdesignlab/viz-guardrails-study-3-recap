var ppe=Object.defineProperty;var mpe=(e,t,n)=>t in e?ppe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var po=(e,t,n)=>(mpe(e,typeof t!="symbol"?t+"":t,n),n);function gpe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var So=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function su(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ype(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var eG={exports:{}},sI={},tG={exports:{}},on={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_=Symbol.for("react.element"),vpe=Symbol.for("react.portal"),_pe=Symbol.for("react.fragment"),bpe=Symbol.for("react.strict_mode"),wpe=Symbol.for("react.profiler"),Epe=Symbol.for("react.provider"),Spe=Symbol.for("react.context"),Tpe=Symbol.for("react.forward_ref"),xpe=Symbol.for("react.suspense"),Ipe=Symbol.for("react.memo"),Cpe=Symbol.for("react.lazy"),_5=Symbol.iterator;function Ppe(e){return e===null||typeof e!="object"?null:(e=_5&&e[_5]||e["@@iterator"],typeof e=="function"?e:null)}var nG={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rG=Object.assign,iG={};function vg(e,t,n){this.props=e,this.context=t,this.refs=iG,this.updater=n||nG}vg.prototype.isReactComponent={};vg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sG(){}sG.prototype=vg.prototype;function TD(e,t,n){this.props=e,this.context=t,this.refs=iG,this.updater=n||nG}var xD=TD.prototype=new sG;xD.constructor=TD;rG(xD,vg.prototype);xD.isPureReactComponent=!0;var b5=Array.isArray,oG=Object.prototype.hasOwnProperty,ID={current:null},aG={key:!0,ref:!0,__self:!0,__source:!0};function uG(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)oG.call(t,r)&&!aG.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:A_,type:e,key:s,ref:o,props:i,_owner:ID.current}}function Ape(e,t){return{$$typeof:A_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function CD(e){return typeof e=="object"&&e!==null&&e.$$typeof===A_}function Ope(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var w5=/\/+/g;function iA(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ope(""+e.key):t.toString(36)}function pw(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case A_:case vpe:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+iA(o,0):r,b5(i)?(n="",e!=null&&(n=e.replace(w5,"$&/")+"/"),pw(i,t,n,"",function(l){return l})):i!=null&&(CD(i)&&(i=Ape(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(w5,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",b5(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+iA(s,a);o+=pw(s,t,n,u,i)}else if(u=Ppe(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+iA(s,a++),o+=pw(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function B1(e,t,n){if(e==null)return e;var r=[],i=0;return pw(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Rpe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Is={current:null},mw={transition:null},Npe={ReactCurrentDispatcher:Is,ReactCurrentBatchConfig:mw,ReactCurrentOwner:ID};on.Children={map:B1,forEach:function(e,t,n){B1(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return B1(e,function(){t++}),t},toArray:function(e){return B1(e,function(t){return t})||[]},only:function(e){if(!CD(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};on.Component=vg;on.Fragment=_pe;on.Profiler=wpe;on.PureComponent=TD;on.StrictMode=bpe;on.Suspense=xpe;on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Npe;on.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rG({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=ID.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)oG.call(t,u)&&!aG.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:A_,type:e.type,key:i,ref:s,props:r,_owner:o}};on.createContext=function(e){return e={$$typeof:Spe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Epe,_context:e},e.Consumer=e};on.createElement=uG;on.createFactory=function(e){var t=uG.bind(null,e);return t.type=e,t};on.createRef=function(){return{current:null}};on.forwardRef=function(e){return{$$typeof:Tpe,render:e}};on.isValidElement=CD;on.lazy=function(e){return{$$typeof:Cpe,_payload:{_status:-1,_result:e},_init:Rpe}};on.memo=function(e,t){return{$$typeof:Ipe,type:e,compare:t===void 0?null:t}};on.startTransition=function(e){var t=mw.transition;mw.transition={};try{e()}finally{mw.transition=t}};on.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};on.useCallback=function(e,t){return Is.current.useCallback(e,t)};on.useContext=function(e){return Is.current.useContext(e)};on.useDebugValue=function(){};on.useDeferredValue=function(e){return Is.current.useDeferredValue(e)};on.useEffect=function(e,t){return Is.current.useEffect(e,t)};on.useId=function(){return Is.current.useId()};on.useImperativeHandle=function(e,t,n){return Is.current.useImperativeHandle(e,t,n)};on.useInsertionEffect=function(e,t){return Is.current.useInsertionEffect(e,t)};on.useLayoutEffect=function(e,t){return Is.current.useLayoutEffect(e,t)};on.useMemo=function(e,t){return Is.current.useMemo(e,t)};on.useReducer=function(e,t,n){return Is.current.useReducer(e,t,n)};on.useRef=function(e){return Is.current.useRef(e)};on.useState=function(e){return Is.current.useState(e)};on.useSyncExternalStore=function(e,t,n){return Is.current.useSyncExternalStore(e,t,n)};on.useTransition=function(){return Is.current.useTransition()};on.version="18.2.0";tG.exports=on;var w=tG.exports;const R=su(w),rv=gpe({__proto__:null,default:R},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kpe=w,Dpe=Symbol.for("react.element"),$pe=Symbol.for("react.fragment"),Lpe=Object.prototype.hasOwnProperty,Mpe=kpe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fpe={key:!0,ref:!0,__self:!0,__source:!0};function lG(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Lpe.call(t,r)&&!Fpe.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Dpe,type:e,key:s,ref:o,props:i,_owner:Mpe.current}}sI.Fragment=$pe;sI.jsx=lG;sI.jsxs=lG;eG.exports=sI;var I=eG.exports,q2={},cG={exports:{}},Fo={},fG={exports:{}},dG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,fe){var A=q.length;q.push(fe);e:for(;0<A;){var W=A-1>>>1,Y=q[W];if(0<i(Y,fe))q[W]=fe,q[A]=Y,A=W;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var fe=q[0],A=q.pop();if(A!==fe){q[0]=A;e:for(var W=0,Y=q.length,C=Y>>>1;W<C;){var O=2*(W+1)-1,k=q[O],G=O+1,de=q[G];if(0>i(k,A))G<Y&&0>i(de,k)?(q[W]=de,q[G]=A,W=G):(q[W]=k,q[O]=A,W=O);else if(G<Y&&0>i(de,A))q[W]=de,q[G]=A,W=G;else break e}}return fe}function i(q,fe){var A=q.sortIndex-fe.sortIndex;return A!==0?A:q.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var fe=n(l);fe!==null;){if(fe.callback===null)r(l);else if(fe.startTime<=q)r(l),fe.sortIndex=fe.expirationTime,t(u,fe);else break;fe=n(l)}}function S(q){if(m=!1,_(q),!p)if(n(u)!==null)p=!0,ue(T);else{var fe=n(l);fe!==null&&ne(S,fe.startTime-q)}}function T(q,fe){p=!1,m&&(m=!1,g(P),P=-1),h=!0;var A=d;try{for(_(fe),f=n(u);f!==null&&(!(f.expirationTime>fe)||q&&!F());){var W=f.callback;if(typeof W=="function"){f.callback=null,d=f.priorityLevel;var Y=W(f.expirationTime<=fe);fe=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(u)&&r(u),_(fe)}else r(u);f=n(u)}if(f!==null)var C=!0;else{var O=n(l);O!==null&&ne(S,O.startTime-fe),C=!1}return C}finally{f=null,d=A,h=!1}}var E=!1,x=null,P=-1,M=5,L=-1;function F(){return!(e.unstable_now()-L<M)}function V(){if(x!==null){var q=e.unstable_now();L=q;var fe=!0;try{fe=x(!0,q)}finally{fe?oe():(E=!1,x=null)}}else E=!1}var oe;if(typeof v=="function")oe=function(){v(V)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,te=U.port2;U.port1.onmessage=V,oe=function(){te.postMessage(null)}}else oe=function(){y(V,0)};function ue(q){x=q,E||(E=!0,oe())}function ne(q,fe){P=y(function(){q(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,ue(T))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(q){switch(d){case 1:case 2:case 3:var fe=3;break;default:fe=d}var A=d;d=fe;try{return q()}finally{d=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,fe){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var A=d;d=q;try{return fe()}finally{d=A}},e.unstable_scheduleCallback=function(q,fe,A){var W=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?W+A:W):A=W,q){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=A+Y,q={id:c++,callback:fe,priorityLevel:q,startTime:A,expirationTime:Y,sortIndex:-1},A>W?(q.sortIndex=A,t(l,q),n(u)===null&&q===n(l)&&(m?(g(P),P=-1):m=!0,ne(S,A-W))):(q.sortIndex=Y,t(u,q),p||h||(p=!0,ue(T))),q},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(q){var fe=d;return function(){var A=d;d=fe;try{return q.apply(this,arguments)}finally{d=A}}}})(dG);fG.exports=dG;var jpe=fG.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hG=w,No=jpe;function je(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pG=new Set,iv={};function kh(e,t){Pm(e,t),Pm(e+"Capture",t)}function Pm(e,t){for(iv[e]=t,e=0;e<t.length;e++)pG.add(t[e])}var Gl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),G2=Object.prototype.hasOwnProperty,Bpe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E5={},S5={};function Upe(e){return G2.call(S5,e)?!0:G2.call(E5,e)?!1:Bpe.test(e)?S5[e]=!0:(E5[e]=!0,!1)}function Vpe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zpe(e,t,n,r){if(t===null||typeof t>"u"||Vpe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cs(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Bi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bi[e]=new Cs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bi[t]=new Cs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bi[e]=new Cs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bi[e]=new Cs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bi[e]=new Cs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bi[e]=new Cs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bi[e]=new Cs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bi[e]=new Cs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bi[e]=new Cs(e,5,!1,e.toLowerCase(),null,!1,!1)});var PD=/[\-:]([a-z])/g;function AD(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(PD,AD);Bi[t]=new Cs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(PD,AD);Bi[t]=new Cs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(PD,AD);Bi[t]=new Cs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bi[e]=new Cs(e,1,!1,e.toLowerCase(),null,!1,!1)});Bi.xlinkHref=new Cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bi[e]=new Cs(e,1,!1,e.toLowerCase(),null,!0,!0)});function OD(e,t,n,r){var i=Bi.hasOwnProperty(t)?Bi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zpe(t,n,i,r)&&(n=null),r||i===null?Upe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hc=hG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U1=Symbol.for("react.element"),xp=Symbol.for("react.portal"),Ip=Symbol.for("react.fragment"),RD=Symbol.for("react.strict_mode"),Y2=Symbol.for("react.profiler"),mG=Symbol.for("react.provider"),gG=Symbol.for("react.context"),ND=Symbol.for("react.forward_ref"),K2=Symbol.for("react.suspense"),Q2=Symbol.for("react.suspense_list"),kD=Symbol.for("react.memo"),Bc=Symbol.for("react.lazy"),yG=Symbol.for("react.offscreen"),T5=Symbol.iterator;function l0(e){return e===null||typeof e!="object"?null:(e=T5&&e[T5]||e["@@iterator"],typeof e=="function"?e:null)}var _r=Object.assign,sA;function Y0(e){if(sA===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sA=t&&t[1]||""}return`
`+sA+e}var oA=!1;function aA(e,t){if(!e||oA)return"";oA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{oA=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Y0(e):""}function Hpe(e){switch(e.tag){case 5:return Y0(e.type);case 16:return Y0("Lazy");case 13:return Y0("Suspense");case 19:return Y0("SuspenseList");case 0:case 2:case 15:return e=aA(e.type,!1),e;case 11:return e=aA(e.type.render,!1),e;case 1:return e=aA(e.type,!0),e;default:return""}}function X2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ip:return"Fragment";case xp:return"Portal";case Y2:return"Profiler";case RD:return"StrictMode";case K2:return"Suspense";case Q2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gG:return(e.displayName||"Context")+".Consumer";case mG:return(e._context.displayName||"Context")+".Provider";case ND:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kD:return t=e.displayName||null,t!==null?t:X2(e.type)||"Memo";case Bc:t=e._payload,e=e._init;try{return X2(e(t))}catch{}}return null}function Wpe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X2(t);case 8:return t===RD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Of(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vG(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qpe(e){var t=vG(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function V1(e){e._valueTracker||(e._valueTracker=qpe(e))}function _G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vG(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function lE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function J2(e,t){var n=t.checked;return _r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function x5(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Of(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bG(e,t){t=t.checked,t!=null&&OD(e,"checked",t,!1)}function Z2(e,t){bG(e,t);var n=Of(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?eR(e,t.type,n):t.hasOwnProperty("defaultValue")&&eR(e,t.type,Of(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function I5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function eR(e,t,n){(t!=="number"||lE(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var K0=Array.isArray;function Kp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Of(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function tR(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(je(91));return _r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function C5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(je(92));if(K0(n)){if(1<n.length)throw Error(je(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Of(n)}}function wG(e,t){var n=Of(t.value),r=Of(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function P5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function EG(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nR(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?EG(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var z1,SG=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(z1=z1||document.createElement("div"),z1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=z1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sv(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var my={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gpe=["Webkit","ms","Moz","O"];Object.keys(my).forEach(function(e){Gpe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),my[t]=my[e]})});function TG(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||my.hasOwnProperty(e)&&my[e]?(""+t).trim():t+"px"}function xG(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=TG(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ype=_r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rR(e,t){if(t){if(Ype[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(je(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(je(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(je(61))}if(t.style!=null&&typeof t.style!="object")throw Error(je(62))}}function iR(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sR=null;function DD(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oR=null,Qp=null,Xp=null;function A5(e){if(e=N_(e)){if(typeof oR!="function")throw Error(je(280));var t=e.stateNode;t&&(t=cI(t),oR(e.stateNode,e.type,t))}}function IG(e){Qp?Xp?Xp.push(e):Xp=[e]:Qp=e}function CG(){if(Qp){var e=Qp,t=Xp;if(Xp=Qp=null,A5(e),t)for(e=0;e<t.length;e++)A5(t[e])}}function PG(e,t){return e(t)}function AG(){}var uA=!1;function OG(e,t,n){if(uA)return e(t,n);uA=!0;try{return PG(e,t,n)}finally{uA=!1,(Qp!==null||Xp!==null)&&(AG(),CG())}}function ov(e,t){var n=e.stateNode;if(n===null)return null;var r=cI(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(je(231,t,typeof n));return n}var aR=!1;if(Gl)try{var c0={};Object.defineProperty(c0,"passive",{get:function(){aR=!0}}),window.addEventListener("test",c0,c0),window.removeEventListener("test",c0,c0)}catch{aR=!1}function Kpe(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var gy=!1,cE=null,fE=!1,uR=null,Qpe={onError:function(e){gy=!0,cE=e}};function Xpe(e,t,n,r,i,s,o,a,u){gy=!1,cE=null,Kpe.apply(Qpe,arguments)}function Jpe(e,t,n,r,i,s,o,a,u){if(Xpe.apply(this,arguments),gy){if(gy){var l=cE;gy=!1,cE=null}else throw Error(je(198));fE||(fE=!0,uR=l)}}function Dh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function RG(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function O5(e){if(Dh(e)!==e)throw Error(je(188))}function Zpe(e){var t=e.alternate;if(!t){if(t=Dh(e),t===null)throw Error(je(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return O5(i),e;if(s===r)return O5(i),t;s=s.sibling}throw Error(je(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(je(189))}}if(n.alternate!==r)throw Error(je(190))}if(n.tag!==3)throw Error(je(188));return n.stateNode.current===n?e:t}function NG(e){return e=Zpe(e),e!==null?kG(e):null}function kG(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kG(e);if(t!==null)return t;e=e.sibling}return null}var DG=No.unstable_scheduleCallback,R5=No.unstable_cancelCallback,eme=No.unstable_shouldYield,tme=No.unstable_requestPaint,Mr=No.unstable_now,nme=No.unstable_getCurrentPriorityLevel,$D=No.unstable_ImmediatePriority,$G=No.unstable_UserBlockingPriority,dE=No.unstable_NormalPriority,rme=No.unstable_LowPriority,LG=No.unstable_IdlePriority,oI=null,Uu=null;function ime(e){if(Uu&&typeof Uu.onCommitFiberRoot=="function")try{Uu.onCommitFiberRoot(oI,e,void 0,(e.current.flags&128)===128)}catch{}}var Wa=Math.clz32?Math.clz32:ame,sme=Math.log,ome=Math.LN2;function ame(e){return e>>>=0,e===0?32:31-(sme(e)/ome|0)|0}var H1=64,W1=4194304;function Q0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hE(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Q0(a):(s&=o,s!==0&&(r=Q0(s)))}else o=n&~i,o!==0?r=Q0(o):s!==0&&(r=Q0(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wa(t),i=1<<n,r|=e[n],t&=~i;return r}function ume(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lme(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Wa(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=ume(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function lR(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function MG(){var e=H1;return H1<<=1,!(H1&4194240)&&(H1=64),e}function lA(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function O_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wa(t),e[t]=n}function cme(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Wa(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function LD(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wa(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var jn=0;function FG(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jG,MD,BG,UG,VG,cR=!1,q1=[],lf=null,cf=null,ff=null,av=new Map,uv=new Map,Wc=[],fme="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N5(e,t){switch(e){case"focusin":case"focusout":lf=null;break;case"dragenter":case"dragleave":cf=null;break;case"mouseover":case"mouseout":ff=null;break;case"pointerover":case"pointerout":av.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uv.delete(t.pointerId)}}function f0(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=N_(t),t!==null&&MD(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dme(e,t,n,r,i){switch(t){case"focusin":return lf=f0(lf,e,t,n,r,i),!0;case"dragenter":return cf=f0(cf,e,t,n,r,i),!0;case"mouseover":return ff=f0(ff,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return av.set(s,f0(av.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,uv.set(s,f0(uv.get(s)||null,e,t,n,r,i)),!0}return!1}function zG(e){var t=$d(e.target);if(t!==null){var n=Dh(t);if(n!==null){if(t=n.tag,t===13){if(t=RG(n),t!==null){e.blockedOn=t,VG(e.priority,function(){BG(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fR(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sR=r,n.target.dispatchEvent(r),sR=null}else return t=N_(n),t!==null&&MD(t),e.blockedOn=n,!1;t.shift()}return!0}function k5(e,t,n){gw(e)&&n.delete(t)}function hme(){cR=!1,lf!==null&&gw(lf)&&(lf=null),cf!==null&&gw(cf)&&(cf=null),ff!==null&&gw(ff)&&(ff=null),av.forEach(k5),uv.forEach(k5)}function d0(e,t){e.blockedOn===t&&(e.blockedOn=null,cR||(cR=!0,No.unstable_scheduleCallback(No.unstable_NormalPriority,hme)))}function lv(e){function t(i){return d0(i,e)}if(0<q1.length){d0(q1[0],e);for(var n=1;n<q1.length;n++){var r=q1[n];r.blockedOn===e&&(r.blockedOn=null)}}for(lf!==null&&d0(lf,e),cf!==null&&d0(cf,e),ff!==null&&d0(ff,e),av.forEach(t),uv.forEach(t),n=0;n<Wc.length;n++)r=Wc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wc.length&&(n=Wc[0],n.blockedOn===null);)zG(n),n.blockedOn===null&&Wc.shift()}var Jp=hc.ReactCurrentBatchConfig,pE=!0;function pme(e,t,n,r){var i=jn,s=Jp.transition;Jp.transition=null;try{jn=1,FD(e,t,n,r)}finally{jn=i,Jp.transition=s}}function mme(e,t,n,r){var i=jn,s=Jp.transition;Jp.transition=null;try{jn=4,FD(e,t,n,r)}finally{jn=i,Jp.transition=s}}function FD(e,t,n,r){if(pE){var i=fR(e,t,n,r);if(i===null)_A(e,t,r,mE,n),N5(e,r);else if(dme(i,e,t,n,r))r.stopPropagation();else if(N5(e,r),t&4&&-1<fme.indexOf(e)){for(;i!==null;){var s=N_(i);if(s!==null&&jG(s),s=fR(e,t,n,r),s===null&&_A(e,t,r,mE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else _A(e,t,r,null,n)}}var mE=null;function fR(e,t,n,r){if(mE=null,e=DD(r),e=$d(e),e!==null)if(t=Dh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=RG(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mE=e,null}function HG(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nme()){case $D:return 1;case $G:return 4;case dE:case rme:return 16;case LG:return 536870912;default:return 16}default:return 16}}var Zc=null,jD=null,yw=null;function WG(){if(yw)return yw;var e,t=jD,n=t.length,r,i="value"in Zc?Zc.value:Zc.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return yw=i.slice(e,1<r?1-r:void 0)}function vw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function G1(){return!0}function D5(){return!1}function jo(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?G1:D5,this.isPropagationStopped=D5,this}return _r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=G1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=G1)},persist:function(){},isPersistent:G1}),t}var _g={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BD=jo(_g),R_=_r({},_g,{view:0,detail:0}),gme=jo(R_),cA,fA,h0,aI=_r({},R_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UD,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==h0&&(h0&&e.type==="mousemove"?(cA=e.screenX-h0.screenX,fA=e.screenY-h0.screenY):fA=cA=0,h0=e),cA)},movementY:function(e){return"movementY"in e?e.movementY:fA}}),$5=jo(aI),yme=_r({},aI,{dataTransfer:0}),vme=jo(yme),_me=_r({},R_,{relatedTarget:0}),dA=jo(_me),bme=_r({},_g,{animationName:0,elapsedTime:0,pseudoElement:0}),wme=jo(bme),Eme=_r({},_g,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sme=jo(Eme),Tme=_r({},_g,{data:0}),L5=jo(Tme),xme={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ime={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cme={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pme(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cme[e])?!!t[e]:!1}function UD(){return Pme}var Ame=_r({},R_,{key:function(e){if(e.key){var t=xme[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ime[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UD,charCode:function(e){return e.type==="keypress"?vw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ome=jo(Ame),Rme=_r({},aI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M5=jo(Rme),Nme=_r({},R_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UD}),kme=jo(Nme),Dme=_r({},_g,{propertyName:0,elapsedTime:0,pseudoElement:0}),$me=jo(Dme),Lme=_r({},aI,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mme=jo(Lme),Fme=[9,13,27,32],VD=Gl&&"CompositionEvent"in window,yy=null;Gl&&"documentMode"in document&&(yy=document.documentMode);var jme=Gl&&"TextEvent"in window&&!yy,qG=Gl&&(!VD||yy&&8<yy&&11>=yy),F5=" ",j5=!1;function GG(e,t){switch(e){case"keyup":return Fme.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YG(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cp=!1;function Bme(e,t){switch(e){case"compositionend":return YG(t);case"keypress":return t.which!==32?null:(j5=!0,F5);case"textInput":return e=t.data,e===F5&&j5?null:e;default:return null}}function Ume(e,t){if(Cp)return e==="compositionend"||!VD&&GG(e,t)?(e=WG(),yw=jD=Zc=null,Cp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qG&&t.locale!=="ko"?null:t.data;default:return null}}var Vme={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vme[e.type]:t==="textarea"}function KG(e,t,n,r){IG(r),t=gE(t,"onChange"),0<t.length&&(n=new BD("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vy=null,cv=null;function zme(e){oY(e,0)}function uI(e){var t=Op(e);if(_G(t))return e}function Hme(e,t){if(e==="change")return t}var QG=!1;if(Gl){var hA;if(Gl){var pA="oninput"in document;if(!pA){var U5=document.createElement("div");U5.setAttribute("oninput","return;"),pA=typeof U5.oninput=="function"}hA=pA}else hA=!1;QG=hA&&(!document.documentMode||9<document.documentMode)}function V5(){vy&&(vy.detachEvent("onpropertychange",XG),cv=vy=null)}function XG(e){if(e.propertyName==="value"&&uI(cv)){var t=[];KG(t,cv,e,DD(e)),OG(zme,t)}}function Wme(e,t,n){e==="focusin"?(V5(),vy=t,cv=n,vy.attachEvent("onpropertychange",XG)):e==="focusout"&&V5()}function qme(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uI(cv)}function Gme(e,t){if(e==="click")return uI(t)}function Yme(e,t){if(e==="input"||e==="change")return uI(t)}function Kme(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qa=typeof Object.is=="function"?Object.is:Kme;function fv(e,t){if(Qa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!G2.call(t,i)||!Qa(e[i],t[i]))return!1}return!0}function z5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function H5(e,t){var n=z5(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=z5(n)}}function JG(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?JG(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ZG(){for(var e=window,t=lE();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lE(e.document)}return t}function zD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qme(e){var t=ZG(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&JG(n.ownerDocument.documentElement,n)){if(r!==null&&zD(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=H5(n,s);var o=H5(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xme=Gl&&"documentMode"in document&&11>=document.documentMode,Pp=null,dR=null,_y=null,hR=!1;function W5(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hR||Pp==null||Pp!==lE(r)||(r=Pp,"selectionStart"in r&&zD(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_y&&fv(_y,r)||(_y=r,r=gE(dR,"onSelect"),0<r.length&&(t=new BD("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pp)))}function Y1(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ap={animationend:Y1("Animation","AnimationEnd"),animationiteration:Y1("Animation","AnimationIteration"),animationstart:Y1("Animation","AnimationStart"),transitionend:Y1("Transition","TransitionEnd")},mA={},eY={};Gl&&(eY=document.createElement("div").style,"AnimationEvent"in window||(delete Ap.animationend.animation,delete Ap.animationiteration.animation,delete Ap.animationstart.animation),"TransitionEvent"in window||delete Ap.transitionend.transition);function lI(e){if(mA[e])return mA[e];if(!Ap[e])return e;var t=Ap[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in eY)return mA[e]=t[n];return e}var tY=lI("animationend"),nY=lI("animationiteration"),rY=lI("animationstart"),iY=lI("transitionend"),sY=new Map,q5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jf(e,t){sY.set(e,t),kh(t,[e])}for(var gA=0;gA<q5.length;gA++){var yA=q5[gA],Jme=yA.toLowerCase(),Zme=yA[0].toUpperCase()+yA.slice(1);Jf(Jme,"on"+Zme)}Jf(tY,"onAnimationEnd");Jf(nY,"onAnimationIteration");Jf(rY,"onAnimationStart");Jf("dblclick","onDoubleClick");Jf("focusin","onFocus");Jf("focusout","onBlur");Jf(iY,"onTransitionEnd");Pm("onMouseEnter",["mouseout","mouseover"]);Pm("onMouseLeave",["mouseout","mouseover"]);Pm("onPointerEnter",["pointerout","pointerover"]);Pm("onPointerLeave",["pointerout","pointerover"]);kh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kh("onBeforeInput",["compositionend","keypress","textInput","paste"]);kh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var X0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ege=new Set("cancel close invalid load scroll toggle".split(" ").concat(X0));function G5(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Jpe(r,t,void 0,e),e.currentTarget=null}function oY(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;G5(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;G5(i,a,l),s=u}}}if(fE)throw e=uR,fE=!1,uR=null,e}function nr(e,t){var n=t[vR];n===void 0&&(n=t[vR]=new Set);var r=e+"__bubble";n.has(r)||(aY(t,e,2,!1),n.add(r))}function vA(e,t,n){var r=0;t&&(r|=4),aY(n,e,r,t)}var K1="_reactListening"+Math.random().toString(36).slice(2);function dv(e){if(!e[K1]){e[K1]=!0,pG.forEach(function(n){n!=="selectionchange"&&(ege.has(n)||vA(n,!1,e),vA(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[K1]||(t[K1]=!0,vA("selectionchange",!1,t))}}function aY(e,t,n,r){switch(HG(t)){case 1:var i=pme;break;case 4:i=mme;break;default:i=FD}n=i.bind(null,t,n,e),i=void 0,!aR||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function _A(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=$d(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}OG(function(){var l=s,c=DD(n),f=[];e:{var d=sY.get(e);if(d!==void 0){var h=BD,p=e;switch(e){case"keypress":if(vw(n)===0)break e;case"keydown":case"keyup":h=Ome;break;case"focusin":p="focus",h=dA;break;case"focusout":p="blur",h=dA;break;case"beforeblur":case"afterblur":h=dA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=$5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=vme;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=kme;break;case tY:case nY:case rY:h=wme;break;case iY:h=$me;break;case"scroll":h=gme;break;case"wheel":h=Mme;break;case"copy":case"cut":case"paste":h=Sme;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=M5}var m=(t&4)!==0,y=!m&&e==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var v=l,_;v!==null;){_=v;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,g!==null&&(S=ov(v,g),S!=null&&m.push(hv(v,S,_)))),y)break;v=v.return}0<m.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==sR&&(p=n.relatedTarget||n.fromElement)&&($d(p)||p[Yl]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?$d(p):null,p!==null&&(y=Dh(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(m=$5,S="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=M5,S="onPointerLeave",g="onPointerEnter",v="pointer"),y=h==null?d:Op(h),_=p==null?d:Op(p),d=new m(S,v+"leave",h,n,c),d.target=y,d.relatedTarget=_,S=null,$d(c)===l&&(m=new m(g,v+"enter",p,n,c),m.target=_,m.relatedTarget=y,S=m),y=S,h&&p)t:{for(m=h,g=p,v=0,_=m;_;_=ep(_))v++;for(_=0,S=g;S;S=ep(S))_++;for(;0<v-_;)m=ep(m),v--;for(;0<_-v;)g=ep(g),_--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=ep(m),g=ep(g)}m=null}else m=null;h!==null&&Y5(f,d,h,m,!1),p!==null&&y!==null&&Y5(f,y,p,m,!0)}}e:{if(d=l?Op(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var T=Hme;else if(B5(d))if(QG)T=Yme;else{T=qme;var E=Wme}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=Gme);if(T&&(T=T(e,l))){KG(f,T,n,c);break e}E&&E(e,d,l),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&eR(d,"number",d.value)}switch(E=l?Op(l):window,e){case"focusin":(B5(E)||E.contentEditable==="true")&&(Pp=E,dR=l,_y=null);break;case"focusout":_y=dR=Pp=null;break;case"mousedown":hR=!0;break;case"contextmenu":case"mouseup":case"dragend":hR=!1,W5(f,n,c);break;case"selectionchange":if(Xme)break;case"keydown":case"keyup":W5(f,n,c)}var x;if(VD)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Cp?GG(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(qG&&n.locale!=="ko"&&(Cp||P!=="onCompositionStart"?P==="onCompositionEnd"&&Cp&&(x=WG()):(Zc=c,jD="value"in Zc?Zc.value:Zc.textContent,Cp=!0)),E=gE(l,P),0<E.length&&(P=new L5(P,e,null,n,c),f.push({event:P,listeners:E}),x?P.data=x:(x=YG(n),x!==null&&(P.data=x)))),(x=jme?Bme(e,n):Ume(e,n))&&(l=gE(l,"onBeforeInput"),0<l.length&&(c=new L5("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=x))}oY(f,t)})}function hv(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gE(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ov(e,n),s!=null&&r.unshift(hv(e,s,i)),s=ov(e,t),s!=null&&r.push(hv(e,s,i))),e=e.return}return r}function ep(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Y5(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=ov(n,s),u!=null&&o.unshift(hv(n,u,a))):i||(u=ov(n,s),u!=null&&o.push(hv(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var tge=/\r\n?/g,nge=/\u0000|\uFFFD/g;function K5(e){return(typeof e=="string"?e:""+e).replace(tge,`
`).replace(nge,"")}function Q1(e,t,n){if(t=K5(t),K5(e)!==t&&n)throw Error(je(425))}function yE(){}var pR=null,mR=null;function gR(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yR=typeof setTimeout=="function"?setTimeout:void 0,rge=typeof clearTimeout=="function"?clearTimeout:void 0,Q5=typeof Promise=="function"?Promise:void 0,ige=typeof queueMicrotask=="function"?queueMicrotask:typeof Q5<"u"?function(e){return Q5.resolve(null).then(e).catch(sge)}:yR;function sge(e){setTimeout(function(){throw e})}function bA(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),lv(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lv(t)}function df(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function X5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bg=Math.random().toString(36).slice(2),Su="__reactFiber$"+bg,pv="__reactProps$"+bg,Yl="__reactContainer$"+bg,vR="__reactEvents$"+bg,oge="__reactListeners$"+bg,age="__reactHandles$"+bg;function $d(e){var t=e[Su];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yl]||n[Su]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=X5(e);e!==null;){if(n=e[Su])return n;e=X5(e)}return t}e=n,n=e.parentNode}return null}function N_(e){return e=e[Su]||e[Yl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Op(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(je(33))}function cI(e){return e[pv]||null}var _R=[],Rp=-1;function Zf(e){return{current:e}}function or(e){0>Rp||(e.current=_R[Rp],_R[Rp]=null,Rp--)}function Zn(e,t){Rp++,_R[Rp]=e.current,e.current=t}var Rf={},us=Zf(Rf),Js=Zf(!1),oh=Rf;function Am(e,t){var n=e.type.contextTypes;if(!n)return Rf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Zs(e){return e=e.childContextTypes,e!=null}function vE(){or(Js),or(us)}function J5(e,t,n){if(us.current!==Rf)throw Error(je(168));Zn(us,t),Zn(Js,n)}function uY(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(je(108,Wpe(e)||"Unknown",i));return _r({},n,r)}function _E(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rf,oh=us.current,Zn(us,e),Zn(Js,Js.current),!0}function Z5(e,t,n){var r=e.stateNode;if(!r)throw Error(je(169));n?(e=uY(e,t,oh),r.__reactInternalMemoizedMergedChildContext=e,or(Js),or(us),Zn(us,e)):or(Js),Zn(Js,n)}var Cl=null,fI=!1,wA=!1;function lY(e){Cl===null?Cl=[e]:Cl.push(e)}function uge(e){fI=!0,lY(e)}function ed(){if(!wA&&Cl!==null){wA=!0;var e=0,t=jn;try{var n=Cl;for(jn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cl=null,fI=!1}catch(i){throw Cl!==null&&(Cl=Cl.slice(e+1)),DG($D,ed),i}finally{jn=t,wA=!1}}return null}var Np=[],kp=0,bE=null,wE=0,Yo=[],Ko=0,ah=null,Dl=1,$l="";function yd(e,t){Np[kp++]=wE,Np[kp++]=bE,bE=e,wE=t}function cY(e,t,n){Yo[Ko++]=Dl,Yo[Ko++]=$l,Yo[Ko++]=ah,ah=e;var r=Dl;e=$l;var i=32-Wa(r)-1;r&=~(1<<i),n+=1;var s=32-Wa(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dl=1<<32-Wa(t)+i|n<<i|r,$l=s+e}else Dl=1<<s|n<<i|r,$l=e}function HD(e){e.return!==null&&(yd(e,1),cY(e,1,0))}function WD(e){for(;e===bE;)bE=Np[--kp],Np[kp]=null,wE=Np[--kp],Np[kp]=null;for(;e===ah;)ah=Yo[--Ko],Yo[Ko]=null,$l=Yo[--Ko],Yo[Ko]=null,Dl=Yo[--Ko],Yo[Ko]=null}var Ao=null,To=null,pr=!1,$a=null;function fY(e,t){var n=ia(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function eF(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ao=e,To=df(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ao=e,To=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ah!==null?{id:Dl,overflow:$l}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ia(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ao=e,To=null,!0):!1;default:return!1}}function bR(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wR(e){if(pr){var t=To;if(t){var n=t;if(!eF(e,t)){if(bR(e))throw Error(je(418));t=df(n.nextSibling);var r=Ao;t&&eF(e,t)?fY(r,n):(e.flags=e.flags&-4097|2,pr=!1,Ao=e)}}else{if(bR(e))throw Error(je(418));e.flags=e.flags&-4097|2,pr=!1,Ao=e}}}function tF(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ao=e}function X1(e){if(e!==Ao)return!1;if(!pr)return tF(e),pr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gR(e.type,e.memoizedProps)),t&&(t=To)){if(bR(e))throw dY(),Error(je(418));for(;t;)fY(e,t),t=df(t.nextSibling)}if(tF(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(je(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){To=df(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}To=null}}else To=Ao?df(e.stateNode.nextSibling):null;return!0}function dY(){for(var e=To;e;)e=df(e.nextSibling)}function Om(){To=Ao=null,pr=!1}function qD(e){$a===null?$a=[e]:$a.push(e)}var lge=hc.ReactCurrentBatchConfig;function Na(e,t){if(e&&e.defaultProps){t=_r({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var EE=Zf(null),SE=null,Dp=null,GD=null;function YD(){GD=Dp=SE=null}function KD(e){var t=EE.current;or(EE),e._currentValue=t}function ER(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zp(e,t){SE=e,GD=Dp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ys=!0),e.firstContext=null)}function aa(e){var t=e._currentValue;if(GD!==e)if(e={context:e,memoizedValue:t,next:null},Dp===null){if(SE===null)throw Error(je(308));Dp=e,SE.dependencies={lanes:0,firstContext:e}}else Dp=Dp.next=e;return t}var Ld=null;function QD(e){Ld===null?Ld=[e]:Ld.push(e)}function hY(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,QD(t)):(n.next=i.next,i.next=n),t.interleaved=n,Kl(e,r)}function Kl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Uc=!1;function XD(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pY(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,wn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Kl(e,n)}return i=r.interleaved,i===null?(t.next=t,QD(r)):(t.next=i.next,i.next=t),r.interleaved=t,Kl(e,n)}function _w(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,LD(e,n)}}function nF(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function TE(e,t,n,r){var i=e.updateQueue;Uc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=_r({},f,d);break e;case 2:Uc=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);lh|=o,e.lanes=o,e.memoizedState=f}}function rF(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(je(191,i));i.call(r)}}}var mY=new hG.Component().refs;function SR(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_r({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var dI={isMounted:function(e){return(e=e._reactInternals)?Dh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Es(),i=mf(e),s=Vl(r,i);s.payload=t,n!=null&&(s.callback=n),t=hf(e,s,i),t!==null&&(qa(t,e,i,r),_w(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Es(),i=mf(e),s=Vl(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=hf(e,s,i),t!==null&&(qa(t,e,i,r),_w(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Es(),r=mf(e),i=Vl(n,r);i.tag=2,t!=null&&(i.callback=t),t=hf(e,i,r),t!==null&&(qa(t,e,r,n),_w(t,e,r))}};function iF(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!fv(n,r)||!fv(i,s):!0}function gY(e,t,n){var r=!1,i=Rf,s=t.contextType;return typeof s=="object"&&s!==null?s=aa(s):(i=Zs(t)?oh:us.current,r=t.contextTypes,s=(r=r!=null)?Am(e,i):Rf),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dI,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function sF(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&dI.enqueueReplaceState(t,t.state,null)}function TR(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mY,XD(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=aa(s):(s=Zs(t)?oh:us.current,i.context=Am(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(SR(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&dI.enqueueReplaceState(i,i.state,null),TE(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function p0(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(je(309));var r=n.stateNode}if(!r)throw Error(je(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===mY&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(je(284));if(!n._owner)throw Error(je(290,e))}return e}function J1(e,t){throw e=Object.prototype.toString.call(t),Error(je(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oF(e){var t=e._init;return t(e._payload)}function yY(e){function t(g,v){if(e){var _=g.deletions;_===null?(g.deletions=[v],g.flags|=16):_.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=gf(g,v),g.index=0,g.sibling=null,g}function s(g,v,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<v?(g.flags|=2,v):_):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,_,S){return v===null||v.tag!==6?(v=PA(_,g.mode,S),v.return=g,v):(v=i(v,_),v.return=g,v)}function u(g,v,_,S){var T=_.type;return T===Ip?c(g,v,_.props.children,S,_.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Bc&&oF(T)===v.type)?(S=i(v,_.props),S.ref=p0(g,v,_),S.return=g,S):(S=xw(_.type,_.key,_.props,null,g.mode,S),S.ref=p0(g,v,_),S.return=g,S)}function l(g,v,_,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=AA(_,g.mode,S),v.return=g,v):(v=i(v,_.children||[]),v.return=g,v)}function c(g,v,_,S,T){return v===null||v.tag!==7?(v=Zd(_,g.mode,S,T),v.return=g,v):(v=i(v,_),v.return=g,v)}function f(g,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=PA(""+v,g.mode,_),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case U1:return _=xw(v.type,v.key,v.props,null,g.mode,_),_.ref=p0(g,null,v),_.return=g,_;case xp:return v=AA(v,g.mode,_),v.return=g,v;case Bc:var S=v._init;return f(g,S(v._payload),_)}if(K0(v)||l0(v))return v=Zd(v,g.mode,_,null),v.return=g,v;J1(g,v)}return null}function d(g,v,_,S){var T=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:a(g,v,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case U1:return _.key===T?u(g,v,_,S):null;case xp:return _.key===T?l(g,v,_,S):null;case Bc:return T=_._init,d(g,v,T(_._payload),S)}if(K0(_)||l0(_))return T!==null?null:c(g,v,_,S,null);J1(g,_)}return null}function h(g,v,_,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(_)||null,a(v,g,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case U1:return g=g.get(S.key===null?_:S.key)||null,u(v,g,S,T);case xp:return g=g.get(S.key===null?_:S.key)||null,l(v,g,S,T);case Bc:var E=S._init;return h(g,v,_,E(S._payload),T)}if(K0(S)||l0(S))return g=g.get(_)||null,c(v,g,S,T,null);J1(v,S)}return null}function p(g,v,_,S){for(var T=null,E=null,x=v,P=v=0,M=null;x!==null&&P<_.length;P++){x.index>P?(M=x,x=null):M=x.sibling;var L=d(g,x,_[P],S);if(L===null){x===null&&(x=M);break}e&&x&&L.alternate===null&&t(g,x),v=s(L,v,P),E===null?T=L:E.sibling=L,E=L,x=M}if(P===_.length)return n(g,x),pr&&yd(g,P),T;if(x===null){for(;P<_.length;P++)x=f(g,_[P],S),x!==null&&(v=s(x,v,P),E===null?T=x:E.sibling=x,E=x);return pr&&yd(g,P),T}for(x=r(g,x);P<_.length;P++)M=h(x,g,P,_[P],S),M!==null&&(e&&M.alternate!==null&&x.delete(M.key===null?P:M.key),v=s(M,v,P),E===null?T=M:E.sibling=M,E=M);return e&&x.forEach(function(F){return t(g,F)}),pr&&yd(g,P),T}function m(g,v,_,S){var T=l0(_);if(typeof T!="function")throw Error(je(150));if(_=T.call(_),_==null)throw Error(je(151));for(var E=T=null,x=v,P=v=0,M=null,L=_.next();x!==null&&!L.done;P++,L=_.next()){x.index>P?(M=x,x=null):M=x.sibling;var F=d(g,x,L.value,S);if(F===null){x===null&&(x=M);break}e&&x&&F.alternate===null&&t(g,x),v=s(F,v,P),E===null?T=F:E.sibling=F,E=F,x=M}if(L.done)return n(g,x),pr&&yd(g,P),T;if(x===null){for(;!L.done;P++,L=_.next())L=f(g,L.value,S),L!==null&&(v=s(L,v,P),E===null?T=L:E.sibling=L,E=L);return pr&&yd(g,P),T}for(x=r(g,x);!L.done;P++,L=_.next())L=h(x,g,P,L.value,S),L!==null&&(e&&L.alternate!==null&&x.delete(L.key===null?P:L.key),v=s(L,v,P),E===null?T=L:E.sibling=L,E=L);return e&&x.forEach(function(V){return t(g,V)}),pr&&yd(g,P),T}function y(g,v,_,S){if(typeof _=="object"&&_!==null&&_.type===Ip&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case U1:e:{for(var T=_.key,E=v;E!==null;){if(E.key===T){if(T=_.type,T===Ip){if(E.tag===7){n(g,E.sibling),v=i(E,_.props.children),v.return=g,g=v;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Bc&&oF(T)===E.type){n(g,E.sibling),v=i(E,_.props),v.ref=p0(g,E,_),v.return=g,g=v;break e}n(g,E);break}else t(g,E);E=E.sibling}_.type===Ip?(v=Zd(_.props.children,g.mode,S,_.key),v.return=g,g=v):(S=xw(_.type,_.key,_.props,null,g.mode,S),S.ref=p0(g,v,_),S.return=g,g=S)}return o(g);case xp:e:{for(E=_.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(g,v.sibling),v=i(v,_.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=AA(_,g.mode,S),v.return=g,g=v}return o(g);case Bc:return E=_._init,y(g,v,E(_._payload),S)}if(K0(_))return p(g,v,_,S);if(l0(_))return m(g,v,_,S);J1(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,_),v.return=g,g=v):(n(g,v),v=PA(_,g.mode,S),v.return=g,g=v),o(g)):n(g,v)}return y}var Rm=yY(!0),vY=yY(!1),k_={},Vu=Zf(k_),mv=Zf(k_),gv=Zf(k_);function Md(e){if(e===k_)throw Error(je(174));return e}function JD(e,t){switch(Zn(gv,t),Zn(mv,e),Zn(Vu,k_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nR(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nR(t,e)}or(Vu),Zn(Vu,t)}function Nm(){or(Vu),or(mv),or(gv)}function _Y(e){Md(gv.current);var t=Md(Vu.current),n=nR(t,e.type);t!==n&&(Zn(mv,e),Zn(Vu,n))}function ZD(e){mv.current===e&&(or(Vu),or(mv))}var yr=Zf(0);function xE(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var EA=[];function e$(){for(var e=0;e<EA.length;e++)EA[e]._workInProgressVersionPrimary=null;EA.length=0}var bw=hc.ReactCurrentDispatcher,SA=hc.ReactCurrentBatchConfig,uh=0,vr=null,Zr=null,mi=null,IE=!1,by=!1,yv=0,cge=0;function Gi(){throw Error(je(321))}function t$(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qa(e[n],t[n]))return!1;return!0}function n$(e,t,n,r,i,s){if(uh=s,vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bw.current=e===null||e.memoizedState===null?pge:mge,e=n(r,i),by){s=0;do{if(by=!1,yv=0,25<=s)throw Error(je(301));s+=1,mi=Zr=null,t.updateQueue=null,bw.current=gge,e=n(r,i)}while(by)}if(bw.current=CE,t=Zr!==null&&Zr.next!==null,uh=0,mi=Zr=vr=null,IE=!1,t)throw Error(je(300));return e}function r$(){var e=yv!==0;return yv=0,e}function hu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?vr.memoizedState=mi=e:mi=mi.next=e,mi}function ua(){if(Zr===null){var e=vr.alternate;e=e!==null?e.memoizedState:null}else e=Zr.next;var t=mi===null?vr.memoizedState:mi.next;if(t!==null)mi=t,Zr=e;else{if(e===null)throw Error(je(310));Zr=e,e={memoizedState:Zr.memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},mi===null?vr.memoizedState=mi=e:mi=mi.next=e}return mi}function vv(e,t){return typeof t=="function"?t(e):t}function TA(e){var t=ua(),n=t.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=e;var r=Zr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((uh&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,vr.lanes|=c,lh|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Qa(r,t.memoizedState)||(Ys=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,vr.lanes|=s,lh|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xA(e){var t=ua(),n=t.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Qa(s,t.memoizedState)||(Ys=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function bY(){}function wY(e,t){var n=vr,r=ua(),i=t(),s=!Qa(r.memoizedState,i);if(s&&(r.memoizedState=i,Ys=!0),r=r.queue,i$(TY.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||mi!==null&&mi.memoizedState.tag&1){if(n.flags|=2048,_v(9,SY.bind(null,n,r,i,t),void 0,null),vi===null)throw Error(je(349));uh&30||EY(n,t,i)}return i}function EY(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function SY(e,t,n,r){t.value=n,t.getSnapshot=r,xY(t)&&IY(e)}function TY(e,t,n){return n(function(){xY(t)&&IY(e)})}function xY(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qa(e,n)}catch{return!0}}function IY(e){var t=Kl(e,1);t!==null&&qa(t,e,1,-1)}function aF(e){var t=hu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vv,lastRenderedState:e},t.queue=e,e=e.dispatch=hge.bind(null,vr,e),[t.memoizedState,e]}function _v(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function CY(){return ua().memoizedState}function ww(e,t,n,r){var i=hu();vr.flags|=e,i.memoizedState=_v(1|t,n,void 0,r===void 0?null:r)}function hI(e,t,n,r){var i=ua();r=r===void 0?null:r;var s=void 0;if(Zr!==null){var o=Zr.memoizedState;if(s=o.destroy,r!==null&&t$(r,o.deps)){i.memoizedState=_v(t,n,s,r);return}}vr.flags|=e,i.memoizedState=_v(1|t,n,s,r)}function uF(e,t){return ww(8390656,8,e,t)}function i$(e,t){return hI(2048,8,e,t)}function PY(e,t){return hI(4,2,e,t)}function AY(e,t){return hI(4,4,e,t)}function OY(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RY(e,t,n){return n=n!=null?n.concat([e]):null,hI(4,4,OY.bind(null,t,e),n)}function s$(){}function NY(e,t){var n=ua();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&t$(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kY(e,t){var n=ua();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&t$(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function DY(e,t,n){return uh&21?(Qa(n,t)||(n=MG(),vr.lanes|=n,lh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ys=!0),e.memoizedState=n)}function fge(e,t){var n=jn;jn=n!==0&&4>n?n:4,e(!0);var r=SA.transition;SA.transition={};try{e(!1),t()}finally{jn=n,SA.transition=r}}function $Y(){return ua().memoizedState}function dge(e,t,n){var r=mf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LY(e))MY(t,n);else if(n=hY(e,t,n,r),n!==null){var i=Es();qa(n,e,r,i),FY(n,t,r)}}function hge(e,t,n){var r=mf(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LY(e))MY(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Qa(a,o)){var u=t.interleaved;u===null?(i.next=i,QD(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=hY(e,t,i,r),n!==null&&(i=Es(),qa(n,e,r,i),FY(n,t,r))}}function LY(e){var t=e.alternate;return e===vr||t!==null&&t===vr}function MY(e,t){by=IE=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function FY(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,LD(e,n)}}var CE={readContext:aa,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useInsertionEffect:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useDeferredValue:Gi,useTransition:Gi,useMutableSource:Gi,useSyncExternalStore:Gi,useId:Gi,unstable_isNewReconciler:!1},pge={readContext:aa,useCallback:function(e,t){return hu().memoizedState=[e,t===void 0?null:t],e},useContext:aa,useEffect:uF,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ww(4194308,4,OY.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ww(4194308,4,e,t)},useInsertionEffect:function(e,t){return ww(4,2,e,t)},useMemo:function(e,t){var n=hu();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hu();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=dge.bind(null,vr,e),[r.memoizedState,e]},useRef:function(e){var t=hu();return e={current:e},t.memoizedState=e},useState:aF,useDebugValue:s$,useDeferredValue:function(e){return hu().memoizedState=e},useTransition:function(){var e=aF(!1),t=e[0];return e=fge.bind(null,e[1]),hu().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vr,i=hu();if(pr){if(n===void 0)throw Error(je(407));n=n()}else{if(n=t(),vi===null)throw Error(je(349));uh&30||EY(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,uF(TY.bind(null,r,s,e),[e]),r.flags|=2048,_v(9,SY.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=hu(),t=vi.identifierPrefix;if(pr){var n=$l,r=Dl;n=(r&~(1<<32-Wa(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cge++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mge={readContext:aa,useCallback:NY,useContext:aa,useEffect:i$,useImperativeHandle:RY,useInsertionEffect:PY,useLayoutEffect:AY,useMemo:kY,useReducer:TA,useRef:CY,useState:function(){return TA(vv)},useDebugValue:s$,useDeferredValue:function(e){var t=ua();return DY(t,Zr.memoizedState,e)},useTransition:function(){var e=TA(vv)[0],t=ua().memoizedState;return[e,t]},useMutableSource:bY,useSyncExternalStore:wY,useId:$Y,unstable_isNewReconciler:!1},gge={readContext:aa,useCallback:NY,useContext:aa,useEffect:i$,useImperativeHandle:RY,useInsertionEffect:PY,useLayoutEffect:AY,useMemo:kY,useReducer:xA,useRef:CY,useState:function(){return xA(vv)},useDebugValue:s$,useDeferredValue:function(e){var t=ua();return Zr===null?t.memoizedState=e:DY(t,Zr.memoizedState,e)},useTransition:function(){var e=xA(vv)[0],t=ua().memoizedState;return[e,t]},useMutableSource:bY,useSyncExternalStore:wY,useId:$Y,unstable_isNewReconciler:!1};function km(e,t){try{var n="",r=t;do n+=Hpe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function IA(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xR(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yge=typeof WeakMap=="function"?WeakMap:Map;function jY(e,t,n){n=Vl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){AE||(AE=!0,$R=r),xR(e,t)},n}function BY(e,t,n){n=Vl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){xR(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xR(e,t),typeof r!="function"&&(pf===null?pf=new Set([this]):pf.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function lF(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yge;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Rge.bind(null,e,t,n),t.then(e,e))}function cF(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fF(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vl(-1,1),t.tag=2,hf(n,t,1))),n.lanes|=1),e)}var vge=hc.ReactCurrentOwner,Ys=!1;function gs(e,t,n,r){t.child=e===null?vY(t,null,n,r):Rm(t,e.child,n,r)}function dF(e,t,n,r,i){n=n.render;var s=t.ref;return Zp(t,i),r=n$(e,t,n,r,s,i),n=r$(),e!==null&&!Ys?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ql(e,t,i)):(pr&&n&&HD(t),t.flags|=1,gs(e,t,r,i),t.child)}function hF(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!h$(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,UY(e,t,s,r,i)):(e=xw(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:fv,n(o,r)&&e.ref===t.ref)return Ql(e,t,i)}return t.flags|=1,e=gf(s,r),e.ref=t.ref,e.return=t,t.child=e}function UY(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(fv(s,r)&&e.ref===t.ref)if(Ys=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ys=!0);else return t.lanes=e.lanes,Ql(e,t,i)}return IR(e,t,n,r,i)}function VY(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zn(Lp,_o),_o|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Zn(Lp,_o),_o|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Zn(Lp,_o),_o|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Zn(Lp,_o),_o|=r;return gs(e,t,i,n),t.child}function zY(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function IR(e,t,n,r,i){var s=Zs(n)?oh:us.current;return s=Am(t,s),Zp(t,i),n=n$(e,t,n,r,s,i),r=r$(),e!==null&&!Ys?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ql(e,t,i)):(pr&&r&&HD(t),t.flags|=1,gs(e,t,n,i),t.child)}function pF(e,t,n,r,i){if(Zs(n)){var s=!0;_E(t)}else s=!1;if(Zp(t,i),t.stateNode===null)Ew(e,t),gY(t,n,r),TR(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=aa(l):(l=Zs(n)?oh:us.current,l=Am(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&sF(t,o,r,l),Uc=!1;var d=t.memoizedState;o.state=d,TE(t,r,o,i),u=t.memoizedState,a!==r||d!==u||Js.current||Uc?(typeof c=="function"&&(SR(t,n,c,r),u=t.memoizedState),(a=Uc||iF(t,n,a,r,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,pY(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Na(t.type,a),o.props=l,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=aa(u):(u=Zs(n)?oh:us.current,u=Am(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&sF(t,o,r,u),Uc=!1,d=t.memoizedState,o.state=d,TE(t,r,o,i);var p=t.memoizedState;a!==f||d!==p||Js.current||Uc?(typeof h=="function"&&(SR(t,n,h,r),p=t.memoizedState),(l=Uc||iF(t,n,l,r,d,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return CR(e,t,n,r,s,i)}function CR(e,t,n,r,i,s){zY(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Z5(t,n,!1),Ql(e,t,s);r=t.stateNode,vge.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Rm(t,e.child,null,s),t.child=Rm(t,null,a,s)):gs(e,t,a,s),t.memoizedState=r.state,i&&Z5(t,n,!0),t.child}function HY(e){var t=e.stateNode;t.pendingContext?J5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&J5(e,t.context,!1),JD(e,t.containerInfo)}function mF(e,t,n,r,i){return Om(),qD(i),t.flags|=256,gs(e,t,n,r),t.child}var PR={dehydrated:null,treeContext:null,retryLane:0};function AR(e){return{baseLanes:e,cachePool:null,transitions:null}}function WY(e,t,n){var r=t.pendingProps,i=yr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Zn(yr,i&1),e===null)return wR(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=gI(o,r,0,null),e=Zd(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=AR(n),t.memoizedState=PR,e):o$(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _ge(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=gf(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=gf(a,s):(s=Zd(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?AR(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=PR,r}return s=e.child,e=s.sibling,r=gf(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function o$(e,t){return t=gI({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Z1(e,t,n,r){return r!==null&&qD(r),Rm(t,e.child,null,n),e=o$(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _ge(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=IA(Error(je(422))),Z1(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=gI({mode:"visible",children:r.children},i,0,null),s=Zd(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Rm(t,e.child,null,o),t.child.memoizedState=AR(o),t.memoizedState=PR,s);if(!(t.mode&1))return Z1(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(je(419)),r=IA(s,r,void 0),Z1(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ys||a){if(r=vi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Kl(e,i),qa(r,e,i,-1))}return d$(),r=IA(Error(je(421))),Z1(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Nge.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,To=df(i.nextSibling),Ao=t,pr=!0,$a=null,e!==null&&(Yo[Ko++]=Dl,Yo[Ko++]=$l,Yo[Ko++]=ah,Dl=e.id,$l=e.overflow,ah=t),t=o$(t,r.children),t.flags|=4096,t)}function gF(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ER(e.return,t,n)}function CA(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qY(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(gs(e,t,r.children,n),r=yr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gF(e,n,t);else if(e.tag===19)gF(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Zn(yr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&xE(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),CA(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xE(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}CA(t,!0,n,null,s);break;case"together":CA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ew(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ql(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),lh|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(je(153));if(t.child!==null){for(e=t.child,n=gf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bge(e,t,n){switch(t.tag){case 3:HY(t),Om();break;case 5:_Y(t);break;case 1:Zs(t.type)&&_E(t);break;case 4:JD(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Zn(EE,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Zn(yr,yr.current&1),t.flags|=128,null):n&t.child.childLanes?WY(e,t,n):(Zn(yr,yr.current&1),e=Ql(e,t,n),e!==null?e.sibling:null);Zn(yr,yr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qY(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zn(yr,yr.current),r)break;return null;case 22:case 23:return t.lanes=0,VY(e,t,n)}return Ql(e,t,n)}var GY,OR,YY,KY;GY=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};OR=function(){};YY=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Md(Vu.current);var s=null;switch(n){case"input":i=J2(e,i),r=J2(e,r),s=[];break;case"select":i=_r({},i,{value:void 0}),r=_r({},r,{value:void 0}),s=[];break;case"textarea":i=tR(e,i),r=tR(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yE)}rR(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(iv.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(iv.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&nr("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};KY=function(e,t,n,r){n!==r&&(t.flags|=4)};function m0(e,t){if(!pr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wge(e,t,n){var r=t.pendingProps;switch(WD(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(t),null;case 1:return Zs(t.type)&&vE(),Yi(t),null;case 3:return r=t.stateNode,Nm(),or(Js),or(us),e$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(X1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$a!==null&&(FR($a),$a=null))),OR(e,t),Yi(t),null;case 5:ZD(t);var i=Md(gv.current);if(n=t.type,e!==null&&t.stateNode!=null)YY(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(je(166));return Yi(t),null}if(e=Md(Vu.current),X1(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Su]=t,r[pv]=s,e=(t.mode&1)!==0,n){case"dialog":nr("cancel",r),nr("close",r);break;case"iframe":case"object":case"embed":nr("load",r);break;case"video":case"audio":for(i=0;i<X0.length;i++)nr(X0[i],r);break;case"source":nr("error",r);break;case"img":case"image":case"link":nr("error",r),nr("load",r);break;case"details":nr("toggle",r);break;case"input":x5(r,s),nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},nr("invalid",r);break;case"textarea":C5(r,s),nr("invalid",r)}rR(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Q1(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Q1(r.textContent,a,e),i=["children",""+a]):iv.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nr("scroll",r)}switch(n){case"input":V1(r),I5(r,s,!0);break;case"textarea":V1(r),P5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yE)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=EG(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Su]=t,e[pv]=r,GY(e,t,!1,!1),t.stateNode=e;e:{switch(o=iR(n,r),n){case"dialog":nr("cancel",e),nr("close",e),i=r;break;case"iframe":case"object":case"embed":nr("load",e),i=r;break;case"video":case"audio":for(i=0;i<X0.length;i++)nr(X0[i],e);i=r;break;case"source":nr("error",e),i=r;break;case"img":case"image":case"link":nr("error",e),nr("load",e),i=r;break;case"details":nr("toggle",e),i=r;break;case"input":x5(e,r),i=J2(e,r),nr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=_r({},r,{value:void 0}),nr("invalid",e);break;case"textarea":C5(e,r),i=tR(e,r),nr("invalid",e);break;default:i=r}rR(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?xG(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&SG(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&sv(e,u):typeof u=="number"&&sv(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(iv.hasOwnProperty(s)?u!=null&&s==="onScroll"&&nr("scroll",e):u!=null&&OD(e,s,u,o))}switch(n){case"input":V1(e),I5(e,r,!1);break;case"textarea":V1(e),P5(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Of(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Kp(e,!!r.multiple,s,!1):r.defaultValue!=null&&Kp(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=yE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yi(t),null;case 6:if(e&&t.stateNode!=null)KY(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(je(166));if(n=Md(gv.current),Md(Vu.current),X1(t)){if(r=t.stateNode,n=t.memoizedProps,r[Su]=t,(s=r.nodeValue!==n)&&(e=Ao,e!==null))switch(e.tag){case 3:Q1(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Q1(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Su]=t,t.stateNode=r}return Yi(t),null;case 13:if(or(yr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pr&&To!==null&&t.mode&1&&!(t.flags&128))dY(),Om(),t.flags|=98560,s=!1;else if(s=X1(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(je(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[Su]=t}else Om(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yi(t),s=!1}else $a!==null&&(FR($a),$a=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||yr.current&1?ii===0&&(ii=3):d$())),t.updateQueue!==null&&(t.flags|=4),Yi(t),null);case 4:return Nm(),OR(e,t),e===null&&dv(t.stateNode.containerInfo),Yi(t),null;case 10:return KD(t.type._context),Yi(t),null;case 17:return Zs(t.type)&&vE(),Yi(t),null;case 19:if(or(yr),s=t.memoizedState,s===null)return Yi(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)m0(s,!1);else{if(ii!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xE(e),o!==null){for(t.flags|=128,m0(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Zn(yr,yr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Mr()>Dm&&(t.flags|=128,r=!0,m0(s,!1),t.lanes=4194304)}else{if(!r)if(e=xE(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),m0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pr)return Yi(t),null}else 2*Mr()-s.renderingStartTime>Dm&&n!==1073741824&&(t.flags|=128,r=!0,m0(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Mr(),t.sibling=null,n=yr.current,Zn(yr,r?n&1|2:n&1),t):(Yi(t),null);case 22:case 23:return f$(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_o&1073741824&&(Yi(t),t.subtreeFlags&6&&(t.flags|=8192)):Yi(t),null;case 24:return null;case 25:return null}throw Error(je(156,t.tag))}function Ege(e,t){switch(WD(t),t.tag){case 1:return Zs(t.type)&&vE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nm(),or(Js),or(us),e$(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ZD(t),null;case 13:if(or(yr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(je(340));Om()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return or(yr),null;case 4:return Nm(),null;case 10:return KD(t.type._context),null;case 22:case 23:return f$(),null;case 24:return null;default:return null}}var eb=!1,ts=!1,Sge=typeof WeakSet=="function"?WeakSet:Set,nt=null;function $p(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ir(e,t,r)}else n.current=null}function RR(e,t,n){try{n()}catch(r){Ir(e,t,r)}}var yF=!1;function Tge(e,t){if(pR=pE,e=ZG(),zD(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=o),d===s&&++c===r&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(mR={focusedElem:e,selectionRange:n},pE=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){t=nt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Na(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(S){Ir(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}return p=yF,yF=!1,p}function wy(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&RR(t,n,s)}i=i.next}while(i!==r)}}function pI(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function NR(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function QY(e){var t=e.alternate;t!==null&&(e.alternate=null,QY(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Su],delete t[pv],delete t[vR],delete t[oge],delete t[age])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function XY(e){return e.tag===5||e.tag===3||e.tag===4}function vF(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||XY(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kR(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yE));else if(r!==4&&(e=e.child,e!==null))for(kR(e,t,n),e=e.sibling;e!==null;)kR(e,t,n),e=e.sibling}function DR(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(DR(e,t,n),e=e.sibling;e!==null;)DR(e,t,n),e=e.sibling}var Ai=null,ka=!1;function Ic(e,t,n){for(n=n.child;n!==null;)JY(e,t,n),n=n.sibling}function JY(e,t,n){if(Uu&&typeof Uu.onCommitFiberUnmount=="function")try{Uu.onCommitFiberUnmount(oI,n)}catch{}switch(n.tag){case 5:ts||$p(n,t);case 6:var r=Ai,i=ka;Ai=null,Ic(e,t,n),Ai=r,ka=i,Ai!==null&&(ka?(e=Ai,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ai.removeChild(n.stateNode));break;case 18:Ai!==null&&(ka?(e=Ai,n=n.stateNode,e.nodeType===8?bA(e.parentNode,n):e.nodeType===1&&bA(e,n),lv(e)):bA(Ai,n.stateNode));break;case 4:r=Ai,i=ka,Ai=n.stateNode.containerInfo,ka=!0,Ic(e,t,n),Ai=r,ka=i;break;case 0:case 11:case 14:case 15:if(!ts&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&RR(n,t,o),i=i.next}while(i!==r)}Ic(e,t,n);break;case 1:if(!ts&&($p(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ir(n,t,a)}Ic(e,t,n);break;case 21:Ic(e,t,n);break;case 22:n.mode&1?(ts=(r=ts)||n.memoizedState!==null,Ic(e,t,n),ts=r):Ic(e,t,n);break;default:Ic(e,t,n)}}function _F(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Sge),t.forEach(function(r){var i=kge.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ai=a.stateNode,ka=!1;break e;case 3:Ai=a.stateNode.containerInfo,ka=!0;break e;case 4:Ai=a.stateNode.containerInfo,ka=!0;break e}a=a.return}if(Ai===null)throw Error(je(160));JY(s,o,i),Ai=null,ka=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Ir(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ZY(t,e),t=t.sibling}function ZY(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xa(t,e),uu(e),r&4){try{wy(3,e,e.return),pI(3,e)}catch(m){Ir(e,e.return,m)}try{wy(5,e,e.return)}catch(m){Ir(e,e.return,m)}}break;case 1:xa(t,e),uu(e),r&512&&n!==null&&$p(n,n.return);break;case 5:if(xa(t,e),uu(e),r&512&&n!==null&&$p(n,n.return),e.flags&32){var i=e.stateNode;try{sv(i,"")}catch(m){Ir(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&bG(i,s),iR(a,o);var l=iR(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?xG(i,f):c==="dangerouslySetInnerHTML"?SG(i,f):c==="children"?sv(i,f):OD(i,c,f,l)}switch(a){case"input":Z2(i,s);break;case"textarea":wG(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Kp(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?Kp(i,!!s.multiple,s.defaultValue,!0):Kp(i,!!s.multiple,s.multiple?[]:"",!1))}i[pv]=s}catch(m){Ir(e,e.return,m)}}break;case 6:if(xa(t,e),uu(e),r&4){if(e.stateNode===null)throw Error(je(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Ir(e,e.return,m)}}break;case 3:if(xa(t,e),uu(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lv(t.containerInfo)}catch(m){Ir(e,e.return,m)}break;case 4:xa(t,e),uu(e);break;case 13:xa(t,e),uu(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(l$=Mr())),r&4&&_F(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ts=(l=ts)||c,xa(t,e),ts=l):xa(t,e),uu(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(nt=e,c=e.child;c!==null;){for(f=nt=c;nt!==null;){switch(d=nt,h=d.child,d.tag){case 0:case 11:case 14:case 15:wy(4,d,d.return);break;case 1:$p(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Ir(r,n,m)}}break;case 5:$p(d,d.return);break;case 22:if(d.memoizedState!==null){wF(f);continue}}h!==null?(h.return=d,nt=h):wF(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=TG("display",o))}catch(m){Ir(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Ir(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xa(t,e),uu(e),r&4&&_F(e);break;case 21:break;default:xa(t,e),uu(e)}}function uu(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(XY(n)){var r=n;break e}n=n.return}throw Error(je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sv(i,""),r.flags&=-33);var s=vF(e);DR(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vF(e);kR(e,a,o);break;default:throw Error(je(161))}}catch(u){Ir(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xge(e,t,n){nt=e,eK(e)}function eK(e,t,n){for(var r=(e.mode&1)!==0;nt!==null;){var i=nt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||eb;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||ts;a=eb;var l=ts;if(eb=o,(ts=u)&&!l)for(nt=i;nt!==null;)o=nt,u=o.child,o.tag===22&&o.memoizedState!==null?EF(i):u!==null?(u.return=o,nt=u):EF(i);for(;s!==null;)nt=s,eK(s),s=s.sibling;nt=i,eb=a,ts=l}bF(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,nt=s):bF(e)}}function bF(e){for(;nt!==null;){var t=nt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ts||pI(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ts)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&rF(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rF(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&lv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}ts||t.flags&512&&NR(t)}catch(d){Ir(t,t.return,d)}}if(t===e){nt=null;break}if(n=t.sibling,n!==null){n.return=t.return,nt=n;break}nt=t.return}}function wF(e){for(;nt!==null;){var t=nt;if(t===e){nt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,nt=n;break}nt=t.return}}function EF(e){for(;nt!==null;){var t=nt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pI(4,t)}catch(u){Ir(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Ir(t,i,u)}}var s=t.return;try{NR(t)}catch(u){Ir(t,s,u)}break;case 5:var o=t.return;try{NR(t)}catch(u){Ir(t,o,u)}}}catch(u){Ir(t,t.return,u)}if(t===e){nt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,nt=a;break}nt=t.return}}var Ige=Math.ceil,PE=hc.ReactCurrentDispatcher,a$=hc.ReactCurrentOwner,oa=hc.ReactCurrentBatchConfig,wn=0,vi=null,Gr=null,Li=0,_o=0,Lp=Zf(0),ii=0,bv=null,lh=0,mI=0,u$=0,Ey=null,zs=null,l$=0,Dm=1/0,Sl=null,AE=!1,$R=null,pf=null,tb=!1,ef=null,OE=0,Sy=0,LR=null,Sw=-1,Tw=0;function Es(){return wn&6?Mr():Sw!==-1?Sw:Sw=Mr()}function mf(e){return e.mode&1?wn&2&&Li!==0?Li&-Li:lge.transition!==null?(Tw===0&&(Tw=MG()),Tw):(e=jn,e!==0||(e=window.event,e=e===void 0?16:HG(e.type)),e):1}function qa(e,t,n,r){if(50<Sy)throw Sy=0,LR=null,Error(je(185));O_(e,n,r),(!(wn&2)||e!==vi)&&(e===vi&&(!(wn&2)&&(mI|=n),ii===4&&qc(e,Li)),eo(e,r),n===1&&wn===0&&!(t.mode&1)&&(Dm=Mr()+500,fI&&ed()))}function eo(e,t){var n=e.callbackNode;lme(e,t);var r=hE(e,e===vi?Li:0);if(r===0)n!==null&&R5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&R5(n),t===1)e.tag===0?uge(SF.bind(null,e)):lY(SF.bind(null,e)),ige(function(){!(wn&6)&&ed()}),n=null;else{switch(FG(r)){case 1:n=$D;break;case 4:n=$G;break;case 16:n=dE;break;case 536870912:n=LG;break;default:n=dE}n=uK(n,tK.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tK(e,t){if(Sw=-1,Tw=0,wn&6)throw Error(je(327));var n=e.callbackNode;if(em()&&e.callbackNode!==n)return null;var r=hE(e,e===vi?Li:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=RE(e,r);else{t=r;var i=wn;wn|=2;var s=rK();(vi!==e||Li!==t)&&(Sl=null,Dm=Mr()+500,Jd(e,t));do try{Age();break}catch(a){nK(e,a)}while(!0);YD(),PE.current=s,wn=i,Gr!==null?t=0:(vi=null,Li=0,t=ii)}if(t!==0){if(t===2&&(i=lR(e),i!==0&&(r=i,t=MR(e,i))),t===1)throw n=bv,Jd(e,0),qc(e,r),eo(e,Mr()),n;if(t===6)qc(e,r);else{if(i=e.current.alternate,!(r&30)&&!Cge(i)&&(t=RE(e,r),t===2&&(s=lR(e),s!==0&&(r=s,t=MR(e,s))),t===1))throw n=bv,Jd(e,0),qc(e,r),eo(e,Mr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(je(345));case 2:vd(e,zs,Sl);break;case 3:if(qc(e,r),(r&130023424)===r&&(t=l$+500-Mr(),10<t)){if(hE(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Es(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=yR(vd.bind(null,e,zs,Sl),t);break}vd(e,zs,Sl);break;case 4:if(qc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Wa(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Mr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ige(r/1960))-r,10<r){e.timeoutHandle=yR(vd.bind(null,e,zs,Sl),r);break}vd(e,zs,Sl);break;case 5:vd(e,zs,Sl);break;default:throw Error(je(329))}}}return eo(e,Mr()),e.callbackNode===n?tK.bind(null,e):null}function MR(e,t){var n=Ey;return e.current.memoizedState.isDehydrated&&(Jd(e,t).flags|=256),e=RE(e,t),e!==2&&(t=zs,zs=n,t!==null&&FR(t)),e}function FR(e){zs===null?zs=e:zs.push.apply(zs,e)}function Cge(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Qa(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qc(e,t){for(t&=~u$,t&=~mI,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wa(t),r=1<<n;e[n]=-1,t&=~r}}function SF(e){if(wn&6)throw Error(je(327));em();var t=hE(e,0);if(!(t&1))return eo(e,Mr()),null;var n=RE(e,t);if(e.tag!==0&&n===2){var r=lR(e);r!==0&&(t=r,n=MR(e,r))}if(n===1)throw n=bv,Jd(e,0),qc(e,t),eo(e,Mr()),n;if(n===6)throw Error(je(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vd(e,zs,Sl),eo(e,Mr()),null}function c$(e,t){var n=wn;wn|=1;try{return e(t)}finally{wn=n,wn===0&&(Dm=Mr()+500,fI&&ed())}}function ch(e){ef!==null&&ef.tag===0&&!(wn&6)&&em();var t=wn;wn|=1;var n=oa.transition,r=jn;try{if(oa.transition=null,jn=1,e)return e()}finally{jn=r,oa.transition=n,wn=t,!(wn&6)&&ed()}}function f$(){_o=Lp.current,or(Lp)}function Jd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rge(n)),Gr!==null)for(n=Gr.return;n!==null;){var r=n;switch(WD(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vE();break;case 3:Nm(),or(Js),or(us),e$();break;case 5:ZD(r);break;case 4:Nm();break;case 13:or(yr);break;case 19:or(yr);break;case 10:KD(r.type._context);break;case 22:case 23:f$()}n=n.return}if(vi=e,Gr=e=gf(e.current,null),Li=_o=t,ii=0,bv=null,u$=mI=lh=0,zs=Ey=null,Ld!==null){for(t=0;t<Ld.length;t++)if(n=Ld[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ld=null}return e}function nK(e,t){do{var n=Gr;try{if(YD(),bw.current=CE,IE){for(var r=vr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}IE=!1}if(uh=0,mi=Zr=vr=null,by=!1,yv=0,a$.current=null,n===null||n.return===null){ii=1,bv=t,Gr=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Li,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=cF(o);if(h!==null){h.flags&=-257,fF(h,o,a,s,t),h.mode&1&&lF(s,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var m=new Set;m.add(u),t.updateQueue=m}else p.add(u);break e}else{if(!(t&1)){lF(s,l,t),d$();break e}u=Error(je(426))}}else if(pr&&a.mode&1){var y=cF(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),fF(y,o,a,s,t),qD(km(u,a));break e}}s=u=km(u,a),ii!==4&&(ii=2),Ey===null?Ey=[s]:Ey.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=jY(s,u,t);nF(s,g);break e;case 1:a=u;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(pf===null||!pf.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=BY(s,a,t);nF(s,S);break e}}s=s.return}while(s!==null)}sK(n)}catch(T){t=T,Gr===n&&n!==null&&(Gr=n=n.return);continue}break}while(!0)}function rK(){var e=PE.current;return PE.current=CE,e===null?CE:e}function d$(){(ii===0||ii===3||ii===2)&&(ii=4),vi===null||!(lh&268435455)&&!(mI&268435455)||qc(vi,Li)}function RE(e,t){var n=wn;wn|=2;var r=rK();(vi!==e||Li!==t)&&(Sl=null,Jd(e,t));do try{Pge();break}catch(i){nK(e,i)}while(!0);if(YD(),wn=n,PE.current=r,Gr!==null)throw Error(je(261));return vi=null,Li=0,ii}function Pge(){for(;Gr!==null;)iK(Gr)}function Age(){for(;Gr!==null&&!eme();)iK(Gr)}function iK(e){var t=aK(e.alternate,e,_o);e.memoizedProps=e.pendingProps,t===null?sK(e):Gr=t,a$.current=null}function sK(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ege(n,t),n!==null){n.flags&=32767,Gr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ii=6,Gr=null;return}}else if(n=wge(n,t,_o),n!==null){Gr=n;return}if(t=t.sibling,t!==null){Gr=t;return}Gr=t=e}while(t!==null);ii===0&&(ii=5)}function vd(e,t,n){var r=jn,i=oa.transition;try{oa.transition=null,jn=1,Oge(e,t,n,r)}finally{oa.transition=i,jn=r}return null}function Oge(e,t,n,r){do em();while(ef!==null);if(wn&6)throw Error(je(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(je(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(cme(e,s),e===vi&&(Gr=vi=null,Li=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tb||(tb=!0,uK(dE,function(){return em(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=oa.transition,oa.transition=null;var o=jn;jn=1;var a=wn;wn|=4,a$.current=null,Tge(e,n),ZY(n,e),Qme(mR),pE=!!pR,mR=pR=null,e.current=n,xge(n),tme(),wn=a,jn=o,oa.transition=s}else e.current=n;if(tb&&(tb=!1,ef=e,OE=i),s=e.pendingLanes,s===0&&(pf=null),ime(n.stateNode),eo(e,Mr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(AE)throw AE=!1,e=$R,$R=null,e;return OE&1&&e.tag!==0&&em(),s=e.pendingLanes,s&1?e===LR?Sy++:(Sy=0,LR=e):Sy=0,ed(),null}function em(){if(ef!==null){var e=FG(OE),t=oa.transition,n=jn;try{if(oa.transition=null,jn=16>e?16:e,ef===null)var r=!1;else{if(e=ef,ef=null,OE=0,wn&6)throw Error(je(331));var i=wn;for(wn|=4,nt=e.current;nt!==null;){var s=nt,o=s.child;if(nt.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(nt=l;nt!==null;){var c=nt;switch(c.tag){case 0:case 11:case 15:wy(8,c,s)}var f=c.child;if(f!==null)f.return=c,nt=f;else for(;nt!==null;){c=nt;var d=c.sibling,h=c.return;if(QY(c),c===l){nt=null;break}if(d!==null){d.return=h,nt=d;break}nt=h}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}nt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,nt=o;else e:for(;nt!==null;){if(s=nt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wy(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,nt=g;break e}nt=s.return}}var v=e.current;for(nt=v;nt!==null;){o=nt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,nt=_;else e:for(o=v;nt!==null;){if(a=nt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pI(9,a)}}catch(T){Ir(a,a.return,T)}if(a===o){nt=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,nt=S;break e}nt=a.return}}if(wn=i,ed(),Uu&&typeof Uu.onPostCommitFiberRoot=="function")try{Uu.onPostCommitFiberRoot(oI,e)}catch{}r=!0}return r}finally{jn=n,oa.transition=t}}return!1}function TF(e,t,n){t=km(n,t),t=jY(e,t,1),e=hf(e,t,1),t=Es(),e!==null&&(O_(e,1,t),eo(e,t))}function Ir(e,t,n){if(e.tag===3)TF(e,e,n);else for(;t!==null;){if(t.tag===3){TF(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pf===null||!pf.has(r))){e=km(n,e),e=BY(t,e,1),t=hf(t,e,1),e=Es(),t!==null&&(O_(t,1,e),eo(t,e));break}}t=t.return}}function Rge(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Es(),e.pingedLanes|=e.suspendedLanes&n,vi===e&&(Li&n)===n&&(ii===4||ii===3&&(Li&130023424)===Li&&500>Mr()-l$?Jd(e,0):u$|=n),eo(e,t)}function oK(e,t){t===0&&(e.mode&1?(t=W1,W1<<=1,!(W1&130023424)&&(W1=4194304)):t=1);var n=Es();e=Kl(e,t),e!==null&&(O_(e,t,n),eo(e,n))}function Nge(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),oK(e,n)}function kge(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(je(314))}r!==null&&r.delete(t),oK(e,n)}var aK;aK=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Js.current)Ys=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ys=!1,bge(e,t,n);Ys=!!(e.flags&131072)}else Ys=!1,pr&&t.flags&1048576&&cY(t,wE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ew(e,t),e=t.pendingProps;var i=Am(t,us.current);Zp(t,n),i=n$(null,t,r,e,i,n);var s=r$();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zs(r)?(s=!0,_E(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,XD(t),i.updater=dI,t.stateNode=i,i._reactInternals=t,TR(t,r,e,n),t=CR(null,t,r,!0,s,n)):(t.tag=0,pr&&s&&HD(t),gs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ew(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=$ge(r),e=Na(r,e),i){case 0:t=IR(null,t,r,e,n);break e;case 1:t=pF(null,t,r,e,n);break e;case 11:t=dF(null,t,r,e,n);break e;case 14:t=hF(null,t,r,Na(r.type,e),n);break e}throw Error(je(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Na(r,i),IR(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Na(r,i),pF(e,t,r,i,n);case 3:e:{if(HY(t),e===null)throw Error(je(387));r=t.pendingProps,s=t.memoizedState,i=s.element,pY(e,t),TE(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=km(Error(je(423)),t),t=mF(e,t,r,n,i);break e}else if(r!==i){i=km(Error(je(424)),t),t=mF(e,t,r,n,i);break e}else for(To=df(t.stateNode.containerInfo.firstChild),Ao=t,pr=!0,$a=null,n=vY(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Om(),r===i){t=Ql(e,t,n);break e}gs(e,t,r,n)}t=t.child}return t;case 5:return _Y(t),e===null&&wR(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,gR(r,i)?o=null:s!==null&&gR(r,s)&&(t.flags|=32),zY(e,t),gs(e,t,o,n),t.child;case 6:return e===null&&wR(t),null;case 13:return WY(e,t,n);case 4:return JD(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rm(t,null,r,n):gs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Na(r,i),dF(e,t,r,i,n);case 7:return gs(e,t,t.pendingProps,n),t.child;case 8:return gs(e,t,t.pendingProps.children,n),t.child;case 12:return gs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Zn(EE,r._currentValue),r._currentValue=o,s!==null)if(Qa(s.value,o)){if(s.children===i.children&&!Js.current){t=Ql(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Vl(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ER(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(je(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ER(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Zp(t,n),i=aa(i),r=r(i),t.flags|=1,gs(e,t,r,n),t.child;case 14:return r=t.type,i=Na(r,t.pendingProps),i=Na(r.type,i),hF(e,t,r,i,n);case 15:return UY(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Na(r,i),Ew(e,t),t.tag=1,Zs(r)?(e=!0,_E(t)):e=!1,Zp(t,n),gY(t,r,i),TR(t,r,i,n),CR(null,t,r,!0,e,n);case 19:return qY(e,t,n);case 22:return VY(e,t,n)}throw Error(je(156,t.tag))};function uK(e,t){return DG(e,t)}function Dge(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(e,t,n,r){return new Dge(e,t,n,r)}function h$(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $ge(e){if(typeof e=="function")return h$(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ND)return 11;if(e===kD)return 14}return 2}function gf(e,t){var n=e.alternate;return n===null?(n=ia(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xw(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")h$(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ip:return Zd(n.children,i,s,t);case RD:o=8,i|=8;break;case Y2:return e=ia(12,n,t,i|2),e.elementType=Y2,e.lanes=s,e;case K2:return e=ia(13,n,t,i),e.elementType=K2,e.lanes=s,e;case Q2:return e=ia(19,n,t,i),e.elementType=Q2,e.lanes=s,e;case yG:return gI(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mG:o=10;break e;case gG:o=9;break e;case ND:o=11;break e;case kD:o=14;break e;case Bc:o=16,r=null;break e}throw Error(je(130,e==null?e:typeof e,""))}return t=ia(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Zd(e,t,n,r){return e=ia(7,e,r,t),e.lanes=n,e}function gI(e,t,n,r){return e=ia(22,e,r,t),e.elementType=yG,e.lanes=n,e.stateNode={isHidden:!1},e}function PA(e,t,n){return e=ia(6,e,null,t),e.lanes=n,e}function AA(e,t,n){return t=ia(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lge(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lA(0),this.expirationTimes=lA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function p$(e,t,n,r,i,s,o,a,u){return e=new Lge(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ia(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},XD(s),e}function Mge(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function lK(e){if(!e)return Rf;e=e._reactInternals;e:{if(Dh(e)!==e||e.tag!==1)throw Error(je(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(je(171))}if(e.tag===1){var n=e.type;if(Zs(n))return uY(e,n,t)}return t}function cK(e,t,n,r,i,s,o,a,u){return e=p$(n,r,!0,e,i,s,o,a,u),e.context=lK(null),n=e.current,r=Es(),i=mf(n),s=Vl(r,i),s.callback=t??null,hf(n,s,i),e.current.lanes=i,O_(e,i,r),eo(e,r),e}function yI(e,t,n,r){var i=t.current,s=Es(),o=mf(i);return n=lK(n),t.context===null?t.context=n:t.pendingContext=n,t=Vl(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=hf(i,t,o),e!==null&&(qa(e,i,o,s),_w(e,i,o)),o}function NE(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xF(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function m$(e,t){xF(e,t),(e=e.alternate)&&xF(e,t)}function Fge(){return null}var fK=typeof reportError=="function"?reportError:function(e){console.error(e)};function g$(e){this._internalRoot=e}vI.prototype.render=g$.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(je(409));yI(e,t,null,null)};vI.prototype.unmount=g$.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ch(function(){yI(null,e,null,null)}),t[Yl]=null}};function vI(e){this._internalRoot=e}vI.prototype.unstable_scheduleHydration=function(e){if(e){var t=UG();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wc.length&&t!==0&&t<Wc[n].priority;n++);Wc.splice(n,0,e),n===0&&zG(e)}};function y$(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _I(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function IF(){}function jge(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=NE(o);s.call(l)}}var o=cK(t,r,e,0,null,!1,!1,"",IF);return e._reactRootContainer=o,e[Yl]=o.current,dv(e.nodeType===8?e.parentNode:e),ch(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=NE(u);a.call(l)}}var u=p$(e,0,!1,null,null,!1,!1,"",IF);return e._reactRootContainer=u,e[Yl]=u.current,dv(e.nodeType===8?e.parentNode:e),ch(function(){yI(t,u,n,r)}),u}function bI(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=NE(o);a.call(u)}}yI(t,o,e,i)}else o=jge(n,t,e,i,r);return NE(o)}jG=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Q0(t.pendingLanes);n!==0&&(LD(t,n|1),eo(t,Mr()),!(wn&6)&&(Dm=Mr()+500,ed()))}break;case 13:ch(function(){var r=Kl(e,1);if(r!==null){var i=Es();qa(r,e,1,i)}}),m$(e,1)}};MD=function(e){if(e.tag===13){var t=Kl(e,134217728);if(t!==null){var n=Es();qa(t,e,134217728,n)}m$(e,134217728)}};BG=function(e){if(e.tag===13){var t=mf(e),n=Kl(e,t);if(n!==null){var r=Es();qa(n,e,t,r)}m$(e,t)}};UG=function(){return jn};VG=function(e,t){var n=jn;try{return jn=e,t()}finally{jn=n}};oR=function(e,t,n){switch(t){case"input":if(Z2(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=cI(r);if(!i)throw Error(je(90));_G(r),Z2(r,i)}}}break;case"textarea":wG(e,n);break;case"select":t=n.value,t!=null&&Kp(e,!!n.multiple,t,!1)}};PG=c$;AG=ch;var Bge={usingClientEntryPoint:!1,Events:[N_,Op,cI,IG,CG,c$]},g0={findFiberByHostInstance:$d,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Uge={bundleType:g0.bundleType,version:g0.version,rendererPackageName:g0.rendererPackageName,rendererConfig:g0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=NG(e),e===null?null:e.stateNode},findFiberByHostInstance:g0.findFiberByHostInstance||Fge,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nb.isDisabled&&nb.supportsFiber)try{oI=nb.inject(Uge),Uu=nb}catch{}}Fo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bge;Fo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y$(t))throw Error(je(200));return Mge(e,t,null,n)};Fo.createRoot=function(e,t){if(!y$(e))throw Error(je(299));var n=!1,r="",i=fK;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=p$(e,1,!1,null,null,n,!1,r,i),e[Yl]=t.current,dv(e.nodeType===8?e.parentNode:e),new g$(t)};Fo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(je(188)):(e=Object.keys(e).join(","),Error(je(268,e)));return e=NG(t),e=e===null?null:e.stateNode,e};Fo.flushSync=function(e){return ch(e)};Fo.hydrate=function(e,t,n){if(!_I(t))throw Error(je(200));return bI(null,e,t,!0,n)};Fo.hydrateRoot=function(e,t,n){if(!y$(e))throw Error(je(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=fK;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=cK(t,null,e,1,n??null,i,!1,s,o),e[Yl]=t.current,dv(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new vI(t)};Fo.render=function(e,t,n){if(!_I(t))throw Error(je(200));return bI(null,e,t,!1,n)};Fo.unmountComponentAtNode=function(e){if(!_I(e))throw Error(je(40));return e._reactRootContainer?(ch(function(){bI(null,null,e,!1,function(){e._reactRootContainer=null,e[Yl]=null})}),!0):!1};Fo.unstable_batchedUpdates=c$;Fo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_I(n))throw Error(je(200));if(e==null||e._reactInternals===void 0)throw Error(je(38));return bI(e,t,n,!1,r)};Fo.version="18.2.0-next-9e3b772b8-20220608";function dK(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dK)}catch(e){console.error(e)}}dK(),cG.exports=Fo;var pc=cG.exports,CF=pc;q2.createRoot=CF.createRoot,q2.hydrateRoot=CF.hydrateRoot;const hK=w.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),la=()=>w.useContext(hK);function Vge({children:e}){const[t,n]=R.useState(void 0),r=R.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return I.jsx(hK.Provider,{value:r,children:e})}/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wv.apply(this,arguments)}var tf;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(tf||(tf={}));const PF="popstate";function zge(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return jR("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mK(i)}return Wge(t,n,null,e)}function jr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pK(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Hge(){return Math.random().toString(36).substr(2,8)}function AF(e,t){return{usr:e.state,key:e.key,idx:t}}function jR(e,t,n,r){return n===void 0&&(n=null),wv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wg(t):t,{state:n,key:t&&t.key||r||Hge()})}function mK(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function wg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Wge(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=tf.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(wv({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=tf.Pop;let y=c(),g=y==null?null:y-l;l=y,u&&u({action:a,location:m.location,delta:g})}function d(y,g){a=tf.Push;let v=jR(m.location,y,g);n&&n(v,y),l=c()+1;let _=AF(v,l),S=m.createHref(v);try{o.pushState(_,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(S)}s&&u&&u({action:a,location:m.location,delta:1})}function h(y,g){a=tf.Replace;let v=jR(m.location,y,g);n&&n(v,y),l=c();let _=AF(v,l),S=m.createHref(v);o.replaceState(_,"",S),s&&u&&u({action:a,location:m.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:mK(y);return v=v.replace(/ $/,"%20"),jr(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return a},get location(){return e(i,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(PF,f),u=y,()=>{i.removeEventListener(PF,f),u=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(y){return o.go(y)}};return m}var OF;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(OF||(OF={}));function qge(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?wg(t):t,i=vK(r.pathname||"/",n);if(i==null)return null;let s=gK(e);Gge(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=s0e(i);o=n0e(s[a],u)}return o}function gK(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(jr(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=yf([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(jr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),gK(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:e0e(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of yK(s.path))i(s,o,u)}),t}function yK(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=yK(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function Gge(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:t0e(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Yge=/^:[\w-]+$/,Kge=3,Qge=2,Xge=1,Jge=10,Zge=-2,RF=e=>e==="*";function e0e(e,t){let n=e.split("/"),r=n.length;return n.some(RF)&&(r+=Zge),t&&(r+=Qge),n.filter(i=>!RF(i)).reduce((i,s)=>i+(Yge.test(s)?Kge:s===""?Xge:Jge),r)}function t0e(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function n0e(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=r0e({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:yf([i,c.pathname]),pathnameBase:l0e(yf([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=yf([i,c.pathnameBase]))}return s}function r0e(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=i0e(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let m=a[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return h&&!p?l[d]=void 0:l[d]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:e}}function i0e(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),pK(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function s0e(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pK(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vK(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function o0e(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?wg(e):e;return{pathname:n?n.startsWith("/")?n:a0e(n,t):t,search:c0e(r),hash:f0e(i)}}function a0e(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function OA(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function u0e(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function v$(e,t){let n=u0e(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _$(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=wg(e):(i=wv({},e),jr(!i.pathname||!i.pathname.includes("?"),OA("?","pathname","search",i)),jr(!i.pathname||!i.pathname.includes("#"),OA("#","pathname","hash",i)),jr(!i.search||!i.search.includes("#"),OA("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=o0e(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const yf=e=>e.join("/").replace(/\/\/+/g,"/"),l0e=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),c0e=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,f0e=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function d0e(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _K=["post","put","patch","delete"];new Set(_K);const h0e=["get",..._K];new Set(h0e);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ev.apply(this,arguments)}const b$=w.createContext(null),p0e=w.createContext(null),$h=w.createContext(null),wI=w.createContext(null),ml=w.createContext({outlet:null,matches:[],isDataRoute:!1}),bK=w.createContext(null);function m0e(e,t){let{relative:n}=t===void 0?{}:t;Eg()||jr(!1);let{basename:r,navigator:i}=w.useContext($h),{hash:s,pathname:o,search:a}=_0e(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:yf([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Eg(){return w.useContext(wI)!=null}function Lh(){return Eg()||jr(!1),w.useContext(wI).location}function wK(e){w.useContext($h).static||w.useLayoutEffect(e)}function td(){let{isDataRoute:e}=w.useContext(ml);return e?O0e():g0e()}function g0e(){Eg()||jr(!1);let e=w.useContext(b$),{basename:t,future:n,navigator:r}=w.useContext($h),{matches:i}=w.useContext(ml),{pathname:s}=Lh(),o=JSON.stringify(v$(i,n.v7_relativeSplatPath)),a=w.useRef(!1);return wK(()=>{a.current=!0}),w.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let f=_$(l,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:yf([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,o,s,e])}const y0e=w.createContext(null);function v0e(e){let t=w.useContext(ml).outlet;return t&&w.createElement(y0e.Provider,{value:e},t)}function fh(){let{matches:e}=w.useContext(ml),t=e[e.length-1];return t?t.params:{}}function _0e(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext($h),{matches:i}=w.useContext(ml),{pathname:s}=Lh(),o=JSON.stringify(v$(i,r.v7_relativeSplatPath));return w.useMemo(()=>_$(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function EK(e,t){return b0e(e,t)}function b0e(e,t,n,r){Eg()||jr(!1);let{navigator:i}=w.useContext($h),{matches:s}=w.useContext(ml),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=Lh(),c;if(t){var f;let y=typeof t=="string"?wg(t):t;u==="/"||(f=y.pathname)!=null&&f.startsWith(u)||jr(!1),c=y}else c=l;let d=c.pathname||"/",h=d;if(u!=="/"){let y=u.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=qge(e,{pathname:h}),m=x0e(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:yf([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:yf([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return t&&m?w.createElement(wI.Provider,{value:{location:Ev({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:tf.Pop}},m):m}function w0e(){let e=A0e(),t=d0e(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const E0e=w.createElement(w0e,null);class S0e extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(ml.Provider,{value:this.props.routeContext},w.createElement(bK.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T0e(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(b$);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(ml.Provider,{value:t},r)}function x0e(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||jr(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:h}=n,p=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,f,d)=>{let h,p=!1,m=null,y=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||E0e,u&&(l<0&&d===0?(R0e("route-fallback",!1),p=!0,y=null):l===d&&(p=!0,y=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,d+1)),v=()=>{let _;return h?_=m:p?_=y:f.route.Component?_=w.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,w.createElement(T0e,{match:f,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?w.createElement(S0e,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var SK=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(SK||{}),kE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kE||{});function I0e(e){let t=w.useContext(b$);return t||jr(!1),t}function C0e(e){let t=w.useContext(p0e);return t||jr(!1),t}function P0e(e){let t=w.useContext(ml);return t||jr(!1),t}function TK(e){let t=P0e(),n=t.matches[t.matches.length-1];return n.route.id||jr(!1),n.route.id}function A0e(){var e;let t=w.useContext(bK),n=C0e(kE.UseRouteError),r=TK(kE.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function O0e(){let{router:e}=I0e(SK.UseNavigateStable),t=TK(kE.UseNavigateStable),n=w.useRef(!1);return wK(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ev({fromRouteId:t},s)))},[e,t])}const NF={};function R0e(e,t,n){!t&&!NF[e]&&(NF[e]=!0)}function N0e(e){let{to:t,replace:n,state:r,relative:i}=e;Eg()||jr(!1);let{future:s,static:o}=w.useContext($h),{matches:a}=w.useContext(ml),{pathname:u}=Lh(),l=td(),c=_$(t,v$(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(c);return w.useEffect(()=>l(JSON.parse(f),{replace:n,state:r,relative:i}),[l,f,i,n,r]),null}function k0e(e){return v0e(e.context)}function BR(e){jr(!1)}function D0e(e){let{basename:t="/",children:n=null,location:r,navigationType:i=tf.Pop,navigator:s,static:o=!1,future:a}=e;Eg()&&jr(!1);let u=t.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:u,navigator:s,static:o,future:Ev({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=wg(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:p="default"}=r,m=w.useMemo(()=>{let y=vK(c,u);return y==null?null:{location:{pathname:y,search:f,hash:d,state:h,key:p},navigationType:i}},[u,c,f,d,h,p,i]);return m==null?null:w.createElement($h.Provider,{value:l},w.createElement(wI.Provider,{children:n,value:m}))}function $0e(e){let{children:t,location:n}=e;return EK(UR(t),n)}new Promise(()=>{});function UR(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,UR(r.props.children,s));return}r.type!==BR&&jr(!1),!r.props.index||!r.props.children||jr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=UR(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function VR(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function L0e(e,t){let n=VR(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const M0e="6";try{window.__reactRouterVersion=M0e}catch{}const F0e="startTransition",kF=rv[F0e];function j0e(e){let{basename:t,children:n,future:r,window:i}=e,s=w.useRef();s.current==null&&(s.current=zge({window:i,v5Compat:!0}));let o=s.current,[a,u]=w.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},c=w.useCallback(f=>{l&&kF?kF(()=>u(f)):u(f)},[u,l]);return w.useLayoutEffect(()=>o.listen(c),[o,c]),w.createElement(D0e,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var DF;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DF||(DF={}));var $F;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($F||($F={}));function w$(e){let t=w.useRef(VR(e)),n=w.useRef(!1),r=Lh(),i=w.useMemo(()=>L0e(r.search,n.current?null:t.current),[r.search]),s=td(),o=w.useCallback((a,u)=>{const l=VR(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}function DE(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function B0e(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function U0e(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function V0e(e,t,n){return DE(e,n)===DE(t,n)}function z0e({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var u;n==null||n(a);const l=Array.from(((u=DE(a.currentTarget,e))==null?void 0:u.querySelectorAll(t))||[]).filter(m=>V0e(a.currentTarget,m,e)),c=l.findIndex(m=>a.currentTarget===m),f=U0e(c,l,r),d=B0e(c,l,r),h=s==="rtl"?d:f,p=s==="rtl"?f:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[p].focus(),i&&l[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}function H0e(e,t,n){var r;return n?Array.from(((r=DE(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function D_(e){const t=w.createContext(null);return[({children:i,value:s})=>R.createElement(t.Provider,{value:s},i),()=>{const i=w.useContext(t);if(i===null)throw new Error(e);return i}]}function dh(e){return Array.isArray(e)?e:[e]}const W0e=()=>{};function q0e(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||W0e:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function xo(e,t){return n=>{e==null||e(n),t==null||t(n)}}function G0e(e){return Object.keys(e)}function Y0e(){const[e,t]=w.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function xK({data:e}){const t=[],n=[],r=e.reduce((i,s,o)=>(s.group?i[s.group]?i[s.group].push(o):i[s.group]=[o]:n.push(o),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(s=>e[s]))}),t.push(...n.map(i=>e[i])),t}function Sg(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==R.Fragment:!1}function IK(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=IK(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function CK(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=IK(t))&&(r&&(r+=" "),r+=n);return r}const K0e={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function Q0e(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var X0e=Object.defineProperty,LF=Object.getOwnPropertySymbols,J0e=Object.prototype.hasOwnProperty,Z0e=Object.prototype.propertyIsEnumerable,MF=(e,t,n)=>t in e?X0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FF=(e,t)=>{for(var n in t||(t={}))J0e.call(t,n)&&MF(e,n,t[n]);if(LF)for(var n of LF(t))Z0e.call(t,n)&&MF(e,n,t[n]);return e};function eye(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:FF({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:FF({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function $_(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function E$(e){const t=$_(e);return(n,r,i=!0,s=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,u]=n.split("."),l=parseInt(u,10);if(a in e.colors&&l>=0&&l<10)return e.colors[a][typeof r=="number"&&!s?r:l]}const o=typeof r=="number"?r:t();return n in e.colors?e.colors[n][o]:i?e.colors[e.primaryColor][o]:n}}function PK(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function tye(e,...t){return`linear-gradient(${e}deg, ${PK(t)})`}function nye(...e){return`radial-gradient(circle, ${PK(e)})`}function AK(e){const t=E$(e),n=$_(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function S$(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function rye(e){return t=>`@media (min-width: ${S$({size:t,sizes:e.breakpoints})}px)`}function iye(e){return t=>`@media (max-width: ${S$({size:t,sizes:e.breakpoints})-1}px)`}function sye(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function oye(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function aye(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function T$(e){return sye(e)?oye(e):e.startsWith("rgb")?aye(e):{r:0,g:0,b:0,a:1}}function mp(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=T$(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function uye(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function lye(e,t){const{r:n,g:r,b:i,a:s}=T$(e),o=1-t,a=u=>Math.round(u*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function cye(e,t){const{r:n,g:r,b:i,a:s}=T$(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function fye(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function dye(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function hye(e){const t=E$(e),n=$_(e),r=AK(e);return({variant:i,color:s,gradient:o,primaryFallback:a})=>{const u=dye(s,e);switch(i){case"light":return{border:"transparent",background:mp(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:mp(t(s,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:mp(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(s,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(s,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?mp(t(s,5,a,!1),.05):mp(t(s,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const l=n(),c=u.isSplittedColor?u.shade:l,f=u.isSplittedColor?u.key:s;return{border:"transparent",background:t(f,c,a),color:e.white,hover:t(f,c===9?8:c+1)}}}}}function pye(e){return t=>{const n=$_(e)(t);return e.colors[e.primaryColor][n]}}function mye(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}function gye(e){return()=>({userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]})}const Xr={fontStyles:Q0e,themeColor:E$,focusStyles:eye,linearGradient:tye,radialGradient:nye,smallerThan:iye,largerThan:rye,rgba:mp,size:S$,cover:uye,darken:lye,lighten:cye,radius:fye,variant:hye,primaryShade:$_,hover:mye,gradient:AK,primaryColor:pye,placeholderStyles:gye};var yye=Object.defineProperty,vye=Object.defineProperties,_ye=Object.getOwnPropertyDescriptors,jF=Object.getOwnPropertySymbols,bye=Object.prototype.hasOwnProperty,wye=Object.prototype.propertyIsEnumerable,BF=(e,t,n)=>t in e?yye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Eye=(e,t)=>{for(var n in t||(t={}))bye.call(t,n)&&BF(e,n,t[n]);if(jF)for(var n of jF(t))wye.call(t,n)&&BF(e,n,t[n]);return e},Sye=(e,t)=>vye(e,_ye(t));function Tye(e){return Sye(Eye({},e),{fn:{fontStyles:Xr.fontStyles(e),themeColor:Xr.themeColor(e),focusStyles:Xr.focusStyles(e),largerThan:Xr.largerThan(e),smallerThan:Xr.smallerThan(e),radialGradient:Xr.radialGradient,linearGradient:Xr.linearGradient,gradient:Xr.gradient(e),rgba:Xr.rgba,size:Xr.size,cover:Xr.cover,lighten:Xr.lighten,darken:Xr.darken,primaryShade:Xr.primaryShade(e),radius:Xr.radius(e),variant:Xr.variant(e),hover:Xr.hover,primaryColor:Xr.primaryColor(e),placeholderStyles:Xr.placeholderStyles(e)}})}const OK=["xs","sm","md","lg","xl"],xye={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:K0e,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},RK=Tye(xye);function Iye(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Cye(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Pye=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Cye(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Iye(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Xi="-ms-",$E="-moz-",Pn="-webkit-",NK="comm",x$="rule",I$="decl",Aye="@import",kK="@keyframes",Oye="@layer",Rye=Math.abs,EI=String.fromCharCode,Nye=Object.assign;function kye(e,t){return Ni(e,0)^45?(((t<<2^Ni(e,0))<<2^Ni(e,1))<<2^Ni(e,2))<<2^Ni(e,3):0}function DK(e){return e.trim()}function Dye(e,t){return(e=t.exec(e))?e[0]:e}function An(e,t,n){return e.replace(t,n)}function zR(e,t){return e.indexOf(t)}function Ni(e,t){return e.charCodeAt(t)|0}function Sv(e,t,n){return e.slice(t,n)}function wu(e){return e.length}function C$(e){return e.length}function rb(e,t){return t.push(e),e}function $ye(e,t){return e.map(t).join("")}var SI=1,$m=1,$K=0,io=0,qr=0,Tg="";function TI(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:SI,column:$m,length:o,return:""}}function y0(e,t){return Nye(TI("",null,null,"",null,null,0),e,{length:-e.length},t)}function Lye(){return qr}function Mye(){return qr=io>0?Ni(Tg,--io):0,$m--,qr===10&&($m=1,SI--),qr}function Oo(){return qr=io<$K?Ni(Tg,io++):0,$m++,qr===10&&($m=1,SI++),qr}function zu(){return Ni(Tg,io)}function Iw(){return io}function L_(e,t){return Sv(Tg,e,t)}function Tv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function LK(e){return SI=$m=1,$K=wu(Tg=e),io=0,[]}function MK(e){return Tg="",e}function Cw(e){return DK(L_(io-1,HR(e===91?e+2:e===40?e+1:e)))}function Fye(e){for(;(qr=zu())&&qr<33;)Oo();return Tv(e)>2||Tv(qr)>3?"":" "}function jye(e,t){for(;--t&&Oo()&&!(qr<48||qr>102||qr>57&&qr<65||qr>70&&qr<97););return L_(e,Iw()+(t<6&&zu()==32&&Oo()==32))}function HR(e){for(;Oo();)switch(qr){case e:return io;case 34:case 39:e!==34&&e!==39&&HR(qr);break;case 40:e===41&&HR(e);break;case 92:Oo();break}return io}function Bye(e,t){for(;Oo()&&e+qr!==57;)if(e+qr===84&&zu()===47)break;return"/*"+L_(t,io-1)+"*"+EI(e===47?e:Oo())}function Uye(e){for(;!Tv(zu());)Oo();return L_(e,io)}function Vye(e){return MK(Pw("",null,null,null,[""],e=LK(e),0,[0],e))}function Pw(e,t,n,r,i,s,o,a,u){for(var l=0,c=0,f=o,d=0,h=0,p=0,m=1,y=1,g=1,v=0,_="",S=i,T=s,E=r,x=_;y;)switch(p=v,v=Oo()){case 40:if(p!=108&&Ni(x,f-1)==58){zR(x+=An(Cw(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:x+=Cw(v);break;case 9:case 10:case 13:case 32:x+=Fye(p);break;case 92:x+=jye(Iw()-1,7);continue;case 47:switch(zu()){case 42:case 47:rb(zye(Bye(Oo(),Iw()),t,n),u);break;default:x+="/"}break;case 123*m:a[l++]=wu(x)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+c:g==-1&&(x=An(x,/\f/g,"")),h>0&&wu(x)-f&&rb(h>32?VF(x+";",r,n,f-1):VF(An(x," ","")+";",r,n,f-2),u);break;case 59:x+=";";default:if(rb(E=UF(x,t,n,l,c,i,a,_,S=[],T=[],f),s),v===123)if(c===0)Pw(x,t,E,E,S,s,f,a,T);else switch(d===99&&Ni(x,3)===110?100:d){case 100:case 108:case 109:case 115:Pw(e,E,E,r&&rb(UF(e,E,E,0,0,i,a,_,i,S=[],f),T),i,T,f,a,r?S:T);break;default:Pw(x,E,E,E,[""],T,0,a,T)}}l=c=h=0,m=g=1,_=x="",f=o;break;case 58:f=1+wu(x),h=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&Mye()==125)continue}switch(x+=EI(v),v*m){case 38:g=c>0?1:(x+="\f",-1);break;case 44:a[l++]=(wu(x)-1)*g,g=1;break;case 64:zu()===45&&(x+=Cw(Oo())),d=zu(),c=f=wu(_=x+=Uye(Iw())),v++;break;case 45:p===45&&wu(x)==2&&(m=0)}}return s}function UF(e,t,n,r,i,s,o,a,u,l,c){for(var f=i-1,d=i===0?s:[""],h=C$(d),p=0,m=0,y=0;p<r;++p)for(var g=0,v=Sv(e,f+1,f=Rye(m=o[p])),_=e;g<h;++g)(_=DK(m>0?d[g]+" "+v:An(v,/&\f/g,d[g])))&&(u[y++]=_);return TI(e,t,n,i===0?x$:a,u,l,c)}function zye(e,t,n){return TI(e,t,n,NK,EI(Lye()),Sv(e,2,-2),0)}function VF(e,t,n,r){return TI(e,t,n,I$,Sv(e,0,r),Sv(e,r+1,-1),r)}function tm(e,t){for(var n="",r=C$(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Hye(e,t,n,r){switch(e.type){case Oye:if(e.children.length)break;case Aye:case I$:return e.return=e.return||e.value;case NK:return"";case kK:return e.return=e.value+"{"+tm(e.children,r)+"}";case x$:e.value=e.props.join(",")}return wu(n=tm(e.children,r))?e.return=e.value+"{"+n+"}":""}function Wye(e){var t=C$(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function qye(e){return function(t){t.root||(t=t.return)&&e(t)}}function Gye(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Yye=function(t,n,r){for(var i=0,s=0;i=s,s=zu(),i===38&&s===12&&(n[r]=1),!Tv(s);)Oo();return L_(t,io)},Kye=function(t,n){var r=-1,i=44;do switch(Tv(i)){case 0:i===38&&zu()===12&&(n[r]=1),t[r]+=Yye(io-1,n,r);break;case 2:t[r]+=Cw(i);break;case 4:if(i===44){t[++r]=zu()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=EI(i)}while(i=Oo());return t},Qye=function(t,n){return MK(Kye(LK(t),n))},zF=new WeakMap,Xye=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!zF.get(r))&&!i){zF.set(t,!0);for(var s=[],o=Qye(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)t.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},Jye=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function FK(e,t){switch(kye(e,t)){case 5103:return Pn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Pn+e+$E+e+Xi+e+e;case 6828:case 4268:return Pn+e+Xi+e+e;case 6165:return Pn+e+Xi+"flex-"+e+e;case 5187:return Pn+e+An(e,/(\w+).+(:[^]+)/,Pn+"box-$1$2"+Xi+"flex-$1$2")+e;case 5443:return Pn+e+Xi+"flex-item-"+An(e,/flex-|-self/,"")+e;case 4675:return Pn+e+Xi+"flex-line-pack"+An(e,/align-content|flex-|-self/,"")+e;case 5548:return Pn+e+Xi+An(e,"shrink","negative")+e;case 5292:return Pn+e+Xi+An(e,"basis","preferred-size")+e;case 6060:return Pn+"box-"+An(e,"-grow","")+Pn+e+Xi+An(e,"grow","positive")+e;case 4554:return Pn+An(e,/([^-])(transform)/g,"$1"+Pn+"$2")+e;case 6187:return An(An(An(e,/(zoom-|grab)/,Pn+"$1"),/(image-set)/,Pn+"$1"),e,"")+e;case 5495:case 3959:return An(e,/(image-set\([^]*)/,Pn+"$1$`$1");case 4968:return An(An(e,/(.+:)(flex-)?(.*)/,Pn+"box-pack:$3"+Xi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pn+e+e;case 4095:case 3583:case 4068:case 2532:return An(e,/(.+)-inline(.+)/,Pn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wu(e)-1-t>6)switch(Ni(e,t+1)){case 109:if(Ni(e,t+4)!==45)break;case 102:return An(e,/(.+:)(.+)-([^]+)/,"$1"+Pn+"$2-$3$1"+$E+(Ni(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~zR(e,"stretch")?FK(An(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ni(e,t+1)!==115)break;case 6444:switch(Ni(e,wu(e)-3-(~zR(e,"!important")&&10))){case 107:return An(e,":",":"+Pn)+e;case 101:return An(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pn+(Ni(e,14)===45?"inline-":"")+"box$3$1"+Pn+"$2$3$1"+Xi+"$2box$3")+e}break;case 5936:switch(Ni(e,t+11)){case 114:return Pn+e+Xi+An(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Pn+e+Xi+An(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Pn+e+Xi+An(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Pn+e+Xi+e+e}return e}var Zye=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case I$:t.return=FK(t.value,t.length);break;case kK:return tm([y0(t,{value:An(t.value,"@","@"+Pn)})],i);case x$:if(t.length)return $ye(t.props,function(s){switch(Dye(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return tm([y0(t,{props:[An(s,/:(read-\w+)/,":"+$E+"$1")]})],i);case"::placeholder":return tm([y0(t,{props:[An(s,/:(plac\w+)/,":"+Pn+"input-$1")]}),y0(t,{props:[An(s,/:(plac\w+)/,":"+$E+"$1")]}),y0(t,{props:[An(s,/:(plac\w+)/,Xi+"input-$1")]})],i)}return""})}},eve=[Zye],jK=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||eve,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)s[y[g]]=!0;a.push(m)});var u,l=[Xye,Jye];{var c,f=[Hye,qye(function(m){c.insert(m)})],d=Wye(l.concat(i,f)),h=function(y){return tm(Vye(y),d)};u=function(y,g,v,_){c=v,h(y?y+"{"+g.styles+"}":g.styles),_&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new Pye({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p};function gr(){return gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gr.apply(this,arguments)}var BK={exports:{}},Un={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=typeof Symbol=="function"&&Symbol.for,P$=wi?Symbol.for("react.element"):60103,A$=wi?Symbol.for("react.portal"):60106,xI=wi?Symbol.for("react.fragment"):60107,II=wi?Symbol.for("react.strict_mode"):60108,CI=wi?Symbol.for("react.profiler"):60114,PI=wi?Symbol.for("react.provider"):60109,AI=wi?Symbol.for("react.context"):60110,O$=wi?Symbol.for("react.async_mode"):60111,OI=wi?Symbol.for("react.concurrent_mode"):60111,RI=wi?Symbol.for("react.forward_ref"):60112,NI=wi?Symbol.for("react.suspense"):60113,tve=wi?Symbol.for("react.suspense_list"):60120,kI=wi?Symbol.for("react.memo"):60115,DI=wi?Symbol.for("react.lazy"):60116,nve=wi?Symbol.for("react.block"):60121,rve=wi?Symbol.for("react.fundamental"):60117,ive=wi?Symbol.for("react.responder"):60118,sve=wi?Symbol.for("react.scope"):60119;function Bo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case P$:switch(e=e.type,e){case O$:case OI:case xI:case CI:case II:case NI:return e;default:switch(e=e&&e.$$typeof,e){case AI:case RI:case DI:case kI:case PI:return e;default:return t}}case A$:return t}}}function UK(e){return Bo(e)===OI}Un.AsyncMode=O$;Un.ConcurrentMode=OI;Un.ContextConsumer=AI;Un.ContextProvider=PI;Un.Element=P$;Un.ForwardRef=RI;Un.Fragment=xI;Un.Lazy=DI;Un.Memo=kI;Un.Portal=A$;Un.Profiler=CI;Un.StrictMode=II;Un.Suspense=NI;Un.isAsyncMode=function(e){return UK(e)||Bo(e)===O$};Un.isConcurrentMode=UK;Un.isContextConsumer=function(e){return Bo(e)===AI};Un.isContextProvider=function(e){return Bo(e)===PI};Un.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===P$};Un.isForwardRef=function(e){return Bo(e)===RI};Un.isFragment=function(e){return Bo(e)===xI};Un.isLazy=function(e){return Bo(e)===DI};Un.isMemo=function(e){return Bo(e)===kI};Un.isPortal=function(e){return Bo(e)===A$};Un.isProfiler=function(e){return Bo(e)===CI};Un.isStrictMode=function(e){return Bo(e)===II};Un.isSuspense=function(e){return Bo(e)===NI};Un.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xI||e===OI||e===CI||e===II||e===NI||e===tve||typeof e=="object"&&e!==null&&(e.$$typeof===DI||e.$$typeof===kI||e.$$typeof===PI||e.$$typeof===AI||e.$$typeof===RI||e.$$typeof===rve||e.$$typeof===ive||e.$$typeof===sve||e.$$typeof===nve)};Un.typeOf=Bo;BK.exports=Un;var ove=BK.exports,VK=ove,ave={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},uve={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zK={};zK[VK.ForwardRef]=ave;zK[VK.Memo]=uve;var lve=!0;function cve(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var fve=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||lve===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},HK=function(t,n,r){fve(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function dve(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var hve={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pve=/[A-Z]|^ms/g,mve=/_EMO_([^_]+?)_([^]*?)_EMO_/g,WK=function(t){return t.charCodeAt(1)===45},HF=function(t){return t!=null&&typeof t!="boolean"},RA=Gye(function(e){return WK(e)?e:e.replace(pve,"-$&").toLowerCase()}),WF=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(mve,function(r,i,s){return Eu={name:i,styles:s,next:Eu},i})}return hve[t]!==1&&!WK(t)&&typeof n=="number"&&n!==0?n+"px":n};function xv(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Eu={name:n.name,styles:n.styles,next:Eu},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Eu={name:r.name,styles:r.styles,next:Eu},r=r.next;var i=n.styles+";";return i}return gve(e,t,n)}case"function":{if(e!==void 0){var s=Eu,o=n(e);return Eu=s,xv(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function gve(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=xv(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":HF(o)&&(r+=RA(s)+":"+WF(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)HF(o[a])&&(r+=RA(s)+":"+WF(s,o[a])+";");else{var u=xv(e,t,o);switch(s){case"animation":case"animationName":{r+=RA(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var qF=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Eu,R$=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Eu=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=xv(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=xv(r,n,t[a]),i&&(s+=o[a]);qF.lastIndex=0;for(var u="",l;(l=qF.exec(s))!==null;)u+="-"+l[1];var c=dve(s)+u;return{name:c,styles:s,next:Eu}},yve=rv.useInsertionEffect?rv.useInsertionEffect:!1,GF=yve||w.useLayoutEffect,qK=w.createContext(typeof HTMLElement<"u"?jK({key:"css"}):null);qK.Provider;var vve=function(t){return w.forwardRef(function(n,r){var i=w.useContext(qK);return t(n,i,r)})},_ve=w.createContext({}),bve=vve(function(e,t){var n=e.styles,r=R$([n],void 0,w.useContext(_ve)),i=w.useRef();return GF(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[t]),GF(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&HK(t,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function GK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return R$(t)}var wve=function(){var t=GK.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function YK(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}var Eve=Object.defineProperty,YF=Object.getOwnPropertySymbols,Sve=Object.prototype.hasOwnProperty,Tve=Object.prototype.propertyIsEnumerable,KF=(e,t,n)=>t in e?Eve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NA=(e,t)=>{for(var n in t||(t={}))Sve.call(t,n)&&KF(e,n,t[n]);if(YF)for(var n of YF(t))Tve.call(t,n)&&KF(e,n,t[n]);return e};const KK=w.createContext({theme:RK});function Vi(){var e;return((e=w.useContext(KK))==null?void 0:e.theme)||RK}function xve(e){const t=Vi(),n=r=>{var i,s;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((s=t.components[r])==null?void 0:s.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function QK(){var e;return(e=w.useContext(KK))==null?void 0:e.emotionCache}function Ye(e,t,n){var r;const i=Vi(),s=(r=i.components[e])==null?void 0:r.defaultProps,o=typeof s=="function"?s(i):s;return NA(NA(NA({},t),o),YK(n))}const Ive={app:100,modal:200,popover:300,overlay:400,max:9999};function mc(e){return Ive[e]}function Cve(e,t){const n=w.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const Pve=jK({key:"mantine",prepend:!0});function Ave(){return QK()||Pve}var Ove=Object.defineProperty,QF=Object.getOwnPropertySymbols,Rve=Object.prototype.hasOwnProperty,Nve=Object.prototype.propertyIsEnumerable,XF=(e,t,n)=>t in e?Ove(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kve=(e,t)=>{for(var n in t||(t={}))Rve.call(t,n)&&XF(e,n,t[n]);if(QF)for(var n of QF(t))Nve.call(t,n)&&XF(e,n,t[n]);return e};const kA="ref";function Dve(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(kA in n))return{args:e,ref:t};t=n[kA];const r=kve({},n);return delete r[kA],{args:[r],ref:t}}const{cssFactory:$ve}=(()=>{function e(n,r,i){const s=[],o=cve(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const{ref:a,args:u}=Dve(o),l=R$(u,r.registered);return HK(r,l,!1),`${r.key}-${l.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...o)=>e(r.registered,i,CK(o))}}return{cssFactory:t}})();function XK(){const e=Ave();return Cve(()=>$ve({cache:e}),[e])}function Lve({cx:e,classes:t,context:n,classNames:r,name:i,cache:s}){const o=n.reduce((a,u)=>(Object.keys(u.classNames).forEach(l=>{typeof a[l]!="string"?a[l]=`${u.classNames[l]}`:a[l]=`${a[l]} ${u.classNames[l]}`}),a),{});return Object.keys(t).reduce((a,u)=>(a[u]=e(t[u],o[u],r!=null&&r[u],Array.isArray(i)?i.filter(Boolean).map(l=>`${(s==null?void 0:s.key)||"mantine"}-${l}-${u}`).join(" "):i?`${(s==null?void 0:s.key)||"mantine"}-${i}-${u}`:null),a),{})}var Mve=Object.defineProperty,JF=Object.getOwnPropertySymbols,Fve=Object.prototype.hasOwnProperty,jve=Object.prototype.propertyIsEnumerable,ZF=(e,t,n)=>t in e?Mve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DA=(e,t)=>{for(var n in t||(t={}))Fve.call(t,n)&&ZF(e,n,t[n]);if(JF)for(var n of JF(t))jve.call(t,n)&&ZF(e,n,t[n]);return e};function Bve(e){return`__mantine-ref-${e||""}`}function e8(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,s)=>(Object.keys(s).forEach(o=>{i[o]?i[o]=DA(DA({},i[o]),s[o]):i[o]=DA({},s[o])}),i),{}):r(e)}function dt(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const s=Vi(),o=xve(i==null?void 0:i.name),a=QK(),{css:u,cx:l}=XK(),c=t(s,r,Bve),f=e8(i==null?void 0:i.styles,s,r),d=e8(o,s,r),h=Object.fromEntries(Object.keys(c).map(p=>{const m=l({[u(c[p])]:!(i!=null&&i.unstyled)},u(d[p]),u(f[p]));return[p,m]}));return{classes:Lve({cx:l,classes:h,context:o,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:l,theme:s}}return n}function JK({styles:e}){const t=Vi();return R.createElement(bve,{styles:GK(typeof e=="function"?e(t):e)})}var Uve=Object.defineProperty,Vve=Object.defineProperties,zve=Object.getOwnPropertyDescriptors,t8=Object.getOwnPropertySymbols,Hve=Object.prototype.hasOwnProperty,Wve=Object.prototype.propertyIsEnumerable,n8=(e,t,n)=>t in e?Uve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v0=(e,t)=>{for(var n in t||(t={}))Hve.call(t,n)&&n8(e,n,t[n]);if(t8)for(var n of t8(t))Wve.call(t,n)&&n8(e,n,t[n]);return e},_0=(e,t)=>Vve(e,zve(t));const b0={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},ib={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:_0(v0({},b0),{common:{transformOrigin:"center center"}}),"pop-bottom-left":_0(v0({},b0),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":_0(v0({},b0),{common:{transformOrigin:"bottom right"}}),"pop-top-left":_0(v0({},b0),{common:{transformOrigin:"top left"}}),"pop-top-right":_0(v0({},b0),{common:{transformOrigin:"top right"}})},r8=["mousedown","touchstart"];function qve(e,t,n){const r=w.useRef();return w.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(l=>!!l&&!s.composedPath().includes(l))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||r8).forEach(s=>document.addEventListener(s,i)),()=>{(t||r8).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function Gve(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Yve(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function Kve(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=w.useState(n?t:Yve(e,t)),s=w.useRef();return w.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),Gve(s.current,o=>i(o.matches))},[e]),r}function vf(e,t,n){return Math.min(Math.max(e,t),n)}const N$=typeof document<"u"?w.useLayoutEffect:w.useEffect;function to(e,t){const n=w.useRef(!1);w.useEffect(()=>()=>{n.current=!1},[]),w.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function ZK({opened:e,shouldReturnFocus:t=!0}){const n=w.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return to(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const Qve=/input|select|textarea|button|object/,eQ="a, input, select, textarea, button, object, [tabindex]";function Xve(e){return e.style.display==="none"}function Jve(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(Xve(n))return!1;n=n.parentNode}return!0}function tQ(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function WR(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(tQ(e));return(Qve.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&Jve(e)}function nQ(e){const t=tQ(e);return(Number.isNaN(t)||t>=0)&&WR(e)}function Zve(e){return Array.from(e.querySelectorAll(eQ)).filter(nQ)}function e_e(e,t){const n=Zve(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();if(!(r===i.activeElement||e===i.activeElement))return;t.preventDefault();const o=n[t.shiftKey?n.length-1:0];o&&o.focus()}function t_e(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{var i;if((i=r==null?void 0:r.shadowRoot)!=null&&i.contains(e)||r.contains(e))return;const s=r.getAttribute("aria-hidden");return(s===null||s==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:s}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function rQ(e=!0){const t=w.useRef(),n=w.useRef(null),r=w.useCallback(i=>{if(e){if(i===null){n.current&&(n.current(),n.current=null);return}if(n.current=t_e(i),t.current!==i)if(i){const s=()=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(eQ));o=a.find(nQ)||a.find(WR)||null,!o&&WR(i)&&(o=i)}o&&o.focus({preventScroll:!0})};setTimeout(()=>{i.getRootNode()&&s()}),t.current=i}else t.current=null}},[e]);return w.useEffect(()=>{if(!e)return;const i=s=>{s.key==="Tab"&&t.current&&e_e(t.current,s)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const n_e=e=>(e+1)%1e6;function r_e(){const[,e]=w.useReducer(n_e,0);return e}const i_e=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,s_e=R.useId||(()=>{});function o_e(){const[e,t]=w.useState("");return N$(()=>{t(i_e())},[]),e}function a_e(){const e=s_e();return e?`mantine-${e.replace(/:/g,"")}`:""}function pa(e){return typeof e=="string"?e:a_e()||o_e()}function qR(e,t,n){w.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function iQ(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function sQ(...e){return t=>{e.forEach(n=>iQ(n,t))}}function ma(...e){return w.useCallback(sQ(...e),e)}function oQ(e,t,n="ltr"){const r=w.useRef(),i=w.useRef(!1),s=w.useRef(!1),o=w.useRef(0),[a,u]=w.useState(!1);return w.useEffect(()=>{i.current=!0},[]),w.useEffect(()=>{const l=({x:v,y:_})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const S=r.current.getBoundingClientRect();if(S.width&&S.height){const T=vf((v-S.left)/S.width,0,1);e({x:n==="ltr"?T:1-T,y:vf((_-S.top)/S.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",h),document.addEventListener("touchmove",g),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",h)},d=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=v=>{d(),v.preventDefault(),m(v)},m=v=>l({x:v.clientX,y:v.clientY}),y=v=>{v.cancelable&&v.preventDefault(),d(),g(v)},g=v=>{v.cancelable&&v.preventDefault(),l({x:v.changedTouches[0].clientX,y:v.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function so({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=w.useState(t!==void 0?t:n),o=a=>{s(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,o,!1]}function $I(e,t){return Kve("(prefers-reduced-motion: reduce)",e,t)}const u_e=e=>e<.5?2*e*e:-1+(4-2*e)*e,l_e=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const o=!!n,u=(n||document.body).getBoundingClientRect(),l=t.getBoundingClientRect(),c=f=>l[f]-u[f];if(e==="y"){const f=c("top");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.height*(s?0:1)||!s?h:0}const d=o?u.height:window.innerHeight;if(r==="end"){const h=f+i-d+l.height;return h>=-l.height*(s?0:1)||!s?h:0}return r==="center"?f-d/2+l.height/2:0}if(e==="x"){const f=c("left");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.width||!s?h:0}const d=o?u.width:window.innerWidth;if(r==="end"){const h=f+i-d+l.width;return h>=-l.width||!s?h:0}return r==="center"?f-d/2+l.width/2:0}return 0},c_e=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},f_e=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:s}=document;i[r]=n,s[r]=n}};function aQ({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=u_e,offset:i=0,cancelable:s=!0,isList:o=!1}={}){const a=w.useRef(0),u=w.useRef(0),l=w.useRef(!1),c=w.useRef(null),f=w.useRef(null),d=$I(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=w.useCallback(({alignment:y="start"}={})=>{var g;l.current=!1,a.current&&h();const v=(g=c_e({parent:c.current,axis:t}))!=null?g:0,_=l_e({parent:c.current,target:f.current,axis:t,alignment:y,offset:i,isList:o})-(c.current?0:v);function S(){u.current===0&&(u.current=performance.now());const E=performance.now()-u.current,x=d||e===0?1:E/e,P=v+_*r(x);f_e({parent:c.current,axis:t,distance:P}),!l.current&&x<1?a.current=requestAnimationFrame(S):(typeof n=="function"&&n(),u.current=0,a.current=0,h())}S()},[t,e,r,o,i,n,d]),m=()=>{s&&(l.current=!0)};return qR("wheel",m,{passive:!0}),qR("touchmove",m,{passive:!0}),w.useEffect(()=>h,[]),{scrollableRef:c,targetRef:f,scrollIntoView:p,cancel:h}}const d_e={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function LI(){const e=w.useRef(0),t=w.useRef(null),[n,r]=w.useState(d_e),i=w.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return w.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function h_e(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const p_e=({disableBodyPadding:e})=>{const t=e?null:h_e();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function m_e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function g_e(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function y_e(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function v_e(e,t={disableBodyPadding:!1}){const[n,r]=w.useState(e||!1),i=w.useRef(0),{disableBodyPadding:s}=t,o=w.useRef(null),a=()=>{i.current=window.scrollY;const l=p_e({disableBodyPadding:s}),c=y_e();m_e(c,l),g_e(c),o.current=c},u=()=>{o!=null&&o.current&&(o.current.parentNode.removeChild(o.current),o.current=null)};return w.useEffect(()=>(n?a():u(),u),[n]),w.useEffect(()=>{e!==void 0&&r(e)},[e]),w.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}function __e(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function b_e(){return typeof window<"u"?__e():"undetermined"}function w_e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function E_e(e){const[t,n]=w.useState(e);return[t,w_e(n)]}function k$(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,s]=w.useState(e),o=w.useCallback(()=>{s(l=>l||(n==null||n(),!0))},[n]),a=w.useCallback(()=>{s(l=>l&&(r==null||r(),!1))},[r]),u=w.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:u}]}function S_e(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var i8=Object.getOwnPropertySymbols,T_e=Object.prototype.hasOwnProperty,x_e=Object.prototype.propertyIsEnumerable,I_e=(e,t)=>{var n={};for(var r in e)T_e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&i8)for(var r of i8(e))t.indexOf(r)<0&&x_e.call(e,r)&&(n[r]=e[r]);return n};function gc(e){const t=e,{m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:m,bg:y,c:g,opacity:v,ff:_,fz:S,fw:T,lts:E,ta:x,lh:P,fs:M,tt:L,td:F,w:V,miw:oe,maw:U,h:te,mih:ue,mah:ne,bgsz:q,bgp:fe,bgr:A,bga:W,pos:Y,top:C,left:O,bottom:k,right:G,inset:de,display:he}=t,ge=I_e(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:YK({m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:m,bg:y,c:g,opacity:v,ff:_,fz:S,fw:T,lts:E,ta:x,lh:P,fs:M,tt:L,td:F,w:V,miw:oe,maw:U,h:te,mih:ue,mah:ne,bgsz:q,bgp:fe,bgr:A,bga:W,pos:Y,top:C,left:O,bottom:k,right:G,inset:de,display:he}),rest:ge}}function C_e(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function P_e({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return C_e(e,t).reduce((o,a)=>{if(a==="base"&&e.base!==void 0){const l=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{o[c]=l}),o):(o[r]=l,o)}const u=n(e[a],t);return Array.isArray(r)?(o[t.fn.largerThan(a)]={},r.forEach(l=>{o[t.fn.largerThan(a)][l]=u}),o):(o[t.fn.largerThan(a)]={[r]:u},o)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((s,o)=>(s[o]=i,s),{}):{[r]:i}}function A_e(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function O_e(e){return e}function R_e(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const N_e=["-xs","-sm","-md","-lg","-xl"];function k_e(e,t){return N_e.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const D_e={color:A_e,default:O_e,fontSize:R_e,spacing:k_e},$_e={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var L_e=Object.defineProperty,s8=Object.getOwnPropertySymbols,M_e=Object.prototype.hasOwnProperty,F_e=Object.prototype.propertyIsEnumerable,o8=(e,t,n)=>t in e?L_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a8=(e,t)=>{for(var n in t||(t={}))M_e.call(t,n)&&o8(e,n,t[n]);if(s8)for(var n of s8(t))F_e.call(t,n)&&o8(e,n,t[n]);return e};function GR(e,t,n=$_e){return Object.keys(n).reduce((i,s)=>(s in e&&e[s]!==void 0&&i.push(P_e({value:e[s],getValue:D_e[n[s].type],property:n[s].property,theme:t})),i),[]).reduce((i,s)=>(Object.keys(s).forEach(o=>{typeof s[o]=="object"&&s[o]!==null&&o in i?i[o]=a8(a8({},i[o]),s[o]):i[o]=s[o]}),i),{})}function u8(e,t){return typeof e=="function"?e(t):e}function j_e(e,t,n){const r=Vi(),{css:i,cx:s}=XK();return Array.isArray(e)?s(n,i(GR(t,r)),e.map(o=>i(u8(o,r)))):s(n,i(u8(e,r)),i(GR(t,r)))}var B_e=Object.defineProperty,LE=Object.getOwnPropertySymbols,uQ=Object.prototype.hasOwnProperty,lQ=Object.prototype.propertyIsEnumerable,l8=(e,t,n)=>t in e?B_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U_e=(e,t)=>{for(var n in t||(t={}))uQ.call(t,n)&&l8(e,n,t[n]);if(LE)for(var n of LE(t))lQ.call(t,n)&&l8(e,n,t[n]);return e},V_e=(e,t)=>{var n={};for(var r in e)uQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LE)for(var r of LE(e))t.indexOf(r)<0&&lQ.call(e,r)&&(n[r]=e[r]);return n};const cQ=w.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:s,sx:o}=n,a=V_e(n,["className","component","style","sx"]);const{systemStyles:u,rest:l}=gc(a),c=i||"div";return R.createElement(c,U_e({ref:t,className:j_e(o,u,r),style:s},l))});cQ.displayName="@mantine/core/Box";const ft=cQ;var z_e=Object.defineProperty,H_e=Object.defineProperties,W_e=Object.getOwnPropertyDescriptors,c8=Object.getOwnPropertySymbols,q_e=Object.prototype.hasOwnProperty,G_e=Object.prototype.propertyIsEnumerable,f8=(e,t,n)=>t in e?z_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d8=(e,t)=>{for(var n in t||(t={}))q_e.call(t,n)&&f8(e,n,t[n]);if(c8)for(var n of c8(t))G_e.call(t,n)&&f8(e,n,t[n]);return e},Y_e=(e,t)=>H_e(e,W_e(t)),K_e=dt(e=>({root:Y_e(d8(d8({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})})),Q_e=Object.defineProperty,ME=Object.getOwnPropertySymbols,fQ=Object.prototype.hasOwnProperty,dQ=Object.prototype.propertyIsEnumerable,h8=(e,t,n)=>t in e?Q_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X_e=(e,t)=>{for(var n in t||(t={}))fQ.call(t,n)&&h8(e,n,t[n]);if(ME)for(var n of ME(t))dQ.call(t,n)&&h8(e,n,t[n]);return e},J_e=(e,t)=>{var n={};for(var r in e)fQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ME)for(var r of ME(e))t.indexOf(r)<0&&dQ.call(e,r)&&(n[r]=e[r]);return n};const hQ=w.forwardRef((e,t)=>{const n=Ye("UnstyledButton",{},e),{className:r,component:i="button",unstyled:s}=n,o=J_e(n,["className","component","unstyled"]),{classes:a,cx:u}=K_e(null,{name:"UnstyledButton",unstyled:s});return R.createElement(ft,X_e({component:i,ref:t,className:u(a.root,r),type:i==="button"?"button":void 0},o))});hQ.displayName="@mantine/core/UnstyledButton";const MI=hQ;var Z_e=Object.defineProperty,e1e=Object.defineProperties,t1e=Object.getOwnPropertyDescriptors,FE=Object.getOwnPropertySymbols,pQ=Object.prototype.hasOwnProperty,mQ=Object.prototype.propertyIsEnumerable,p8=(e,t,n)=>t in e?Z_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dd=(e,t)=>{for(var n in t||(t={}))pQ.call(t,n)&&p8(e,n,t[n]);if(FE)for(var n of FE(t))mQ.call(t,n)&&p8(e,n,t[n]);return e},$A=(e,t)=>e1e(e,t1e(t)),n1e=(e,t)=>{var n={};for(var r in e)pQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FE)for(var r of FE(e))t.indexOf(r)<0&&mQ.call(e,r)&&(n[r]=e[r]);return n};function r1e(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function LA(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const sb=typeof window<"u"&&window.requestAnimationFrame;function i1e({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=w.useRef(null),s="0px",o={display:"none",height:"0px",overflow:"hidden"},[a,u]=w.useState(r?{}:o),l=p=>{pc.flushSync(()=>u(p))},c=p=>{l(m=>dd(dd({},m),p))};function f(p){return{transition:`height ${e||r1e(p)}ms ${t}`}}to(()=>{sb(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),sb(()=>{const p=LA(i);c($A(dd({},f(p)),{height:p}))})}:()=>{const p=LA(i);c($A(dd({},f(p)),{willChange:"height",height:p})),sb(()=>c({height:s,overflow:"hidden"}))})},[r]);const d=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const m=LA(i);m===a.height?l({}):c({height:m}),n()}else a.height===s&&(l(o),n())};function h(p={}){var m=p,{style:y={},refKey:g="ref"}=m,v=n1e(m,["style","refKey"]);const _=v[g];return $A(dd({"aria-hidden":!r},v),{[g]:sQ(i,_),onTransitionEnd:d,style:dd(dd({boxSizing:"border-box"},y),a)})}return h}var s1e=Object.defineProperty,jE=Object.getOwnPropertySymbols,gQ=Object.prototype.hasOwnProperty,yQ=Object.prototype.propertyIsEnumerable,m8=(e,t,n)=>t in e?s1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ob=(e,t)=>{for(var n in t||(t={}))gQ.call(t,n)&&m8(e,n,t[n]);if(jE)for(var n of jE(t))yQ.call(t,n)&&m8(e,n,t[n]);return e},o1e=(e,t)=>{var n={};for(var r in e)gQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jE)for(var r of jE(e))t.indexOf(r)<0&&yQ.call(e,r)&&(n[r]=e[r]);return n};const a1e={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},vQ=w.forwardRef((e,t)=>{const n=Ye("Collapse",a1e,e),{children:r,in:i,transitionDuration:s,transitionTimingFunction:o,style:a,onTransitionEnd:u,animateOpacity:l}=n,c=o1e(n,["children","in","transitionDuration","transitionTimingFunction","style","onTransitionEnd","animateOpacity"]),f=Vi(),d=$I(),p=(f.respectReducedMotion?d:!1)?0:s,{systemStyles:m,rest:y}=gc(c),g=i1e({opened:i,transitionDuration:p,transitionTimingFunction:o,onTransitionEnd:u});return p===0?i?R.createElement(ft,ob({},y),r):null:R.createElement(ft,ob({},g(ob(ob({style:a,ref:t},y),m))),R.createElement("div",{style:{opacity:i||!l?1:0,transition:l?`opacity ${p}ms ${o}`:"none"}},r))});vQ.displayName="@mantine/core/Collapse";var u1e=Object.defineProperty,g8=Object.getOwnPropertySymbols,l1e=Object.prototype.hasOwnProperty,c1e=Object.prototype.propertyIsEnumerable,y8=(e,t,n)=>t in e?u1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f1e=(e,t)=>{for(var n in t||(t={}))l1e.call(t,n)&&y8(e,n,t[n]);if(g8)for(var n of g8(t))c1e.call(t,n)&&y8(e,n,t[n]);return e};function d1e(e){return R.createElement("svg",f1e({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),R.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var h1e=Object.defineProperty,p1e=Object.defineProperties,m1e=Object.getOwnPropertyDescriptors,v8=Object.getOwnPropertySymbols,g1e=Object.prototype.hasOwnProperty,y1e=Object.prototype.propertyIsEnumerable,_8=(e,t,n)=>t in e?h1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_Q=(e,t)=>{for(var n in t||(t={}))g1e.call(t,n)&&_8(e,n,t[n]);if(v8)for(var n of v8(t))y1e.call(t,n)&&_8(e,n,t[n]);return e},v1e=(e,t)=>p1e(e,m1e(t));const J0={xs:18,sm:22,md:28,lg:34,xl:44};function _1e({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:_Q({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var b1e=dt((e,{color:t,size:n,radius:r,variant:i,gradient:s})=>({root:v1e(_Q({},_1e({variant:i,theme:e,color:t,gradient:s})),{position:"relative",height:e.fn.size({size:n,sizes:J0}),minHeight:e.fn.size({size:n,sizes:J0}),width:e.fn.size({size:n,sizes:J0}),minWidth:e.fn.size({size:n,sizes:J0}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})})),w1e=Object.defineProperty,BE=Object.getOwnPropertySymbols,bQ=Object.prototype.hasOwnProperty,wQ=Object.prototype.propertyIsEnumerable,b8=(e,t,n)=>t in e?w1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E1e=(e,t)=>{for(var n in t||(t={}))bQ.call(t,n)&&b8(e,n,t[n]);if(BE)for(var n of BE(t))wQ.call(t,n)&&b8(e,n,t[n]);return e},S1e=(e,t)=>{var n={};for(var r in e)bQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BE)for(var r of BE(e))t.indexOf(r)<0&&wQ.call(e,r)&&(n[r]=e[r]);return n};function T1e(e){var t=e,{size:n,color:r}=t,i=S1e(t,["size","color"]);return R.createElement("svg",E1e({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),R.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},R.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),R.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),R.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},R.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),R.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),R.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},R.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),R.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),R.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},R.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),R.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),R.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},R.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),R.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var x1e=Object.defineProperty,UE=Object.getOwnPropertySymbols,EQ=Object.prototype.hasOwnProperty,SQ=Object.prototype.propertyIsEnumerable,w8=(e,t,n)=>t in e?x1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I1e=(e,t)=>{for(var n in t||(t={}))EQ.call(t,n)&&w8(e,n,t[n]);if(UE)for(var n of UE(t))SQ.call(t,n)&&w8(e,n,t[n]);return e},C1e=(e,t)=>{var n={};for(var r in e)EQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UE)for(var r of UE(e))t.indexOf(r)<0&&SQ.call(e,r)&&(n[r]=e[r]);return n};function P1e(e){var t=e,{size:n,color:r}=t,i=C1e(t,["size","color"]);return R.createElement("svg",I1e({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),R.createElement("g",{fill:"none",fillRule:"evenodd"},R.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},R.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),R.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},R.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var A1e=Object.defineProperty,VE=Object.getOwnPropertySymbols,TQ=Object.prototype.hasOwnProperty,xQ=Object.prototype.propertyIsEnumerable,E8=(e,t,n)=>t in e?A1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O1e=(e,t)=>{for(var n in t||(t={}))TQ.call(t,n)&&E8(e,n,t[n]);if(VE)for(var n of VE(t))xQ.call(t,n)&&E8(e,n,t[n]);return e},R1e=(e,t)=>{var n={};for(var r in e)TQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VE)for(var r of VE(e))t.indexOf(r)<0&&xQ.call(e,r)&&(n[r]=e[r]);return n};function N1e(e){var t=e,{size:n,color:r}=t,i=R1e(t,["size","color"]);return R.createElement("svg",O1e({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),R.createElement("circle",{cx:"15",cy:"15",r:"15"},R.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),R.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),R.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},R.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),R.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),R.createElement("circle",{cx:"105",cy:"15",r:"15"},R.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),R.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var k1e=Object.defineProperty,zE=Object.getOwnPropertySymbols,IQ=Object.prototype.hasOwnProperty,CQ=Object.prototype.propertyIsEnumerable,S8=(e,t,n)=>t in e?k1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D1e=(e,t)=>{for(var n in t||(t={}))IQ.call(t,n)&&S8(e,n,t[n]);if(zE)for(var n of zE(t))CQ.call(t,n)&&S8(e,n,t[n]);return e},$1e=(e,t)=>{var n={};for(var r in e)IQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zE)for(var r of zE(e))t.indexOf(r)<0&&CQ.call(e,r)&&(n[r]=e[r]);return n};const MA={bars:T1e,oval:P1e,dots:N1e},L1e={xs:18,sm:22,md:36,lg:44,xl:58},M1e={size:"md"};function nd(e){const t=Ye("Loader",M1e,e),{size:n,color:r,variant:i}=t,s=$1e(t,["size","color","variant"]),o=Vi(),a=i in MA?i:o.loader;return R.createElement(ft,D1e({role:"presentation",component:MA[a]||MA.bars,size:o.fn.size({size:n,sizes:L1e}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:r||o.primaryColor}).background},s))}nd.displayName="@mantine/core/Loader";var F1e=Object.defineProperty,HE=Object.getOwnPropertySymbols,PQ=Object.prototype.hasOwnProperty,AQ=Object.prototype.propertyIsEnumerable,T8=(e,t,n)=>t in e?F1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x8=(e,t)=>{for(var n in t||(t={}))PQ.call(t,n)&&T8(e,n,t[n]);if(HE)for(var n of HE(t))AQ.call(t,n)&&T8(e,n,t[n]);return e},j1e=(e,t)=>{var n={};for(var r in e)PQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HE)for(var r of HE(e))t.indexOf(r)<0&&AQ.call(e,r)&&(n[r]=e[r]);return n};const B1e={color:"gray",size:"md",variant:"subtle",loading:!1},OQ=w.forwardRef((e,t)=>{const n=Ye("ActionIcon",B1e,e),{className:r,color:i,children:s,radius:o,size:a,variant:u,gradient:l,disabled:c,loaderProps:f,loading:d,unstyled:h}=n,p=j1e(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:m,cx:y,theme:g}=b1e({size:a,radius:o,color:i,variant:u,gradient:l},{name:"ActionIcon",unstyled:h}),v=g.fn.variant({color:i,variant:u}),_=R.createElement(nd,x8({color:v.color,size:g.fn.size({size:a,sizes:J0})-12},f));return R.createElement(MI,x8({className:y(m.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":d||void 0,unstyled:h},p),d?_:s)});OQ.displayName="@mantine/core/ActionIcon";const RQ=OQ;function NQ(e){const{children:t,target:n,className:r}=Ye("Portal",{},e),i=Vi(),[s,o]=w.useState(!1),a=w.useRef();return N$(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),s?pc.createPortal(R.createElement("div",{className:r,dir:i.dir},t),a.current):null}NQ.displayName="@mantine/core/Portal";var U1e=Object.defineProperty,WE=Object.getOwnPropertySymbols,kQ=Object.prototype.hasOwnProperty,DQ=Object.prototype.propertyIsEnumerable,I8=(e,t,n)=>t in e?U1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V1e=(e,t)=>{for(var n in t||(t={}))kQ.call(t,n)&&I8(e,n,t[n]);if(WE)for(var n of WE(t))DQ.call(t,n)&&I8(e,n,t[n]);return e},z1e=(e,t)=>{var n={};for(var r in e)kQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WE)for(var r of WE(e))t.indexOf(r)<0&&DQ.call(e,r)&&(n[r]=e[r]);return n};function M_(e){var t=e,{withinPortal:n=!0,children:r}=t,i=z1e(t,["withinPortal","children"]);return n?R.createElement(NQ,V1e({},i),r):R.createElement(R.Fragment,null,r)}M_.displayName="@mantine/core/OptionalPortal";var H1e=Object.defineProperty,W1e=Object.defineProperties,q1e=Object.getOwnPropertyDescriptors,C8=Object.getOwnPropertySymbols,G1e=Object.prototype.hasOwnProperty,Y1e=Object.prototype.propertyIsEnumerable,P8=(e,t,n)=>t in e?H1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FA=(e,t)=>{for(var n in t||(t={}))G1e.call(t,n)&&P8(e,n,t[n]);if(C8)for(var n of C8(t))Y1e.call(t,n)&&P8(e,n,t[n]);return e},A8=(e,t)=>W1e(e,q1e(t));function K1e({variant:e,color:t,theme:n}){if(e==="filled")return{backgroundColor:n.fn.variant({variant:"filled",color:t}).background,color:n.white};if(e==="outline"){const i=n.fn.variant({variant:"outline",color:t});return{color:i.color,borderColor:i.border,backgroundColor:n.colorScheme==="dark"?n.colors.dark[6]:n.white}}const r=n.fn.variant({variant:"light",color:t});return{backgroundColor:r.background,color:r.color}}var Q1e=dt((e,{color:t,radius:n,variant:r})=>({root:FA(A8(FA({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",padding:`${e.spacing.sm}px ${e.spacing.md}px`,borderRadius:e.fn.radius(n),border:"1px solid transparent"}),K1e({variant:r,color:t,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:A8(FA({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:r==="filled"?e.white:e.colorScheme==="dark"?r==="light"?e.white:e.colors.dark[0]:e.black}),closeButton:{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,color:"inherit"}})),X1e=Object.defineProperty,O8=Object.getOwnPropertySymbols,J1e=Object.prototype.hasOwnProperty,Z1e=Object.prototype.propertyIsEnumerable,R8=(e,t,n)=>t in e?X1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ebe=(e,t)=>{for(var n in t||(t={}))J1e.call(t,n)&&R8(e,n,t[n]);if(O8)for(var n of O8(t))Z1e.call(t,n)&&R8(e,n,t[n]);return e};function $Q(e){return R.createElement("svg",ebe({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),R.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}$Q.displayName="@mantine/core/CloseIcon";var tbe=Object.defineProperty,qE=Object.getOwnPropertySymbols,LQ=Object.prototype.hasOwnProperty,MQ=Object.prototype.propertyIsEnumerable,N8=(e,t,n)=>t in e?tbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nbe=(e,t)=>{for(var n in t||(t={}))LQ.call(t,n)&&N8(e,n,t[n]);if(qE)for(var n of qE(t))MQ.call(t,n)&&N8(e,n,t[n]);return e},rbe=(e,t)=>{var n={};for(var r in e)LQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qE)for(var r of qE(e))t.indexOf(r)<0&&MQ.call(e,r)&&(n[r]=e[r]);return n};const ibe={xs:12,sm:14,md:16,lg:20,xl:24},sbe={size:"md"},FQ=w.forwardRef((e,t)=>{const n=Ye("CloseButton",sbe,e),{iconSize:r,size:i="md"}=n,s=rbe(n,["iconSize","size"]),o=Vi(),a=r||o.fn.size({size:i,sizes:ibe});return R.createElement(RQ,nbe({size:i,ref:t},s),R.createElement($Q,{width:a,height:a}))});FQ.displayName="@mantine/core/CloseButton";const FI=FQ;var obe=Object.defineProperty,GE=Object.getOwnPropertySymbols,jQ=Object.prototype.hasOwnProperty,BQ=Object.prototype.propertyIsEnumerable,k8=(e,t,n)=>t in e?obe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,abe=(e,t)=>{for(var n in t||(t={}))jQ.call(t,n)&&k8(e,n,t[n]);if(GE)for(var n of GE(t))BQ.call(t,n)&&k8(e,n,t[n]);return e},ube=(e,t)=>{var n={};for(var r in e)jQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GE)for(var r of GE(e))t.indexOf(r)<0&&BQ.call(e,r)&&(n[r]=e[r]);return n};const lbe={variant:"light"},UQ=w.forwardRef((e,t)=>{const n=Ye("Alert",lbe,e),{id:r,className:i,title:s,variant:o,children:a,color:u,classNames:l,icon:c,styles:f,onClose:d,radius:h,withCloseButton:p,closeButtonLabel:m,unstyled:y}=n,g=ube(n,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:v,cx:_}=Q1e({color:u,radius:h,variant:o},{classNames:l,styles:f,unstyled:y,name:"Alert"}),S=pa(r),T=s&&`${S}-title`,E=`${S}-body`;return R.createElement(ft,abe({id:S,role:"alert","aria-labelledby":T,"aria-describedby":E,className:_(v.root,v[o],i),ref:t},g),R.createElement("div",{className:v.wrapper},c&&R.createElement("div",{className:v.icon},c),R.createElement("div",{className:v.body},s&&R.createElement("div",{className:v.title,"data-with-close-button":p||void 0},R.createElement("span",{id:T,className:v.label},s)),p&&R.createElement(FI,{className:v.closeButton,onClick:d,variant:"transparent",size:16,iconSize:16,"aria-label":m}),R.createElement("div",{id:E,className:v.message},a))))});UQ.displayName="@mantine/core/Alert";var cbe=Object.defineProperty,fbe=Object.defineProperties,dbe=Object.getOwnPropertyDescriptors,D8=Object.getOwnPropertySymbols,hbe=Object.prototype.hasOwnProperty,pbe=Object.prototype.propertyIsEnumerable,$8=(e,t,n)=>t in e?cbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w0=(e,t)=>{for(var n in t||(t={}))hbe.call(t,n)&&$8(e,n,t[n]);if(D8)for(var n of D8(t))pbe.call(t,n)&&$8(e,n,t[n]);return e},mbe=(e,t)=>fbe(e,dbe(t));function gbe({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function ybe({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function vbe(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}function _be({theme:e,truncate:t}){return t==="start"?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:e.dir==="ltr"?"rtl":"ltr",textAlign:e.dir==="ltr"?"right":"left"}:t?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var bbe=dt((e,{color:t,variant:n,size:r,lineClamp:i,truncate:s,inline:o,inherit:a,underline:u,gradient:l,weight:c,transform:f,align:d,strikethrough:h,italic:p})=>{const m=e.fn.variant({variant:"gradient",gradient:l});return{root:w0(mbe(w0(w0(w0(w0({},e.fn.fontStyles()),e.fn.focusStyles()),vbe(i)),_be({theme:e,truncate:s})),{color:ybe({color:t,theme:e,variant:n}),fontFamily:a?"inherit":e.fontFamily,fontSize:a||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:a?"inherit":o?1:e.lineHeight,textDecoration:gbe({underline:u,strikethrough:h}),WebkitTapHighlightColor:"transparent",fontWeight:a?"inherit":c,textTransform:f,textAlign:d,fontStyle:p?"italic":void 0}),e.fn.hover(n==="link"&&u===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:m.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}}),wbe=Object.defineProperty,YE=Object.getOwnPropertySymbols,VQ=Object.prototype.hasOwnProperty,zQ=Object.prototype.propertyIsEnumerable,L8=(e,t,n)=>t in e?wbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ebe=(e,t)=>{for(var n in t||(t={}))VQ.call(t,n)&&L8(e,n,t[n]);if(YE)for(var n of YE(t))zQ.call(t,n)&&L8(e,n,t[n]);return e},Sbe=(e,t)=>{var n={};for(var r in e)VQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YE)for(var r of YE(e))t.indexOf(r)<0&&zQ.call(e,r)&&(n[r]=e[r]);return n};const Tbe={variant:"text"},HQ=w.forwardRef((e,t)=>{const n=Ye("Text",Tbe,e),{className:r,size:i,weight:s,transform:o,color:a,align:u,variant:l,lineClamp:c,truncate:f,gradient:d,inline:h,inherit:p,underline:m,strikethrough:y,italic:g,classNames:v,styles:_,unstyled:S,span:T}=n,E=Sbe(n,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:x,cx:P}=bbe({variant:l,color:a,size:i,lineClamp:c,truncate:f,inline:h,inherit:p,underline:m,strikethrough:y,italic:g,weight:s,transform:o,align:u,gradient:d},{unstyled:S,name:"Text"});return R.createElement(ft,Ebe({ref:t,className:P(x.root,{[x.gradient]:l==="gradient"},r),component:T?"span":"div"},E))});HQ.displayName="@mantine/core/Text";const tt=HQ;var xbe=dt(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}})),Ibe=Object.defineProperty,KE=Object.getOwnPropertySymbols,WQ=Object.prototype.hasOwnProperty,qQ=Object.prototype.propertyIsEnumerable,M8=(e,t,n)=>t in e?Ibe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F8=(e,t)=>{for(var n in t||(t={}))WQ.call(t,n)&&M8(e,n,t[n]);if(KE)for(var n of KE(t))qQ.call(t,n)&&M8(e,n,t[n]);return e},Cbe=(e,t)=>{var n={};for(var r in e)WQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KE)for(var r of KE(e))t.indexOf(r)<0&&qQ.call(e,r)&&(n[r]=e[r]);return n};const Pbe={},GQ=w.forwardRef((e,t)=>{const n=Ye("Anchor",Pbe,e),{component:r,className:i,unstyled:s}=n,o=Cbe(n,["component","className","unstyled"]),{classes:a,cx:u}=xbe(null,{name:"Anchor",unstyled:s}),l=r==="button"?{type:"button"}:null;return R.createElement(tt,F8(F8({component:r||"a",variant:"link",ref:t,className:u(a.root,i)},l),o))});GQ.displayName="@mantine/core/Anchor";const YQ=GQ,KQ=w.createContext({zIndex:1e3,fixed:!1,layout:"default"}),Abe=KQ.Provider;function QQ(){return w.useContext(KQ)}function jI(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var Obe=Object.defineProperty,Rbe=Object.defineProperties,Nbe=Object.getOwnPropertyDescriptors,j8=Object.getOwnPropertySymbols,kbe=Object.prototype.hasOwnProperty,Dbe=Object.prototype.propertyIsEnumerable,B8=(e,t,n)=>t in e?Obe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ab=(e,t)=>{for(var n in t||(t={}))kbe.call(t,n)&&B8(e,n,t[n]);if(j8)for(var n of j8(t))Dbe.call(t,n)&&B8(e,n,t[n]);return e},U8=(e,t)=>Rbe(e,Nbe(t)),$be=dt((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:s,zIndex:o,section:a,withBorder:u,layout:l})=>{const c=typeof n=="object"&&n!==null?jI(n,e).reduce((d,[h,p])=>(d[`@media (min-width: ${h}px)`]={width:p,minWidth:p},d),{}):null,f=u?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:U8(ab(ab(U8(ab(ab({},e.fn.fontStyles()),i),{top:l==="alt"?0:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:o,height:t||(l==="alt"?"auto":"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))"),width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),f),c),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:s,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const Lbe=$be;var Mbe=Object.defineProperty,QE=Object.getOwnPropertySymbols,XQ=Object.prototype.hasOwnProperty,JQ=Object.prototype.propertyIsEnumerable,V8=(e,t,n)=>t in e?Mbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z8=(e,t)=>{for(var n in t||(t={}))XQ.call(t,n)&&V8(e,n,t[n]);if(QE)for(var n of QE(t))JQ.call(t,n)&&V8(e,n,t[n]);return e},Fbe=(e,t)=>{var n={};for(var r in e)XQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QE)for(var r of QE(e))t.indexOf(r)<0&&JQ.call(e,r)&&(n[r]=e[r]);return n};const D$=w.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:s=!1,position:o,zIndex:a,hiddenBreakpoint:u="md",hidden:l=!1,withBorder:c=!0,className:f,classNames:d,styles:h,children:p,section:m,__staticSelector:y,unstyled:g}=n,v=Fbe(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const _=QQ(),{classes:S,cx:T,theme:E}=Lbe({width:r,height:i,fixed:_.fixed||s,position:o,hiddenBreakpoint:u,zIndex:a||_.zIndex||mc("app"),section:m,withBorder:c,layout:_.layout},{classNames:d,styles:h,name:y,unstyled:g}),x=jI(r,E).reduce((P,[M,L])=>(P[`@media (min-width: ${M}px)`]={[`--mantine-${m}-width`]:`${L}px`},P),{});return R.createElement(ft,z8({component:m==="navbar"?"nav":"aside",ref:t,"data-hidden":l||void 0,className:T(S.root,f)},v),p,R.createElement(JK,{styles:()=>({":root":z8({[`--mantine-${m}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},x)})}))});D$.displayName="@mantine/core/HorizontalSection";var jbe=Object.defineProperty,XE=Object.getOwnPropertySymbols,ZQ=Object.prototype.hasOwnProperty,eX=Object.prototype.propertyIsEnumerable,H8=(e,t,n)=>t in e?jbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bbe=(e,t)=>{for(var n in t||(t={}))ZQ.call(t,n)&&H8(e,n,t[n]);if(XE)for(var n of XE(t))eX.call(t,n)&&H8(e,n,t[n]);return e},Ube=(e,t)=>{var n={};for(var r in e)ZQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XE)for(var r of XE(e))t.indexOf(r)<0&&eX.call(e,r)&&(n[r]=e[r]);return n};const tX=w.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:s}=n,o=Ube(n,["children","grow","sx"]);return R.createElement(ft,Bbe({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...dh(s)]},o),r)});tX.displayName="@mantine/core/Section";const nX=tX;var Vbe=Object.defineProperty,W8=Object.getOwnPropertySymbols,zbe=Object.prototype.hasOwnProperty,Hbe=Object.prototype.propertyIsEnumerable,q8=(e,t,n)=>t in e?Vbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wbe=(e,t)=>{for(var n in t||(t={}))zbe.call(t,n)&&q8(e,n,t[n]);if(W8)for(var n of W8(t))Hbe.call(t,n)&&q8(e,n,t[n]);return e};const qbe={fixed:!1,position:{top:0,left:0},hiddenBreakpoint:"md",hidden:!1},Ty=w.forwardRef((e,t)=>{const n=Ye("Navbar",qbe,e);return R.createElement(D$,Wbe({section:"navbar",__staticSelector:"Navbar",ref:t},n))});Ty.Section=nX;Ty.displayName="@mantine/core/Navbar";var Gbe=Object.defineProperty,Ybe=Object.defineProperties,Kbe=Object.getOwnPropertyDescriptors,G8=Object.getOwnPropertySymbols,Qbe=Object.prototype.hasOwnProperty,Xbe=Object.prototype.propertyIsEnumerable,Y8=(e,t,n)=>t in e?Gbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jA=(e,t)=>{for(var n in t||(t={}))Qbe.call(t,n)&&Y8(e,n,t[n]);if(G8)for(var n of G8(t))Xbe.call(t,n)&&Y8(e,n,t[n]);return e},K8=(e,t)=>Ybe(e,Kbe(t)),Jbe=dt((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:s,layout:o})=>{const a=typeof t=="object"&&t!==null?jI(t,e).reduce((u,[l,c])=>(u[`@media (min-width: ${l}px)`]={height:c,minHeight:c},u),{}):null;return{root:K8(jA(K8(jA(jA({},e.fn.fontStyles()),r),{zIndex:i,left:o==="alt"?"var(--mantine-navbar-width, 0)":0,right:o==="alt"?"var(--mantine-aside-width, 0)":0,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),a),{borderBottom:s==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:s==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const Zbe=Jbe;var ewe=Object.defineProperty,JE=Object.getOwnPropertySymbols,rX=Object.prototype.hasOwnProperty,iX=Object.prototype.propertyIsEnumerable,Q8=(e,t,n)=>t in e?ewe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X8=(e,t)=>{for(var n in t||(t={}))rX.call(t,n)&&Q8(e,n,t[n]);if(JE)for(var n of JE(t))iX.call(t,n)&&Q8(e,n,t[n]);return e},twe=(e,t)=>{var n={};for(var r in e)rX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JE)for(var r of JE(e))t.indexOf(r)<0&&iX.call(e,r)&&(n[r]=e[r]);return n};const sX=w.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,height:a,fixed:u=!1,withBorder:l=!0,position:c,zIndex:f,section:d,unstyled:h,__staticSelector:p}=n,m=twe(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const y=QQ(),g=f||y.zIndex||mc("app"),{classes:v,cx:_,theme:S}=Zbe({height:a,fixed:y.fixed||u,position:c,zIndex:typeof g=="number"&&y.layout==="default"?g+1:g,layout:y.layout,borderPosition:l?d==="header"?"bottom":"top":"none"},{name:p,classNames:s,styles:o,unstyled:h}),T=typeof a=="object"&&a!==null?jI(a,S).reduce((E,[x,P])=>(E[`@media (min-width: ${x}px)`]={[`--mantine-${d}-height`]:`${P}px`},E),{}):null;return R.createElement(ft,X8({component:d==="header"?"header":"footer",className:_(v.root,i),ref:t},m),r,R.createElement(JK,{styles:()=>({":root":X8({[`--mantine-${d}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},T)})}))});sX.displayName="@mantine/core/VerticalSection";var nwe=Object.defineProperty,rwe=Object.defineProperties,iwe=Object.getOwnPropertyDescriptors,J8=Object.getOwnPropertySymbols,swe=Object.prototype.hasOwnProperty,owe=Object.prototype.propertyIsEnumerable,Z8=(e,t,n)=>t in e?nwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,awe=(e,t)=>{for(var n in t||(t={}))swe.call(t,n)&&Z8(e,n,t[n]);if(J8)for(var n of J8(t))owe.call(t,n)&&Z8(e,n,t[n]);return e},uwe=(e,t)=>rwe(e,iwe(t));const lwe={fixed:!1,position:{top:0,left:0,right:0}},oX=w.forwardRef((e,t)=>{const n=Ye("Header",lwe,e);return R.createElement(sX,uwe(awe({section:"header",__staticSelector:"Header"},n),{ref:t}))});oX.displayName="@mantine/core/Header";var cwe=Object.defineProperty,e9=Object.getOwnPropertySymbols,fwe=Object.prototype.hasOwnProperty,dwe=Object.prototype.propertyIsEnumerable,t9=(e,t,n)=>t in e?cwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hwe=(e,t)=>{for(var n in t||(t={}))fwe.call(t,n)&&t9(e,n,t[n]);if(e9)for(var n of e9(t))dwe.call(t,n)&&t9(e,n,t[n]);return e};const pwe={fixed:!1,position:{top:0,right:0},hiddenBreakpoint:"md",hidden:!1},$$=w.forwardRef((e,t)=>{const n=Ye("Aside",pwe,e);return R.createElement(D$,hwe({section:"aside",__staticSelector:"Aside",ref:t},n))});$$.Section=nX;$$.displayName="@mantine/core/Aside";var mwe=Object.defineProperty,n9=Object.getOwnPropertySymbols,gwe=Object.prototype.hasOwnProperty,ywe=Object.prototype.propertyIsEnumerable,r9=(e,t,n)=>t in e?mwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vwe=(e,t)=>{for(var n in t||(t={}))gwe.call(t,n)&&r9(e,n,t[n]);if(n9)for(var n of n9(t))ywe.call(t,n)&&r9(e,n,t[n]);return e};function _we(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var bwe=dt((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:vwe({flex:1,width:"100vw",boxSizing:"border-box"},_we(t,e))})),wwe=Object.defineProperty,ZE=Object.getOwnPropertySymbols,aX=Object.prototype.hasOwnProperty,uX=Object.prototype.propertyIsEnumerable,i9=(e,t,n)=>t in e?wwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ewe=(e,t)=>{for(var n in t||(t={}))aX.call(t,n)&&i9(e,n,t[n]);if(ZE)for(var n of ZE(t))uX.call(t,n)&&i9(e,n,t[n]);return e},Swe=(e,t)=>{var n={};for(var r in e)aX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZE)for(var r of ZE(e))t.indexOf(r)<0&&uX.call(e,r)&&(n[r]=e[r]);return n};const Twe={fixed:!0,padding:"md"},lX=w.forwardRef((e,t)=>{const n=Ye("AppShell",Twe,e),{children:r,navbar:i,header:s,footer:o,aside:a,fixed:u,zIndex:l,padding:c,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d,className:h,styles:p,classNames:m,unstyled:y,hidden:g,layout:v}=n,_=Swe(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden","layout"]),{classes:S,cx:T}=bwe({padding:c,fixed:u,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d},{styles:p,classNames:m,unstyled:y,name:"AppShell"});return g?R.createElement(R.Fragment,null,r):R.createElement(Abe,{value:{fixed:u,zIndex:l,layout:v}},R.createElement(ft,Ewe({className:T(S.root,h),ref:t},_),s,R.createElement("div",{className:S.body},i,R.createElement("main",{className:S.main},r),a),o))});lX.displayName="@mantine/core/AppShell";const ub={xs:1,sm:2,md:3,lg:4,xl:5};function lb(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var xwe=dt((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:ub})}px ${n} ${lb(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:ub})}px ${n} ${lb(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:ub}),borderTopColor:lb(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:ub}),borderLeftColor:lb(e,r),borderLeftStyle:n}})),Iwe=Object.defineProperty,Cwe=Object.defineProperties,Pwe=Object.getOwnPropertyDescriptors,eS=Object.getOwnPropertySymbols,cX=Object.prototype.hasOwnProperty,fX=Object.prototype.propertyIsEnumerable,s9=(e,t,n)=>t in e?Iwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o9=(e,t)=>{for(var n in t||(t={}))cX.call(t,n)&&s9(e,n,t[n]);if(eS)for(var n of eS(t))fX.call(t,n)&&s9(e,n,t[n]);return e},Awe=(e,t)=>Cwe(e,Pwe(t)),Owe=(e,t)=>{var n={};for(var r in e)cX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eS)for(var r of eS(e))t.indexOf(r)<0&&fX.call(e,r)&&(n[r]=e[r]);return n};const Rwe={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},_f=w.forwardRef((e,t)=>{const n=Ye("Divider",Rwe,e),{className:r,color:i,orientation:s,size:o,label:a,labelPosition:u,labelProps:l,variant:c,styles:f,classNames:d,unstyled:h}=n,p=Owe(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:m,cx:y}=xwe({color:i,size:o,variant:c},{classNames:d,styles:f,unstyled:h,name:"Divider"}),g=s==="vertical",v=s==="horizontal",_=!!a&&v,S=!(l!=null&&l.color);return R.createElement(ft,o9({ref:t,className:y(m.root,{[m.vertical]:g,[m.horizontal]:v,[m.withLabel]:_},r),role:"separator"},p),_&&R.createElement(tt,Awe(o9({},l),{size:(l==null?void 0:l.size)||"xs",sx:{marginTop:2},className:y(m.label,m[u],{[m.labelDefaultStyles]:S})}),a))});_f.displayName="@mantine/core/Divider";var Nwe=Object.defineProperty,kwe=Object.defineProperties,Dwe=Object.getOwnPropertyDescriptors,a9=Object.getOwnPropertySymbols,$we=Object.prototype.hasOwnProperty,Lwe=Object.prototype.propertyIsEnumerable,u9=(e,t,n)=>t in e?Nwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l9=(e,t)=>{for(var n in t||(t={}))$we.call(t,n)&&u9(e,n,t[n]);if(a9)for(var n of a9(t))Lwe.call(t,n)&&u9(e,n,t[n]);return e},Mwe=(e,t)=>kwe(e,Dwe(t)),Fwe=dt((e,{size:t})=>({item:Mwe(l9({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.fn.radius(),"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":l9({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}})),jwe=Object.defineProperty,c9=Object.getOwnPropertySymbols,Bwe=Object.prototype.hasOwnProperty,Uwe=Object.prototype.propertyIsEnumerable,f9=(e,t,n)=>t in e?jwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vwe=(e,t)=>{for(var n in t||(t={}))Bwe.call(t,n)&&f9(e,n,t[n]);if(c9)for(var n of c9(t))Uwe.call(t,n)&&f9(e,n,t[n]);return e};function L$({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:s,__staticSelector:o,onItemHover:a,onItemSelect:u,itemsRefs:l,itemComponent:c,size:f,nothingFound:d,creatable:h,createLabel:p,unstyled:m}){const{classes:y}=Fwe({size:f},{classNames:n,styles:r,unstyled:m,name:o}),g=[],v=[];let _=null;const S=(E,x)=>{const P=typeof i=="function"?i(E.value):!1;return R.createElement(c,Vwe({key:E.value,className:y.item,"data-disabled":E.disabled||void 0,"data-hovered":!E.disabled&&t===x||void 0,"data-selected":!E.disabled&&P||void 0,selected:P,onMouseEnter:()=>a(x),id:`${s}-${x}`,role:"option",tabIndex:-1,"aria-selected":t===x,ref:M=>{l&&l.current&&(l.current[E.value]=M)},onMouseDown:E.disabled?null:M=>{M.preventDefault(),u(E)},disabled:E.disabled},E))};let T=null;if(e.forEach((E,x)=>{E.creatable?_=x:E.group?(T!==E.group&&(T=E.group,v.push(R.createElement("div",{className:y.separator,key:`__mantine-divider-${x}`},R.createElement(_f,{classNames:{label:y.separatorLabel},label:E.group})))),v.push(S(E,x))):g.push(S(E,x))}),h){const E=e[_];g.push(R.createElement("div",{key:S_e(),className:y.item,"data-hovered":t===_||void 0,onMouseEnter:()=>a(_),onMouseDown:x=>{x.preventDefault(),u(E)},tabIndex:-1,ref:x=>{l&&l.current&&(l.current[E.value]=x)}},p))}return v.length>0&&g.length>0&&g.unshift(R.createElement("div",{className:y.separator,key:"empty-group-separator"},R.createElement(_f,null))),v.length>0||g.length>0?R.createElement(R.Fragment,null,v,g):R.createElement(tt,{size:f,unstyled:m,className:y.nothingFound},d)}L$.displayName="@mantine/core/SelectItems";var zwe=Object.defineProperty,tS=Object.getOwnPropertySymbols,dX=Object.prototype.hasOwnProperty,hX=Object.prototype.propertyIsEnumerable,d9=(e,t,n)=>t in e?zwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hwe=(e,t)=>{for(var n in t||(t={}))dX.call(t,n)&&d9(e,n,t[n]);if(tS)for(var n of tS(t))hX.call(t,n)&&d9(e,n,t[n]);return e},Wwe=(e,t)=>{var n={};for(var r in e)dX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tS)for(var r of tS(e))t.indexOf(r)<0&&hX.call(e,r)&&(n[r]=e[r]);return n};const M$=w.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,s=Wwe(n,["label","value"]);return R.createElement("div",Hwe({ref:t},s),r||i)});M$.displayName="@mantine/core/DefaultItem";function qwe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function pX(...e){return t=>e.forEach(n=>qwe(n,t))}function Mh(...e){return w.useCallback(pX(...e),e)}const mX=w.forwardRef((e,t)=>{const{children:n,...r}=e,i=w.Children.toArray(n),s=i.find(Ywe);if(s){const o=s.props.children,a=i.map(u=>u===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:u);return w.createElement(YR,gr({},r,{ref:t}),w.isValidElement(o)?w.cloneElement(o,void 0,a):null)}return w.createElement(YR,gr({},r,{ref:t}),n)});mX.displayName="Slot";const YR=w.forwardRef((e,t)=>{const{children:n,...r}=e;return w.isValidElement(n)?w.cloneElement(n,{...Kwe(r,n.props),ref:pX(t,n.ref)}):w.Children.count(n)>1?w.Children.only(null):null});YR.displayName="SlotClone";const Gwe=({children:e})=>w.createElement(w.Fragment,null,e);function Ywe(e){return w.isValidElement(e)&&e.type===Gwe}function Kwe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const Qwe=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],F_=Qwe.reduce((e,t)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?mX:t;return w.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),w.createElement(a,gr({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),KR=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function Xwe(e,t){return w.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const j_=e=>{const{present:t,children:n}=e,r=Jwe(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=Mh(r.ref,i.ref);return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};j_.displayName="Presence";function Jwe(e){const[t,n]=w.useState(),r=w.useRef({}),i=w.useRef(e),s=w.useRef("none"),o=e?"mounted":"unmounted",[a,u]=Xwe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const l=cb(r.current);s.current=a==="mounted"?l:"none"},[a]),KR(()=>{const l=r.current,c=i.current;if(c!==e){const d=s.current,h=cb(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),KR(()=>{if(t){const l=f=>{const h=cb(r.current).includes(f.animationName);f.target===t&&h&&pc.flushSync(()=>u("ANIMATION_END"))},c=f=>{f.target===t&&(s.current=cb(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function cb(e){return(e==null?void 0:e.animationName)||"none"}function Zwe(e,t=[]){let n=[];function r(s,o){const a=w.createContext(o),u=n.length;n=[...n,o];function l(f){const{scope:d,children:h,...p}=f,m=(d==null?void 0:d[e][u])||a,y=w.useMemo(()=>p,Object.values(p));return w.createElement(m.Provider,{value:y},h)}function c(f,d){const h=(d==null?void 0:d[e][u])||a,p=w.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,c]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const u=(a==null?void 0:a[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return i.scopeName=e,[r,eEe(i,...t)]}function eEe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:l})=>{const f=u(s)[`__scope${l}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function xd(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const tEe=w.createContext(void 0);function nEe(e){const t=w.useContext(tEe);return e||t||"ltr"}function rEe(e,[t,n]){return Math.min(n,Math.max(t,e))}function eh(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function iEe(e,t){return w.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const gX="ScrollArea",[yX,eht]=Zwe(gX),[sEe,ga]=yX(gX),oEe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,u]=w.useState(null),[l,c]=w.useState(null),[f,d]=w.useState(null),[h,p]=w.useState(null),[m,y]=w.useState(null),[g,v]=w.useState(0),[_,S]=w.useState(0),[T,E]=w.useState(!1),[x,P]=w.useState(!1),M=Mh(t,F=>u(F)),L=nEe(i);return w.createElement(sEe,{scope:n,type:r,dir:L,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:T,onScrollbarXEnabledChange:E,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:x,onScrollbarYEnabledChange:P,onCornerWidthChange:v,onCornerHeightChange:S},w.createElement(F_.div,gr({dir:L},o,{ref:M,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})))}),aEe="ScrollAreaViewport",uEe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=ga(aEe,n),o=w.useRef(null),a=Mh(t,o,s.onViewportChange);return w.createElement(w.Fragment,null,w.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),w.createElement(F_.div,gr({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),w.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),yc="ScrollAreaScrollbar",lEe=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ga(yc,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return w.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?w.createElement(cEe,gr({},r,{ref:t,forceMount:n})):i.type==="scroll"?w.createElement(fEe,gr({},r,{ref:t,forceMount:n})):i.type==="auto"?w.createElement(vX,gr({},r,{ref:t,forceMount:n})):i.type==="always"?w.createElement(F$,gr({},r,{ref:t})):null}),cEe=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ga(yc,e.__scopeScrollArea),[s,o]=w.useState(!1);return w.useEffect(()=>{const a=i.scrollArea;let u=0;if(a){const l=()=>{window.clearTimeout(u),o(!0)},c=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),w.createElement(j_,{present:n||s},w.createElement(vX,gr({"data-state":s?"visible":"hidden"},r,{ref:t})))}),fEe=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ga(yc,e.__scopeScrollArea),s=e.orientation==="horizontal",o=UI(()=>u("SCROLL_END"),100),[a,u]=iEe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,i.scrollHideDelay,u]),w.useEffect(()=>{const l=i.viewport,c=s?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(u("SCROLL"),o()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,s,u,o]),w.createElement(j_,{present:n||a!=="hidden"},w.createElement(F$,gr({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:eh(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:eh(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),vX=w.forwardRef((e,t)=>{const n=ga(yc,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=w.useState(!1),a=e.orientation==="horizontal",u=UI(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:c)}},10);return Lm(n.viewport,u),Lm(n.content,u),w.createElement(j_,{present:r||s},w.createElement(F$,gr({"data-state":s?"visible":"hidden"},i,{ref:t})))}),F$=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=ga(yc,e.__scopeScrollArea),s=w.useRef(null),o=w.useRef(0),[a,u]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=EX(a.viewport,a.content),c={...r,sizes:a,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function f(d,h){return _Ee(d,o.current,a,h)}return n==="horizontal"?w.createElement(dEe,gr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,h=h9(d,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}})):n==="vertical"?w.createElement(hEe,gr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,h=h9(d,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}})):null}),dEe=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ga(yc,e.__scopeScrollArea),[o,a]=w.useState(),u=w.useRef(null),l=Mh(t,u,s.onScrollbarXChange);return w.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),w.createElement(bX,gr({"data-orientation":"horizontal"},i,{ref:l,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":BI(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),TX(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:nS(o.paddingLeft),paddingEnd:nS(o.paddingRight)}})}}))}),hEe=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ga(yc,e.__scopeScrollArea),[o,a]=w.useState(),u=w.useRef(null),l=Mh(t,u,s.onScrollbarYChange);return w.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),w.createElement(bX,gr({"data-orientation":"vertical"},i,{ref:l,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":BI(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),TX(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:nS(o.paddingTop),paddingEnd:nS(o.paddingBottom)}})}}))}),[pEe,_X]=yX(yc),bX=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:c,onResize:f,...d}=e,h=ga(yc,n),[p,m]=w.useState(null),y=Mh(t,M=>m(M)),g=w.useRef(null),v=w.useRef(""),_=h.viewport,S=r.content-r.viewport,T=xd(c),E=xd(u),x=UI(f,10);function P(M){if(g.current){const L=M.clientX-g.current.left,F=M.clientY-g.current.top;l({x:L,y:F})}}return w.useEffect(()=>{const M=L=>{const F=L.target;(p==null?void 0:p.contains(F))&&T(L,S)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[_,p,S,T]),w.useEffect(E,[r,E]),Lm(p,x),Lm(h.content,x),w.createElement(pEe,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:xd(s),onThumbPointerUp:xd(o),onThumbPositionChange:E,onThumbPointerDown:xd(a)},w.createElement(F_.div,gr({},d,{ref:y,style:{position:"absolute",...d.style},onPointerDown:eh(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),g.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",P(M))}),onPointerMove:eh(e.onPointerMove,P),onPointerUp:eh(e.onPointerUp,M=>{const L=M.target;L.hasPointerCapture(M.pointerId)&&L.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=v.current,g.current=null})})))}),QR="ScrollAreaThumb",mEe=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=_X(QR,e.__scopeScrollArea);return w.createElement(j_,{present:n||i.hasThumb},w.createElement(gEe,gr({ref:t},r)))}),gEe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=ga(QR,n),o=_X(QR,n),{onThumbPositionChange:a}=o,u=Mh(t,f=>o.onThumbChange(f)),l=w.useRef(),c=UI(()=>{l.current&&(l.current(),l.current=void 0)},100);return w.useEffect(()=>{const f=s.viewport;if(f){const d=()=>{if(c(),!l.current){const h=bEe(f,a);l.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,c,a]),w.createElement(F_.div,gr({"data-state":o.hasThumb?"visible":"hidden"},i,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:eh(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,m=f.clientY-h.top;o.onThumbPointerDown({x:p,y:m})}),onPointerUp:eh(e.onPointerUp,o.onThumbPointerUp)}))}),wX="ScrollAreaCorner",yEe=w.forwardRef((e,t)=>{const n=ga(wX,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?w.createElement(vEe,gr({},e,{ref:t})):null}),vEe=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=ga(wX,n),[s,o]=w.useState(0),[a,u]=w.useState(0),l=!!(s&&a);return Lm(i.scrollbarX,()=>{var c;const f=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(f),u(f)}),Lm(i.scrollbarY,()=>{var c;const f=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),l?w.createElement(F_.div,gr({},r,{ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function nS(e){return e?parseInt(e,10):0}function EX(e,t){const n=e/t;return isNaN(n)?0:n}function BI(e){const t=EX(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function _Ee(e,t,n,r="ltr"){const i=BI(n),s=i/2,o=t||s,a=i-o,u=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return SX([u,l],f)(e)}function h9(e,t,n="ltr"){const r=BI(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,u=n==="ltr"?[0,o]:[o*-1,0],l=rEe(e,u);return SX([0,o],[0,a])(l)}function SX(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function TX(e,t){return e>0&&e<t}const bEe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function UI(e,t){const n=xd(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Lm(e,t){const n=xd(t);KR(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const wEe=oEe,EEe=uEe,p9=lEe,m9=mEe,SEe=yEe;var TEe=dt((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},s)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${s("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:s("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:44,minHeight:44}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}})),xEe=Object.defineProperty,IEe=Object.defineProperties,CEe=Object.getOwnPropertyDescriptors,rS=Object.getOwnPropertySymbols,xX=Object.prototype.hasOwnProperty,IX=Object.prototype.propertyIsEnumerable,g9=(e,t,n)=>t in e?xEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XR=(e,t)=>{for(var n in t||(t={}))xX.call(t,n)&&g9(e,n,t[n]);if(rS)for(var n of rS(t))IX.call(t,n)&&g9(e,n,t[n]);return e},CX=(e,t)=>IEe(e,CEe(t)),PX=(e,t)=>{var n={};for(var r in e)xX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rS)for(var r of rS(e))t.indexOf(r)<0&&IX.call(e,r)&&(n[r]=e[r]);return n};const AX={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},VI=w.forwardRef((e,t)=>{const n=Ye("ScrollArea",AX,e),{children:r,className:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,viewportProps:m}=n,y=PX(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","viewportProps"]),[g,v]=w.useState(!1),_=Vi(),{classes:S,cx:T}=TEe({scrollbarSize:a,offsetScrollbars:f,scrollbarHovered:g,hidden:l==="never"},{name:"ScrollArea",classNames:s,styles:o,unstyled:p});return R.createElement(wEe,{type:l==="never"?"always":l,scrollHideDelay:u,dir:c||_.dir,ref:t,asChild:!0},R.createElement(ft,XR({className:T(S.root,i)},y),R.createElement(EEe,CX(XR({},m),{className:S.viewport,ref:d,onScroll:typeof h=="function"?({currentTarget:E})=>h({x:E.scrollLeft,y:E.scrollTop}):void 0}),r),R.createElement(p9,{orientation:"horizontal",className:S.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},R.createElement(m9,{className:S.thumb})),R.createElement(p9,{orientation:"vertical",className:S.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},R.createElement(m9,{className:S.thumb})),R.createElement(SEe,{className:S.corner})))}),OX=w.forwardRef((e,t)=>{const n=Ye("ScrollAreaAutosize",AX,e),{maxHeight:r,children:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:m}=n,y=PX(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return R.createElement(ft,CX(XR({},y),{ref:t,sx:[{display:"flex",maxHeight:r},...dh(m)]}),R.createElement(ft,{sx:{display:"flex",flexDirection:"column",flex:1}},R.createElement(VI,{classNames:s,styles:o,scrollHideDelay:u,scrollbarSize:a,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p},i)))});OX.displayName="@mantine/core/ScrollAreaAutosize";VI.displayName="@mantine/core/ScrollArea";VI.Autosize=OX;const j$=VI;var PEe=Object.defineProperty,AEe=Object.defineProperties,OEe=Object.getOwnPropertyDescriptors,iS=Object.getOwnPropertySymbols,RX=Object.prototype.hasOwnProperty,NX=Object.prototype.propertyIsEnumerable,y9=(e,t,n)=>t in e?PEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v9=(e,t)=>{for(var n in t||(t={}))RX.call(t,n)&&y9(e,n,t[n]);if(iS)for(var n of iS(t))NX.call(t,n)&&y9(e,n,t[n]);return e},REe=(e,t)=>AEe(e,OEe(t)),NEe=(e,t)=>{var n={};for(var r in e)RX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iS)for(var r of iS(e))t.indexOf(r)<0&&NX.call(e,r)&&(n[r]=e[r]);return n};const zI=w.forwardRef((e,t)=>{var n=e,{style:r}=n,i=NEe(n,["style"]);return R.createElement(j$,REe(v9({},i),{style:v9({width:"100%"},r),viewportRef:t}),i.children)});zI.displayName="@mantine/core/SelectScrollArea";var kEe=dt(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const Xa=Math.min,ns=Math.max,sS=Math.round,fb=Math.floor,Nf=e=>({x:e,y:e}),DEe={left:"right",right:"left",bottom:"top",top:"bottom"},$Ee={start:"end",end:"start"};function JR(e,t,n){return ns(e,Xa(t,n))}function Xl(e,t){return typeof e=="function"?e(t):e}function Ja(e){return e.split("-")[0]}function xg(e){return e.split("-")[1]}function B$(e){return e==="x"?"y":"x"}function U$(e){return e==="y"?"height":"width"}function Fh(e){return["top","bottom"].includes(Ja(e))?"y":"x"}function V$(e){return B$(Fh(e))}function LEe(e,t,n){n===void 0&&(n=!1);const r=xg(e),i=V$(e),s=U$(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=oS(o)),[o,oS(o)]}function MEe(e){const t=oS(e);return[ZR(e),t,ZR(t)]}function ZR(e){return e.replace(/start|end/g,t=>$Ee[t])}function FEe(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function jEe(e,t,n,r){const i=xg(e);let s=FEe(Ja(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(ZR)))),s}function oS(e){return e.replace(/left|right|bottom|top/g,t=>DEe[t])}function BEe(e){return{top:0,right:0,bottom:0,left:0,...e}}function z$(e){return typeof e!="number"?BEe(e):{top:e,right:e,bottom:e,left:e}}function Mm(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function _9(e,t,n){let{reference:r,floating:i}=e;const s=Fh(t),o=V$(t),a=U$(o),u=Ja(t),l=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(u){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(xg(t)){case"start":h[o]-=d*(n&&l?-1:1);break;case"end":h[o]+=d*(n&&l?-1:1);break}return h}const UEe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=_9(l,r,u),d=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:y,fn:g}=a[m],{x:v,y:_,data:S,reset:T}=await g({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});c=v??c,f=_??f,h={...h,[y]:{...h[y],...S}},T&&p<=50&&(p++,typeof T=="object"&&(T.placement&&(d=T.placement),T.rects&&(l=T.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:c,y:f}=_9(l,d,u)),m=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function H$(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Xl(t,e),p=z$(h),y=a[d?f==="floating"?"reference":"floating":f],g=Mm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),v=f==="floating"?{...o.floating,x:r,y:i}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},T=Mm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:_,strategy:u}):v);return{top:(g.top-T.top+p.top)/S.y,bottom:(T.bottom-g.bottom+p.bottom)/S.y,left:(g.left-T.left+p.left)/S.x,right:(T.right-g.right+p.right)/S.x}}const VEe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=t,{element:l,padding:c=0}=Xl(e,t)||{};if(l==null)return{};const f=z$(c),d={x:n,y:r},h=V$(i),p=U$(h),m=await o.getDimensions(l),y=h==="y",g=y?"top":"left",v=y?"bottom":"right",_=y?"clientHeight":"clientWidth",S=s.reference[p]+s.reference[h]-d[h]-s.floating[p],T=d[h]-s.reference[h],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let x=E?E[_]:0;(!x||!await(o.isElement==null?void 0:o.isElement(E)))&&(x=a.floating[_]||s.floating[p]);const P=S/2-T/2,M=x/2-m[p]/2-1,L=Xa(f[g],M),F=Xa(f[v],M),V=L,oe=x-m[p]-F,U=x/2-m[p]/2+P,te=JR(V,U,oe),ue=!u.arrow&&xg(i)!=null&&U!==te&&s.reference[p]/2-(U<V?L:F)-m[p]/2<0,ne=ue?U<V?U-V:U-oe:0;return{[h]:d[h]+ne,data:{[h]:te,centerOffset:U-te-ne,...ue&&{alignmentOffset:ne}},reset:ue}}}),zEe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:l}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...y}=Xl(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Ja(i),v=Ja(a)===a,_=await(u.isRTL==null?void 0:u.isRTL(l.floating)),S=d||(v||!m?[oS(a)]:MEe(a));!d&&p!=="none"&&S.push(...jEe(a,m,p,_));const T=[a,...S],E=await H$(t,y),x=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&x.push(E[g]),f){const V=LEe(i,o,_);x.push(E[V[0]],E[V[1]])}if(P=[...P,{placement:i,overflows:x}],!x.every(V=>V<=0)){var M,L;const V=(((M=s.flip)==null?void 0:M.index)||0)+1,oe=T[V];if(oe)return{data:{index:V,overflows:P},reset:{placement:oe}};let U=(L=P.filter(te=>te.overflows[0]<=0).sort((te,ue)=>te.overflows[1]-ue.overflows[1])[0])==null?void 0:L.placement;if(!U)switch(h){case"bestFit":{var F;const te=(F=P.map(ue=>[ue.placement,ue.overflows.filter(ne=>ne>0).reduce((ne,q)=>ne+q,0)]).sort((ue,ne)=>ue[1]-ne[1])[0])==null?void 0:F[0];te&&(U=te);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function kX(e){const t=Xa(...e.map(s=>s.left)),n=Xa(...e.map(s=>s.top)),r=ns(...e.map(s=>s.right)),i=ns(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function HEe(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>Mm(kX(i)))}const WEe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:u,y:l}=Xl(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),f=HEe(c),d=Mm(kX(c)),h=z$(a);function p(){if(f.length===2&&f[0].left>f[1].right&&u!=null&&l!=null)return f.find(y=>u>y.left-h.left&&u<y.right+h.right&&l>y.top-h.top&&l<y.bottom+h.bottom)||d;if(f.length>=2){if(Fh(n)==="y"){const L=f[0],F=f[f.length-1],V=Ja(n)==="top",oe=L.top,U=F.bottom,te=V?L.left:F.left,ue=V?L.right:F.right,ne=ue-te,q=U-oe;return{top:oe,bottom:U,left:te,right:ue,width:ne,height:q,x:te,y:oe}}const y=Ja(n)==="left",g=ns(...f.map(L=>L.right)),v=Xa(...f.map(L=>L.left)),_=f.filter(L=>y?L.left===v:L.right===g),S=_[0].top,T=_[_.length-1].bottom,E=v,x=g,P=x-E,M=T-S;return{top:S,bottom:T,left:E,right:x,width:P,height:M,x:E,y:S}}return d}const m=await s.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:o});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function qEe(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ja(n),a=xg(n),u=Fh(n)==="y",l=["left","top"].includes(o)?-1:1,c=s&&u?-1:1,f=Xl(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),u?{x:h*c,y:d*l}:{x:d*l,y:h*c}}const DX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,u=await qEe(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},GEe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:v}=y;return{x:g,y:v}}},...u}=Xl(e,t),l={x:n,y:r},c=await H$(t,u),f=Fh(Ja(i)),d=B$(f);let h=l[d],p=l[f];if(s){const y=d==="y"?"top":"left",g=d==="y"?"bottom":"right",v=h+c[y],_=h-c[g];h=JR(v,h,_)}if(o){const y=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=p+c[y],_=p-c[g];p=JR(v,p,_)}const m=a.fn({...t,[d]:h,[f]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},YEe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=Xl(e,t),c={x:n,y:r},f=Fh(i),d=B$(f);let h=c[d],p=c[f];const m=Xl(a,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(u){const _=d==="y"?"height":"width",S=s.reference[d]-s.floating[_]+y.mainAxis,T=s.reference[d]+s.reference[_]-y.mainAxis;h<S?h=S:h>T&&(h=T)}if(l){var g,v;const _=d==="y"?"width":"height",S=["top","left"].includes(Ja(i)),T=s.reference[f]-s.floating[_]+(S&&((g=o.offset)==null?void 0:g[f])||0)+(S?0:y.crossAxis),E=s.reference[f]+s.reference[_]+(S?0:((v=o.offset)==null?void 0:v[f])||0)-(S?y.crossAxis:0);p<T?p=T:p>E&&(p=E)}return{[d]:h,[f]:p}}}},KEe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=Xl(e,t),u=await H$(t,a),l=Ja(n),c=xg(n),f=Fh(n)==="y",{width:d,height:h}=r.floating;let p,m;l==="top"||l==="bottom"?(p=l,m=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(m=l,p=c==="end"?"top":"bottom");const y=h-u[p],g=d-u[m],v=!t.middlewareData.shift;let _=y,S=g;if(f){const E=d-u.left-u.right;S=c||v?Xa(g,E):E}else{const E=h-u.top-u.bottom;_=c||v?Xa(y,E):E}if(v&&!c){const E=ns(u.left,0),x=ns(u.right,0),P=ns(u.top,0),M=ns(u.bottom,0);f?S=d-2*(E!==0||x!==0?E+x:ns(u.left,u.right)):_=h-2*(P!==0||M!==0?P+M:ns(u.top,u.bottom))}await o({...t,availableWidth:S,availableHeight:_});const T=await i.getDimensions(s.floating);return d!==T.width||h!==T.height?{reset:{rects:!0}}:{}}}};function kf(e){return $X(e)?(e.nodeName||"").toLowerCase():"#document"}function Ro(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vc(e){var t;return(t=($X(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $X(e){return e instanceof Node||e instanceof Ro(e).Node}function Jl(e){return e instanceof Element||e instanceof Ro(e).Element}function tl(e){return e instanceof HTMLElement||e instanceof Ro(e).HTMLElement}function b9(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ro(e).ShadowRoot}function B_(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ca(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function QEe(e){return["table","td","th"].includes(kf(e))}function W$(e){const t=q$(),n=ca(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function XEe(e){let t=Fm(e);for(;tl(t)&&!HI(t);){if(W$(t))return t;t=Fm(t)}return null}function q$(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function HI(e){return["html","body","#document"].includes(kf(e))}function ca(e){return Ro(e).getComputedStyle(e)}function WI(e){return Jl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Fm(e){if(kf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||b9(e)&&e.host||vc(e);return b9(t)?t.host:t}function LX(e){const t=Fm(e);return HI(t)?e.ownerDocument?e.ownerDocument.body:e.body:tl(t)&&B_(t)?t:LX(t)}function zl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=LX(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=Ro(i);return s?t.concat(o,o.visualViewport||[],B_(i)?i:[],o.frameElement&&n?zl(o.frameElement):[]):t.concat(i,zl(i,[],n))}function MX(e){const t=ca(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=tl(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=sS(n)!==s||sS(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function G$(e){return Jl(e)?e:e.contextElement}function nm(e){const t=G$(e);if(!tl(t))return Nf(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=MX(t);let o=(s?sS(n.width):n.width)/r,a=(s?sS(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const JEe=Nf(0);function FX(e){const t=Ro(e);return!q$()||!t.visualViewport?JEe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ZEe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ro(e)?!1:t}function hh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=G$(e);let o=Nf(1);t&&(r?Jl(r)&&(o=nm(r)):o=nm(e));const a=ZEe(s,n,r)?FX(s):Nf(0);let u=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const d=Ro(s),h=r&&Jl(r)?Ro(r):r;let p=d,m=p.frameElement;for(;m&&r&&h!==p;){const y=nm(m),g=m.getBoundingClientRect(),v=ca(m),_=g.left+(m.clientLeft+parseFloat(v.paddingLeft))*y.x,S=g.top+(m.clientTop+parseFloat(v.paddingTop))*y.y;u*=y.x,l*=y.y,c*=y.x,f*=y.y,u+=_,l+=S,p=Ro(m),m=p.frameElement}}return Mm({width:c,height:f,x:u,y:l})}const eSe=[":popover-open",":modal"];function jX(e){return eSe.some(t=>{try{return e.matches(t)}catch{return!1}})}function tSe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=vc(r),a=t?jX(t.floating):!1;if(r===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},l=Nf(1);const c=Nf(0),f=tl(r);if((f||!f&&!s)&&((kf(r)!=="body"||B_(o))&&(u=WI(r)),tl(r))){const d=hh(r);l=nm(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+c.x,y:n.y*l.y-u.scrollTop*l.y+c.y}}function nSe(e){return Array.from(e.getClientRects())}function BX(e){return hh(vc(e)).left+WI(e).scrollLeft}function rSe(e){const t=vc(e),n=WI(e),r=e.ownerDocument.body,i=ns(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=ns(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+BX(e);const a=-n.scrollTop;return ca(r).direction==="rtl"&&(o+=ns(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function iSe(e,t){const n=Ro(e),r=vc(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const l=q$();(!l||l&&t==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function sSe(e,t){const n=hh(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=tl(e)?nm(e):Nf(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,u=i*s.x,l=r*s.y;return{width:o,height:a,x:u,y:l}}function w9(e,t,n){let r;if(t==="viewport")r=iSe(e,n);else if(t==="document")r=rSe(vc(e));else if(Jl(t))r=sSe(t,n);else{const i=FX(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Mm(r)}function UX(e,t){const n=Fm(e);return n===t||!Jl(n)||HI(n)?!1:ca(n).position==="fixed"||UX(n,t)}function oSe(e,t){const n=t.get(e);if(n)return n;let r=zl(e,[],!1).filter(a=>Jl(a)&&kf(a)!=="body"),i=null;const s=ca(e).position==="fixed";let o=s?Fm(e):e;for(;Jl(o)&&!HI(o);){const a=ca(o),u=W$(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||B_(o)&&!u&&UX(e,o))?r=r.filter(c=>c!==o):i=a,o=Fm(o)}return t.set(e,r),r}function aSe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?oSe(t,this._c):[].concat(n),r],a=o[0],u=o.reduce((l,c)=>{const f=w9(t,c,i);return l.top=ns(f.top,l.top),l.right=Xa(f.right,l.right),l.bottom=Xa(f.bottom,l.bottom),l.left=ns(f.left,l.left),l},w9(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function uSe(e){const{width:t,height:n}=MX(e);return{width:t,height:n}}function lSe(e,t,n){const r=tl(t),i=vc(t),s=n==="fixed",o=hh(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const u=Nf(0);if(r||!r&&!s)if((kf(t)!=="body"||B_(i))&&(a=WI(t)),r){const f=hh(t,!0,s,t);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else i&&(u.x=BX(i));const l=o.left+a.scrollLeft-u.x,c=o.top+a.scrollTop-u.y;return{x:l,y:c,width:o.width,height:o.height}}function E9(e,t){return!tl(e)||ca(e).position==="fixed"?null:t?t(e):e.offsetParent}function VX(e,t){const n=Ro(e);if(!tl(e)||jX(e))return n;let r=E9(e,t);for(;r&&QEe(r)&&ca(r).position==="static";)r=E9(r,t);return r&&(kf(r)==="html"||kf(r)==="body"&&ca(r).position==="static"&&!W$(r))?n:r||XEe(e)||n}const cSe=async function(e){const t=this.getOffsetParent||VX,n=this.getDimensions;return{reference:lSe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function fSe(e){return ca(e).direction==="rtl"}const dSe={convertOffsetParentRelativeRectToViewportRelativeRect:tSe,getDocumentElement:vc,getClippingRect:aSe,getOffsetParent:VX,getElementRects:cSe,getClientRects:nSe,getDimensions:uSe,getScale:nm,isElement:Jl,isRTL:fSe};function hSe(e,t){let n=null,r;const i=vc(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const{left:l,top:c,width:f,height:d}=e.getBoundingClientRect();if(a||t(),!f||!d)return;const h=fb(c),p=fb(i.clientWidth-(l+f)),m=fb(i.clientHeight-(c+d)),y=fb(l),v={rootMargin:-h+"px "+-p+"px "+-m+"px "+-y+"px",threshold:ns(0,Xa(1,u))||1};let _=!0;function S(T){const E=T[0].intersectionRatio;if(E!==u){if(!_)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(S,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,v)}n.observe(e)}return o(!0),s}function pSe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=G$(e),c=i||s?[...l?zl(l):[],...zl(t)]:[];c.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const f=l&&a?hSe(l,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(g=>{let[v]=g;v&&v.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(t)})),n()}),l&&!u&&h.observe(l),h.observe(t));let p,m=u?hh(e):null;u&&y();function y(){const g=hh(e);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&n(),m=g,p=requestAnimationFrame(y)}return n(),()=>{var g;c.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(g=h)==null||g.disconnect(),h=null,u&&cancelAnimationFrame(p)}}const Y$=GEe,zX=zEe,mSe=KEe,S9=VEe,HX=WEe,gSe=YEe,ySe=(e,t,n)=>{const r=new Map,i={platform:dSe,...n},s={...i.platform,_c:r};return UEe(e,t,{...i,platform:s})},WX=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?S9({element:t.current,padding:n}).fn(i):{}:t?S9({element:t,padding:n}).fn(i):{}}}};var Aw=typeof document<"u"?w.useLayoutEffect:w.useEffect;function aS(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!aS(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!aS(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function T9(e){const t=w.useRef(e);return Aw(()=>{t.current=e}),t}function vSe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:s,open:o}=e,[a,u]=w.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[l,c]=w.useState(r);aS(l,r)||c(r);const f=w.useRef(null),d=w.useRef(null),h=w.useRef(a),p=T9(s),m=T9(i),[y,g]=w.useState(null),[v,_]=w.useState(null),S=w.useCallback(L=>{f.current!==L&&(f.current=L,g(L))},[]),T=w.useCallback(L=>{d.current!==L&&(d.current=L,_(L))},[]),E=w.useCallback(()=>{if(!f.current||!d.current)return;const L={placement:t,strategy:n,middleware:l};m.current&&(L.platform=m.current),ySe(f.current,d.current,L).then(F=>{const V={...F,isPositioned:!0};x.current&&!aS(h.current,V)&&(h.current=V,pc.flushSync(()=>{u(V)}))})},[l,t,n,m]);Aw(()=>{o===!1&&h.current.isPositioned&&(h.current.isPositioned=!1,u(L=>({...L,isPositioned:!1})))},[o]);const x=w.useRef(!1);Aw(()=>(x.current=!0,()=>{x.current=!1}),[]),Aw(()=>{if(y&&v){if(p.current)return p.current(y,v,E);E()}},[y,v,E,p]);const P=w.useMemo(()=>({reference:f,floating:d,setReference:S,setFloating:T}),[S,T]),M=w.useMemo(()=>({reference:y,floating:v}),[y,v]);return w.useMemo(()=>({...a,update:E,refs:P,elements:M,reference:S,floating:T}),[a,E,P,M,S,T])}var jm=typeof document<"u"?w.useLayoutEffect:w.useEffect;let BA=!1,_Se=0;const x9=()=>"floating-ui-"+_Se++;function bSe(){const[e,t]=w.useState(()=>BA?x9():void 0);return jm(()=>{e==null&&t(x9())},[]),w.useEffect(()=>{BA||(BA=!0)},[]),e}const wSe=rv.useId,I9=wSe||bSe;function ESe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const SSe=w.createContext(null),TSe=w.createContext(null),qX=()=>{var e;return((e=w.useContext(SSe))==null?void 0:e.id)||null},K$=()=>w.useContext(TSe);function nf(e){return(e==null?void 0:e.ownerDocument)||document}function xSe(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function ISe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Q$(e){return nf(e).defaultView||window}function Du(e){return e?e instanceof Q$(e).Element:!1}function GX(e){return e?e instanceof Q$(e).HTMLElement:!1}function CSe(e){if(typeof ShadowRoot>"u")return!1;const t=Q$(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function PSe(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(xSe())||t.test(ISe()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function ASe(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function YX(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function C9(e){const t=w.useRef(e);return jm(()=>{t.current=e}),t}const P9="data-floating-ui-safe-polygon";function Ow(e,t,n){return n&&!YX(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}const OSe=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:s=!1,restMs:o=0,move:a=!0}=t===void 0?{}:t;const{open:u,onOpenChange:l,dataRef:c,events:f,elements:{domReference:d,floating:h},refs:p}=e,m=K$(),y=qX(),g=C9(i),v=C9(r),_=w.useRef(),S=w.useRef(),T=w.useRef(),E=w.useRef(),x=w.useRef(!0),P=w.useRef(!1),M=w.useRef(()=>{}),L=w.useCallback(()=>{var U;const te=(U=c.current.openEvent)==null?void 0:U.type;return(te==null?void 0:te.includes("mouse"))&&te!=="mousedown"},[c]);w.useEffect(()=>{if(!n)return;function U(){clearTimeout(S.current),clearTimeout(E.current),x.current=!0}return f.on("dismiss",U),()=>{f.off("dismiss",U)}},[n,f]),w.useEffect(()=>{if(!n||!g.current||!u)return;function U(){L()&&l(!1)}const te=nf(h).documentElement;return te.addEventListener("mouseleave",U),()=>{te.removeEventListener("mouseleave",U)}},[h,u,l,n,g,c,L]);const F=w.useCallback(function(U){U===void 0&&(U=!0);const te=Ow(v.current,"close",_.current);te&&!T.current?(clearTimeout(S.current),S.current=setTimeout(()=>l(!1),te)):U&&(clearTimeout(S.current),l(!1))},[v,l]),V=w.useCallback(()=>{M.current(),T.current=void 0},[]),oe=w.useCallback(()=>{if(P.current){const U=nf(p.floating.current).body;U.style.pointerEvents="",U.removeAttribute(P9),P.current=!1}},[p]);return w.useEffect(()=>{if(!n)return;function U(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function te(q){if(clearTimeout(S.current),x.current=!1,s&&!YX(_.current)||o>0&&Ow(v.current,"open")===0)return;c.current.openEvent=q;const fe=Ow(v.current,"open",_.current);fe?S.current=setTimeout(()=>{l(!0)},fe):l(!0)}function ue(q){if(U())return;M.current();const fe=nf(h);if(clearTimeout(E.current),g.current){u||clearTimeout(S.current),T.current=g.current({...e,tree:m,x:q.clientX,y:q.clientY,onClose(){oe(),V(),F()}});const A=T.current;fe.addEventListener("mousemove",A),M.current=()=>{fe.removeEventListener("mousemove",A)};return}F()}function ne(q){U()||g.current==null||g.current({...e,tree:m,x:q.clientX,y:q.clientY,onClose(){oe(),V(),F()}})(q)}if(Du(d)){const q=d;return u&&q.addEventListener("mouseleave",ne),h==null||h.addEventListener("mouseleave",ne),a&&q.addEventListener("mousemove",te,{once:!0}),q.addEventListener("mouseenter",te),q.addEventListener("mouseleave",ue),()=>{u&&q.removeEventListener("mouseleave",ne),h==null||h.removeEventListener("mouseleave",ne),a&&q.removeEventListener("mousemove",te),q.removeEventListener("mouseenter",te),q.removeEventListener("mouseleave",ue)}}},[d,h,n,e,s,o,a,F,V,oe,l,u,m,v,g,c]),jm(()=>{var U;if(n&&u&&(U=g.current)!=null&&U.__options.blockPointerEvents&&L()){const ne=nf(h).body;if(ne.setAttribute(P9,""),ne.style.pointerEvents="none",P.current=!0,Du(d)&&h){var te,ue;const q=d,fe=m==null||(te=m.nodesRef.current.find(A=>A.id===y))==null||(ue=te.context)==null?void 0:ue.elements.floating;return fe&&(fe.style.pointerEvents=""),q.style.pointerEvents="auto",h.style.pointerEvents="auto",()=>{q.style.pointerEvents="",h.style.pointerEvents=""}}}},[n,u,y,h,d,m,g,c,L]),jm(()=>{u||(_.current=void 0,V(),oe())},[u,V,oe]),w.useEffect(()=>()=>{V(),clearTimeout(S.current),clearTimeout(E.current),oe()},[n,V,oe]),w.useMemo(()=>{if(!n)return{};function U(te){_.current=te.pointerType}return{reference:{onPointerDown:U,onPointerEnter:U,onMouseMove(){u||o===0||(clearTimeout(E.current),E.current=setTimeout(()=>{x.current||l(!0)},o))}},floating:{onMouseEnter(){clearTimeout(S.current)},onMouseLeave(){f.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),F(!1)}}}},[f,n,o,u,l,F])},KX=w.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),QX=()=>w.useContext(KX),RSe=e=>{let{children:t,delay:n,timeoutMs:r=0}=e;const[i,s]=w.useReducer((u,l)=>({...u,...l}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=w.useRef(null),a=w.useCallback(u=>{s({currentId:u})},[]);return jm(()=>{i.currentId?o.current===null?o.current=i.currentId:s({isInstantPhase:!0}):(s({isInstantPhase:!1}),o.current=null)},[i.currentId]),w.createElement(KX.Provider,{value:w.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,s,a])},t)},NSe=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:s,setCurrentId:o,initialDelay:a,setState:u,timeoutMs:l}=QX();w.useEffect(()=>{s&&(u({delay:{open:1,close:Ow(a,"close")}}),s!==i&&r(!1))},[i,r,u,s,a]),w.useEffect(()=>{function c(){r(!1),u({delay:a,currentId:null})}if(!n&&s===i)if(l){const f=window.setTimeout(c,l);return()=>{clearTimeout(f)}}else c()},[n,u,s,i,r,a,l]),w.useEffect(()=>{n&&o(i)},[n,o,i])};function kSe(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function A9(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&CSe(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function UA(e,t){let n=e.filter(i=>{var s;return i.parentId===t&&((s=i.context)==null?void 0:s.open)})||[],r=n;for(;r.length;)r=e.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})})||[],n=n.concat(r);return n}function DSe(e){return"composedPath"in e?e.composedPath()[0]:e.target}const $Se=rv.useInsertionEffect,LSe=$Se||(e=>e());function XX(e){const t=w.useRef(()=>{});return LSe(()=>{t.current=e}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function Rw(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const MSe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},FSe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},jSe=function(e){var t,n;return e===void 0&&(e=!0),{escapeKeyBubbles:typeof e=="boolean"?e:(t=e.escapeKey)!=null?t:!0,outsidePressBubbles:typeof e=="boolean"?e:(n=e.outsidePress)!=null?n:!0}},BSe=function(e,t){let{open:n,onOpenChange:r,events:i,nodeId:s,elements:{reference:o,domReference:a,floating:u},dataRef:l}=e,{enabled:c=!0,escapeKey:f=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:p=!1,referencePressEvent:m="pointerdown",ancestorScroll:y=!1,bubbles:g=!0}=t===void 0?{}:t;const v=K$(),_=qX()!=null,S=XX(typeof d=="function"?d:()=>!1),T=typeof d=="function"?S:d,E=w.useRef(!1),{escapeKeyBubbles:x,outsidePressBubbles:P}=jSe(g);return w.useEffect(()=>{if(!n||!c)return;l.current.__escapeKeyBubbles=x,l.current.__outsidePressBubbles=P;function M(U){if(U.key==="Escape"){const te=v?UA(v.nodesRef.current,s):[];if(te.length>0){let ue=!0;if(te.forEach(ne=>{var q;if((q=ne.context)!=null&&q.open&&!ne.context.dataRef.current.__escapeKeyBubbles){ue=!1;return}}),!ue)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function L(U){const te=E.current;if(E.current=!1,te||typeof T=="function"&&!T(U))return;const ue=DSe(U);if(GX(ue)&&u){const fe=u.ownerDocument.defaultView||window,A=ue.scrollWidth>ue.clientWidth,W=ue.scrollHeight>ue.clientHeight;let Y=W&&U.offsetX>ue.clientWidth;if(W&&fe.getComputedStyle(ue).direction==="rtl"&&(Y=U.offsetX<=ue.offsetWidth-ue.clientWidth),Y||A&&U.offsetY>ue.clientHeight)return}const ne=v&&UA(v.nodesRef.current,s).some(fe=>{var A;return Rw(U,(A=fe.context)==null?void 0:A.elements.floating)});if(Rw(U,u)||Rw(U,a)||ne)return;const q=v?UA(v.nodesRef.current,s):[];if(q.length>0){let fe=!0;if(q.forEach(A=>{var W;if((W=A.context)!=null&&W.open&&!A.context.dataRef.current.__outsidePressBubbles){fe=!1;return}}),!fe)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:_?{preventScroll:!0}:PSe(U)||ASe(U)}}),r(!1)}function F(){r(!1)}const V=nf(u);f&&V.addEventListener("keydown",M),T&&V.addEventListener(h,L);let oe=[];return y&&(Du(a)&&(oe=zl(a)),Du(u)&&(oe=oe.concat(zl(u))),!Du(o)&&o&&o.contextElement&&(oe=oe.concat(zl(o.contextElement)))),oe=oe.filter(U=>{var te;return U!==((te=V.defaultView)==null?void 0:te.visualViewport)}),oe.forEach(U=>{U.addEventListener("scroll",F,{passive:!0})}),()=>{f&&V.removeEventListener("keydown",M),T&&V.removeEventListener(h,L),oe.forEach(U=>{U.removeEventListener("scroll",F)})}},[l,u,a,o,f,T,h,i,v,s,n,r,y,c,x,P,_]),w.useEffect(()=>{E.current=!1},[T,h]),w.useMemo(()=>c?{reference:{[MSe[m]]:()=>{p&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[FSe[h]]:()=>{E.current=!0}}}:{},[c,i,p,h,m,r])},USe=function(e,t){let{open:n,onOpenChange:r,dataRef:i,events:s,refs:o,elements:{floating:a,domReference:u}}=e,{enabled:l=!0,keyboardOnly:c=!0}=t===void 0?{}:t;const f=w.useRef(""),d=w.useRef(!1),h=w.useRef();return w.useEffect(()=>{if(!l)return;const m=nf(a).defaultView||window;function y(){!n&&GX(u)&&u===kSe(nf(u))&&(d.current=!0)}return m.addEventListener("blur",y),()=>{m.removeEventListener("blur",y)}},[a,u,n,l]),w.useEffect(()=>{if(!l)return;function p(m){(m.type==="referencePress"||m.type==="escapeKey")&&(d.current=!0)}return s.on("dismiss",p),()=>{s.off("dismiss",p)}},[s,l]),w.useEffect(()=>()=>{clearTimeout(h.current)},[]),w.useMemo(()=>l?{reference:{onPointerDown(p){let{pointerType:m}=p;f.current=m,d.current=!!(m&&c)},onMouseLeave(){d.current=!1},onFocus(p){var m;d.current||p.type==="focus"&&((m=i.current.openEvent)==null?void 0:m.type)==="mousedown"&&i.current.openEvent&&Rw(i.current.openEvent,u)||(i.current.openEvent=p.nativeEvent,r(!0))},onBlur(p){d.current=!1;const m=p.relatedTarget,y=Du(m)&&m.hasAttribute("data-floating-ui-focus-guard")&&m.getAttribute("data-type")==="outside";h.current=setTimeout(()=>{A9(o.floating.current,m)||A9(u,m)||y||r(!1)})}}}:{},[l,c,u,o,i,r])},VSe=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const s=I9(),o=I9();return w.useMemo(()=>{const a={id:s,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?s:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?s:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...a,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,s,o])};function X$(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,i=vSe(e),s=K$(),o=w.useRef(null),a=w.useRef({}),u=w.useState(()=>ESe())[0],[l,c]=w.useState(null),f=w.useCallback(g=>{const v=Du(g)?{getBoundingClientRect:()=>g.getBoundingClientRect(),contextElement:g}:g;i.refs.setReference(v)},[i.refs]),d=w.useCallback(g=>{(Du(g)||g===null)&&(o.current=g,c(g)),(Du(i.refs.reference.current)||i.refs.reference.current===null||g!==null&&!Du(g))&&i.refs.setReference(g)},[i.refs]),h=w.useMemo(()=>({...i.refs,setReference:d,setPositionReference:f,domReference:o}),[i.refs,d,f]),p=w.useMemo(()=>({...i.elements,domReference:l}),[i.elements,l]),m=XX(n),y=w.useMemo(()=>({...i,refs:h,elements:p,dataRef:a,nodeId:r,events:u,open:t,onOpenChange:m}),[i,r,u,t,m,h,p]);return jm(()=>{const g=s==null?void 0:s.nodesRef.current.find(v=>v.id===r);g&&(g.context=y)}),w.useMemo(()=>({...i,context:y,refs:h,reference:d,positionReference:f}),[i,h,y,d,f])}function VA(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,u]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var l;(l=r.get(a))==null||l.push(u),i[a]=function(){for(var c,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...d))}}}else i[a]=u}),i),{})}}const zSe=function(e){e===void 0&&(e=[]);const t=e,n=w.useCallback(s=>VA(s,e,"reference"),t),r=w.useCallback(s=>VA(s,e,"floating"),t),i=w.useCallback(s=>VA(s,e,"item"),e.map(s=>s==null?void 0:s.item));return w.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function JX({opened:e,floating:t,positionDependencies:n}){const[r,i]=w.useState(0);w.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return pSe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,r]),to(()=>{t.update()},n),to(()=>{i(s=>s+1)},[e])}function HSe(e){const t=[DX(e.offset)];return e.middlewares.shift&&t.push(Y$({limiter:gSe()})),e.middlewares.flip&&t.push(zX()),e.middlewares.inline&&t.push(HX()),t.push(WX({element:e.arrowRef,padding:e.arrowOffset})),t}function WSe(e){const[t,n]=so({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;(o=e.onClose)==null||o.call(e),n(!1)},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=X$({placement:e.position,middleware:[...HSe(e),...e.width==="target"?[mSe({apply({rects:o}){var a,u;Object.assign((u=(a=s.refs.floating.current)==null?void 0:a.style)!=null?u:{},{width:`${o.reference.width}px`})}})]:[]]});return JX({opened:e.opened,positionDependencies:e.positionDependencies,floating:s}),to(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const ZX={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[qSe,eJ]=D_(ZX.context);var GSe=Object.defineProperty,YSe=Object.defineProperties,KSe=Object.getOwnPropertyDescriptors,uS=Object.getOwnPropertySymbols,tJ=Object.prototype.hasOwnProperty,nJ=Object.prototype.propertyIsEnumerable,O9=(e,t,n)=>t in e?GSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,db=(e,t)=>{for(var n in t||(t={}))tJ.call(t,n)&&O9(e,n,t[n]);if(uS)for(var n of uS(t))nJ.call(t,n)&&O9(e,n,t[n]);return e},QSe=(e,t)=>YSe(e,KSe(t)),XSe=(e,t)=>{var n={};for(var r in e)tJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uS)for(var r of uS(e))t.indexOf(r)<0&&nJ.call(e,r)&&(n[r]=e[r]);return n};const JSe={refProp:"ref",popupType:"dialog"},rJ=w.forwardRef((e,t)=>{const n=Ye("PopoverTarget",JSe,e),{children:r,refProp:i,popupType:s}=n,o=XSe(n,["children","refProp","popupType"]);if(!Sg(r))throw new Error(ZX.children);const a=o,u=eJ(),l=ma(u.reference,r.ref,t),c=u.withRoles?{"aria-haspopup":s,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return w.cloneElement(r,db(QSe(db(db(db({},a),c),u.targetProps),{className:CK(u.targetProps.className,a.className,r.props.className),[i]:l}),u.controlled?null:{onClick:u.onToggle}))});rJ.displayName="@mantine/core/PopoverTarget";var ZSe=dt((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const eTe=ZSe;var tTe=Object.defineProperty,R9=Object.getOwnPropertySymbols,nTe=Object.prototype.hasOwnProperty,rTe=Object.prototype.propertyIsEnumerable,N9=(e,t,n)=>t in e?tTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tp=(e,t)=>{for(var n in t||(t={}))nTe.call(t,n)&&N9(e,n,t[n]);if(R9)for(var n of R9(t))rTe.call(t,n)&&N9(e,n,t[n]);return e};const k9={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function iJ({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in ib?tp(tp(tp({transitionProperty:ib[e].transitionProperty},i),ib[e].common),ib[e][k9[t]]):null:tp(tp(tp({transitionProperty:e.transitionProperty},i),e.common),e[k9[t]])}function sJ({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const u=Vi(),l=$I(),c=u.respectReducedMotion?l:!1,[f,d]=w.useState(r?"entered":"exited");let h=c?0:e;const p=w.useRef(-1),m=y=>{const g=y?i:s,v=y?o:a;if(d(y?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:y?e:t,h===0)typeof g=="function"&&g(),typeof v=="function"&&v(),d(y?"entered":"exited");else{const _=window.setTimeout(()=>{typeof g=="function"&&g(),d(y?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(_),typeof v=="function"&&v(),d(y?"entered":"exited")},h)}};return to(()=>{m(r)},[r]),w.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||u.transitionTimingFunction}}function qI({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=sJ({mounted:r,exitDuration:n,duration:t,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});return c===0?r?R.createElement(R.Fragment,null,i({})):null:f==="exited"?null:R.createElement(R.Fragment,null,i(iJ({transition:e,duration:c,state:f,timingFunction:d})))}qI.displayName="@mantine/core/Transition";function oJ({children:e,active:t=!0,refProp:n="ref"}){const r=rQ(t),i=ma(r,e==null?void 0:e.ref);return Sg(e)?w.cloneElement(e,{[n]:i}):e}oJ.displayName="@mantine/core/FocusTrap";var iTe=Object.defineProperty,sTe=Object.defineProperties,oTe=Object.getOwnPropertyDescriptors,D9=Object.getOwnPropertySymbols,aTe=Object.prototype.hasOwnProperty,uTe=Object.prototype.propertyIsEnumerable,$9=(e,t,n)=>t in e?iTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cc=(e,t)=>{for(var n in t||(t={}))aTe.call(t,n)&&$9(e,n,t[n]);if(D9)for(var n of D9(t))uTe.call(t,n)&&$9(e,n,t[n]);return e},hb=(e,t)=>sTe(e,oTe(t));function L9(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function M9(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const lTe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function cTe({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowPosition:s,arrowX:o,arrowY:a,dir:u}){const[l,c="center"]=e.split("-"),f={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[lTe[l]]:i},d=t?-n/2-1:-n/2;return l==="left"?hb(Cc(Cc({},f),L9(c,a,r,s)),{right:d,borderLeft:0,borderBottom:0}):l==="right"?hb(Cc(Cc({},f),L9(c,a,r,s)),{left:d,borderRight:0,borderTop:0}):l==="top"?hb(Cc(Cc({},f),M9(c,o,r,s,u)),{bottom:d,borderTop:0,borderLeft:0}):l==="bottom"?hb(Cc(Cc({},f),M9(c,o,r,s,u)),{top:d,borderBottom:0,borderRight:0}):{}}var fTe=Object.defineProperty,dTe=Object.defineProperties,hTe=Object.getOwnPropertyDescriptors,lS=Object.getOwnPropertySymbols,aJ=Object.prototype.hasOwnProperty,uJ=Object.prototype.propertyIsEnumerable,F9=(e,t,n)=>t in e?fTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pTe=(e,t)=>{for(var n in t||(t={}))aJ.call(t,n)&&F9(e,n,t[n]);if(lS)for(var n of lS(t))uJ.call(t,n)&&F9(e,n,t[n]);return e},mTe=(e,t)=>dTe(e,hTe(t)),gTe=(e,t)=>{var n={};for(var r in e)aJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lS)for(var r of lS(e))t.indexOf(r)<0&&uJ.call(e,r)&&(n[r]=e[r]);return n};const J$=w.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,arrowPosition:u,visible:l,arrowX:c,arrowY:f}=n,d=gTe(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY"]);const h=Vi();return l?R.createElement("div",mTe(pTe({},d),{ref:t,style:cTe({withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,arrowPosition:u,dir:h.dir,arrowX:c,arrowY:f})})):null});J$.displayName="@mantine/core/FloatingArrow";var yTe=Object.defineProperty,vTe=Object.defineProperties,_Te=Object.getOwnPropertyDescriptors,cS=Object.getOwnPropertySymbols,lJ=Object.prototype.hasOwnProperty,cJ=Object.prototype.propertyIsEnumerable,j9=(e,t,n)=>t in e?yTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pb=(e,t)=>{for(var n in t||(t={}))lJ.call(t,n)&&j9(e,n,t[n]);if(cS)for(var n of cS(t))cJ.call(t,n)&&j9(e,n,t[n]);return e},B9=(e,t)=>vTe(e,_Te(t)),bTe=(e,t)=>{var n={};for(var r in e)lJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cS)for(var r of cS(e))t.indexOf(r)<0&&cJ.call(e,r)&&(n[r]=e[r]);return n};const wTe={};function fJ(e){const t=Ye("PopoverDropdown",wTe,e),{style:n,className:r,children:i,onKeyDownCapture:s}=t,o=bTe(t,["style","className","children","onKeyDownCapture"]),a=eJ(),{classes:u,cx:l}=eTe({radius:a.radius,shadow:a.shadow},{name:a.__staticSelector,classNames:a.classNames,styles:a.styles,unstyled:a.unstyled}),c=ZK({opened:a.opened,shouldReturnFocus:a.returnFocus}),f=a.withRoles?{"aria-labelledby":a.getTargetId(),id:a.getDropdownId(),role:"dialog"}:{};return a.disabled?null:R.createElement(M_,{withinPortal:a.withinPortal},R.createElement(qI,{mounted:a.opened,transition:a.transition,duration:a.transitionDuration,exitDuration:typeof a.exitTransitionDuration=="number"?a.exitTransitionDuration:a.transitionDuration},d=>{var h,p;return R.createElement(oJ,{active:a.trapFocus},R.createElement(ft,pb(B9(pb({},f),{tabIndex:-1,key:a.placement,ref:a.floating,style:B9(pb(pb({},n),d),{zIndex:a.zIndex,top:(h=a.y)!=null?h:0,left:(p=a.x)!=null?p:0,width:a.width==="target"?void 0:a.width}),className:l(u.dropdown,r),onKeyDownCapture:q0e(a.onClose,{active:a.closeOnEscape,onTrigger:c,onKeyDown:s}),"data-position":a.placement}),o),i,R.createElement(J$,{ref:a.arrowRef,arrowX:a.arrowX,arrowY:a.arrowY,visible:a.withArrow,withBorder:!0,position:a.placement,arrowSize:a.arrowSize,arrowRadius:a.arrowRadius,arrowOffset:a.arrowOffset,arrowPosition:a.arrowPosition,className:u.arrow})))}))}fJ.displayName="@mantine/core/PopoverDropdown";function dJ(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var U9=Object.getOwnPropertySymbols,ETe=Object.prototype.hasOwnProperty,STe=Object.prototype.propertyIsEnumerable,TTe=(e,t)=>{var n={};for(var r in e)ETe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&U9)for(var r of U9(e))t.indexOf(r)<0&&STe.call(e,r)&&(n[r]=e[r]);return n};const xTe={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:mc("popover"),__staticSelector:"Popover",width:"max-content"};function _i(e){var t,n,r,i,s,o;const a=w.useRef(null),u=Ye("Popover",xTe,e),{children:l,position:c,offset:f,onPositionChange:d,positionDependencies:h,opened:p,transition:m,transitionDuration:y,width:g,middlewares:v,withArrow:_,arrowSize:S,arrowOffset:T,arrowRadius:E,arrowPosition:x,unstyled:P,classNames:M,styles:L,closeOnClickOutside:F,withinPortal:V,closeOnEscape:oe,clickOutsideEvents:U,trapFocus:te,onClose:ue,onOpen:ne,onChange:q,zIndex:fe,radius:A,shadow:W,id:Y,defaultOpened:C,exitTransitionDuration:O,__staticSelector:k,withRoles:G,disabled:de,returnFocus:he}=u,ge=TTe(u,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[Te,Pe]=w.useState(null),[Se,st]=w.useState(null),Je=pa(Y),vt=Vi(),Ve=WSe({middlewares:v,width:g,position:dJ(vt.dir,c),offset:f+(_?S/2:0),arrowRef:a,arrowOffset:T,onPositionChange:d,positionDependencies:h,opened:p,defaultOpened:C,onChange:q,onOpen:ne,onClose:ue});qve(()=>F&&Ve.onClose(),U,[Te,Se]);const ct=w.useCallback(rn=>{Pe(rn),Ve.floating.reference(rn)},[Ve.floating.reference]),gt=w.useCallback(rn=>{st(rn),Ve.floating.floating(rn)},[Ve.floating.floating]);return R.createElement(qSe,{value:{returnFocus:he,disabled:de,controlled:Ve.controlled,reference:ct,floating:gt,x:Ve.floating.x,y:Ve.floating.y,arrowX:(r=(n=(t=Ve.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(o=(s=(i=Ve.floating)==null?void 0:i.middlewareData)==null?void 0:s.arrow)==null?void 0:o.y,opened:Ve.opened,arrowRef:a,transition:m,transitionDuration:y,exitTransitionDuration:O,width:g,withArrow:_,arrowSize:S,arrowOffset:T,arrowRadius:E,arrowPosition:x,placement:Ve.floating.placement,trapFocus:te,withinPortal:V,zIndex:fe,radius:A,shadow:W,closeOnEscape:oe,onClose:Ve.onClose,onToggle:Ve.onToggle,getTargetId:()=>`${Je}-target`,getDropdownId:()=>`${Je}-dropdown`,withRoles:G,targetProps:ge,__staticSelector:k,classNames:M,styles:L,unstyled:P}},l)}_i.Target=rJ;_i.Dropdown=fJ;_i.displayName="@mantine/core/Popover";var ITe=Object.defineProperty,fS=Object.getOwnPropertySymbols,hJ=Object.prototype.hasOwnProperty,pJ=Object.prototype.propertyIsEnumerable,V9=(e,t,n)=>t in e?ITe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CTe=(e,t)=>{for(var n in t||(t={}))hJ.call(t,n)&&V9(e,n,t[n]);if(fS)for(var n of fS(t))pJ.call(t,n)&&V9(e,n,t[n]);return e},PTe=(e,t)=>{var n={};for(var r in e)hJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fS)for(var r of fS(e))t.indexOf(r)<0&&pJ.call(e,r)&&(n[r]=e[r]);return n};function ATe(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:s="column",id:o,innerRef:a,__staticSelector:u,styles:l,classNames:c,unstyled:f}=t,d=PTe(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=kEe(null,{name:u,styles:l,classNames:c,unstyled:f});return R.createElement(_i.Dropdown,CTe({p:0,onMouseDown:p=>p.preventDefault()},d),R.createElement("div",{style:{maxHeight:i,display:"flex"}},R.createElement(ft,{component:r||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==zI?"auto":void 0},"data-combobox-popover":!0,ref:a},R.createElement("div",{className:h.itemsWrapper,style:{flexDirection:s}},n))))}function bf({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:s,__staticSelector:o,onDirectionChange:a,switchDirectionOnFlip:u,zIndex:l,dropdownPosition:c,positionDependencies:f=[],classNames:d,styles:h,unstyled:p,readOnly:m}){return R.createElement(_i,{unstyled:p,classNames:d,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:f,zIndex:l,__staticSelector:o,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:m,onPositionChange:y=>u&&(a==null?void 0:a(y==="top"?"column-reverse":"column"))},s)}bf.Target=_i.Target;bf.Dropdown=ATe;var OTe=Object.defineProperty,RTe=Object.defineProperties,NTe=Object.getOwnPropertyDescriptors,dS=Object.getOwnPropertySymbols,mJ=Object.prototype.hasOwnProperty,gJ=Object.prototype.propertyIsEnumerable,z9=(e,t,n)=>t in e?OTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mb=(e,t)=>{for(var n in t||(t={}))mJ.call(t,n)&&z9(e,n,t[n]);if(dS)for(var n of dS(t))gJ.call(t,n)&&z9(e,n,t[n]);return e},kTe=(e,t)=>RTe(e,NTe(t)),DTe=(e,t)=>{var n={};for(var r in e)mJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dS)for(var r of dS(e))t.indexOf(r)<0&&gJ.call(e,r)&&(n[r]=e[r]);return n};function yJ(e,t,n){const r=Ye(e,t,n),{label:i,description:s,error:o,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,sx:h,errorProps:p,labelProps:m,descriptionProps:y,wrapperProps:g,id:v,size:_,style:S,inputContainer:T,inputWrapperOrder:E,withAsterisk:x}=r,P=DTe(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),M=pa(v),{systemStyles:L,rest:F}=gc(P),V=mb({label:i,description:s,error:o,required:a,classNames:u,className:c,__staticSelector:d,sx:h,errorProps:p,labelProps:m,descriptionProps:y,unstyled:f,styles:l,id:M,size:_,style:S,inputContainer:T,inputWrapperOrder:E,withAsterisk:x},g);return kTe(mb({},F),{classNames:u,styles:l,unstyled:f,wrapperProps:mb(mb({},V),L),inputProps:{required:a,classNames:u,styles:l,unstyled:f,id:M,size:_,__staticSelector:d,invalid:!!o}})}var $Te=dt((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}})),LTe=Object.defineProperty,hS=Object.getOwnPropertySymbols,vJ=Object.prototype.hasOwnProperty,_J=Object.prototype.propertyIsEnumerable,H9=(e,t,n)=>t in e?LTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MTe=(e,t)=>{for(var n in t||(t={}))vJ.call(t,n)&&H9(e,n,t[n]);if(hS)for(var n of hS(t))_J.call(t,n)&&H9(e,n,t[n]);return e},FTe=(e,t)=>{var n={};for(var r in e)vJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hS)for(var r of hS(e))t.indexOf(r)<0&&_J.call(e,r)&&(n[r]=e[r]);return n};const jTe={labelElement:"label",size:"sm"},Z$=w.forwardRef((e,t)=>{const n=Ye("InputLabel",jTe,e),{labelElement:r,children:i,required:s,size:o,classNames:a,styles:u,unstyled:l,className:c,htmlFor:f,__staticSelector:d}=n,h=FTe(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]),{classes:p,cx:m}=$Te({size:o},{name:["InputWrapper",d],classNames:a,styles:u,unstyled:l});return R.createElement(ft,MTe({component:r,ref:t,className:m(p.label,c),htmlFor:r==="label"?f:void 0},h),i,s&&R.createElement("span",{className:p.required,"aria-hidden":!0}," *"))});Z$.displayName="@mantine/core/InputLabel";var BTe=dt((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}})),UTe=Object.defineProperty,pS=Object.getOwnPropertySymbols,bJ=Object.prototype.hasOwnProperty,wJ=Object.prototype.propertyIsEnumerable,W9=(e,t,n)=>t in e?UTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VTe=(e,t)=>{for(var n in t||(t={}))bJ.call(t,n)&&W9(e,n,t[n]);if(pS)for(var n of pS(t))wJ.call(t,n)&&W9(e,n,t[n]);return e},zTe=(e,t)=>{var n={};for(var r in e)bJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pS)for(var r of pS(e))t.indexOf(r)<0&&wJ.call(e,r)&&(n[r]=e[r]);return n};const HTe={size:"sm"},e3=w.forwardRef((e,t)=>{const n=Ye("InputError",HTe,e),{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u,__staticSelector:l}=n,c=zTe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:f,cx:d}=BTe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return R.createElement(tt,VTe({className:d(f.error,i),ref:t},c),r)});e3.displayName="@mantine/core/InputError";var WTe=dt((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}})),qTe=Object.defineProperty,mS=Object.getOwnPropertySymbols,EJ=Object.prototype.hasOwnProperty,SJ=Object.prototype.propertyIsEnumerable,q9=(e,t,n)=>t in e?qTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GTe=(e,t)=>{for(var n in t||(t={}))EJ.call(t,n)&&q9(e,n,t[n]);if(mS)for(var n of mS(t))SJ.call(t,n)&&q9(e,n,t[n]);return e},YTe=(e,t)=>{var n={};for(var r in e)EJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mS)for(var r of mS(e))t.indexOf(r)<0&&SJ.call(e,r)&&(n[r]=e[r]);return n};const KTe={size:"sm"},t3=w.forwardRef((e,t)=>{const n=Ye("InputDescription",KTe,e),{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u,__staticSelector:l}=n,c=YTe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:f,cx:d}=WTe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return R.createElement(tt,GTe({color:"dimmed",className:d(f.description,i),ref:t,unstyled:a},c),r)});t3.displayName="@mantine/core/InputDescription";const TJ=w.createContext({offsetBottom:!1,offsetTop:!1,describedBy:void 0}),QTe=TJ.Provider,XTe=()=>w.useContext(TJ);function JTe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var ZTe=Object.defineProperty,exe=Object.defineProperties,txe=Object.getOwnPropertyDescriptors,G9=Object.getOwnPropertySymbols,nxe=Object.prototype.hasOwnProperty,rxe=Object.prototype.propertyIsEnumerable,Y9=(e,t,n)=>t in e?ZTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ixe=(e,t)=>{for(var n in t||(t={}))nxe.call(t,n)&&Y9(e,n,t[n]);if(G9)for(var n of G9(t))rxe.call(t,n)&&Y9(e,n,t[n]);return e},sxe=(e,t)=>exe(e,txe(t)),oxe=dt(e=>({root:sxe(ixe({},e.fn.fontStyles()),{lineHeight:e.lineHeight})})),axe=Object.defineProperty,uxe=Object.defineProperties,lxe=Object.getOwnPropertyDescriptors,gS=Object.getOwnPropertySymbols,xJ=Object.prototype.hasOwnProperty,IJ=Object.prototype.propertyIsEnumerable,K9=(e,t,n)=>t in e?axe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pc=(e,t)=>{for(var n in t||(t={}))xJ.call(t,n)&&K9(e,n,t[n]);if(gS)for(var n of gS(t))IJ.call(t,n)&&K9(e,n,t[n]);return e},Q9=(e,t)=>uxe(e,lxe(t)),cxe=(e,t)=>{var n={};for(var r in e)xJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gS)for(var r of gS(e))t.indexOf(r)<0&&IJ.call(e,r)&&(n[r]=e[r]);return n};const fxe={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},CJ=w.forwardRef((e,t)=>{const n=Ye("InputWrapper",fxe,e),{className:r,label:i,children:s,required:o,id:a,error:u,description:l,labelElement:c,labelProps:f,descriptionProps:d,errorProps:h,classNames:p,styles:m,size:y,inputContainer:g,__staticSelector:v,unstyled:_,inputWrapperOrder:S,withAsterisk:T}=n,E=cxe(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:x,cx:P}=oxe(null,{classNames:p,styles:m,name:["InputWrapper",v],unstyled:_}),M={classNames:p,styles:m,unstyled:_,size:y,__staticSelector:v},L=typeof T=="boolean"?T:o,F=a?`${a}-error`:h==null?void 0:h.id,V=a?`${a}-description`:d==null?void 0:d.id,U=`${!!u&&typeof u!="boolean"?F:""} ${l?V:""}`,te=U.trim().length>0?U.trim():void 0,ue=i&&R.createElement(Z$,Pc(Pc({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:L},M),f),i),ne=l&&R.createElement(t3,Q9(Pc(Pc({key:"description"},d),M),{size:(d==null?void 0:d.size)||M.size,id:(d==null?void 0:d.id)||V}),l),q=R.createElement(w.Fragment,{key:"input"},g(s)),fe=typeof u!="boolean"&&u&&R.createElement(e3,Q9(Pc(Pc({},h),M),{size:(h==null?void 0:h.size)||M.size,key:"error",id:(h==null?void 0:h.id)||F}),u),A=S.map(W=>{switch(W){case"label":return ue;case"input":return q;case"description":return ne;case"error":return fe;default:return null}});return R.createElement(QTe,{value:Pc({describedBy:te},JTe(S,{hasDescription:!!ne,hasError:!!fe}))},R.createElement(ft,Pc({className:P(x.root,r),ref:t},E),A))});CJ.displayName="@mantine/core/InputWrapper";var dxe=Object.defineProperty,yS=Object.getOwnPropertySymbols,PJ=Object.prototype.hasOwnProperty,AJ=Object.prototype.propertyIsEnumerable,X9=(e,t,n)=>t in e?dxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hxe=(e,t)=>{for(var n in t||(t={}))PJ.call(t,n)&&X9(e,n,t[n]);if(yS)for(var n of yS(t))AJ.call(t,n)&&X9(e,n,t[n]);return e},pxe=(e,t)=>{var n={};for(var r in e)PJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yS)for(var r of yS(e))t.indexOf(r)<0&&AJ.call(e,r)&&(n[r]=e[r]);return n};const mxe={},OJ=w.forwardRef((e,t)=>{const n=Ye("InputPlaceholder",mxe,e),{sx:r}=n,i=pxe(n,["sx"]);return R.createElement(ft,hxe({component:"span",sx:[s=>s.fn.placeholderStyles(),...dh(r)],ref:t},i))});OJ.displayName="@mantine/core/InputPlaceholder";var gxe=Object.defineProperty,yxe=Object.defineProperties,vxe=Object.getOwnPropertyDescriptors,J9=Object.getOwnPropertySymbols,_xe=Object.prototype.hasOwnProperty,bxe=Object.prototype.propertyIsEnumerable,Z9=(e,t,n)=>t in e?gxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gb=(e,t)=>{for(var n in t||(t={}))_xe.call(t,n)&&Z9(e,n,t[n]);if(J9)for(var n of J9(t))bxe.call(t,n)&&Z9(e,n,t[n]);return e},zA=(e,t)=>yxe(e,vxe(t));const js={xs:30,sm:36,md:42,lg:50,xl:60};function wxe({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var Exe=dt((e,{size:t,multiline:n,radius:r,variant:i,invalid:s,rightSectionWidth:o,withRightSection:a,iconWidth:u,offsetBottom:l,offsetTop:c,pointer:f})=>{const d=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:js}),paddingLeft:e.fn.size({size:t,sizes:js})/3,paddingRight:a?o:e.fn.size({size:t,sizes:js})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:l?`calc(${e.spacing.xs}px / 2)`:void 0},input:gb(zA(gb(zA(gb({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:js}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:js})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":zA(gb({},e.fn.placeholderStyles()),{opacity:1}),"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),wxe({theme:e,variant:i})),withIcon:{paddingLeft:typeof u=="number"?u:e.fn.size({size:t,sizes:js})},invalid:{color:d,borderColor:d,"&::placeholder":{opacity:1,color:d}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof u=="number"?u:e.fn.size({size:t,sizes:js}),color:s?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}}),Sxe=Object.defineProperty,Txe=Object.defineProperties,xxe=Object.getOwnPropertyDescriptors,vS=Object.getOwnPropertySymbols,RJ=Object.prototype.hasOwnProperty,NJ=Object.prototype.propertyIsEnumerable,ej=(e,t,n)=>t in e?Sxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yb=(e,t)=>{for(var n in t||(t={}))RJ.call(t,n)&&ej(e,n,t[n]);if(vS)for(var n of vS(t))NJ.call(t,n)&&ej(e,n,t[n]);return e},tj=(e,t)=>Txe(e,xxe(t)),Ixe=(e,t)=>{var n={};for(var r in e)RJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vS)for(var r of vS(e))t.indexOf(r)<0&&NJ.call(e,r)&&(n[r]=e[r]);return n};const Cxe={rightSectionWidth:36,size:"sm",variant:"default"},jh=w.forwardRef((e,t)=>{const n=Ye("Input",Cxe,e),{className:r,invalid:i,required:s,disabled:o,variant:a,icon:u,style:l,rightSectionWidth:c,iconWidth:f,rightSection:d,rightSectionProps:h,radius:p,size:m,wrapperProps:y,classNames:g,styles:v,__staticSelector:_,multiline:S,sx:T,unstyled:E,pointer:x}=n,P=Ixe(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:M,offsetTop:L,describedBy:F}=XTe(),{classes:V,cx:oe}=Exe({radius:p,size:m,multiline:S,variant:a,invalid:i,rightSectionWidth:c,iconWidth:f,withRightSection:!!d,offsetBottom:M,offsetTop:L,pointer:x},{classNames:g,styles:v,name:["Input",_],unstyled:E}),{systemStyles:U,rest:te}=gc(P);return R.createElement(ft,yb(yb({className:oe(V.wrapper,r),sx:T,style:l},U),y),u&&R.createElement("div",{className:V.icon},u),R.createElement(ft,tj(yb({component:"input"},te),{ref:t,required:s,"aria-invalid":i,"aria-describedby":F,disabled:o,className:oe(V[`${a}Variant`],V.input,{[V.withIcon]:u,[V.invalid]:i,[V.disabled]:o})})),d&&R.createElement("div",tj(yb({},h),{className:V.rightSection}),d))});jh.displayName="@mantine/core/Input";jh.Wrapper=CJ;jh.Label=Z$;jh.Description=t3;jh.Error=e3;jh.Placeholder=OJ;const Ss=jh;var Pxe=Object.defineProperty,Axe=Object.defineProperties,Oxe=Object.getOwnPropertyDescriptors,nj=Object.getOwnPropertySymbols,Rxe=Object.prototype.hasOwnProperty,Nxe=Object.prototype.propertyIsEnumerable,rj=(e,t,n)=>t in e?Pxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HA=(e,t)=>{for(var n in t||(t={}))Rxe.call(t,n)&&rj(e,n,t[n]);if(nj)for(var n of nj(t))Nxe.call(t,n)&&rj(e,n,t[n]);return e},kxe=(e,t)=>Axe(e,Oxe(t));const WA={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},Dxe={xs:4,sm:4,md:6,lg:8,xl:10};function $xe({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const o=e.fn.size({size:r,sizes:Dxe});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-o/2,"&::before":{content:'""',display:"block",width:o,height:o,borderRadius:o,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:o}}}const s=e.fn.variant({color:n,variant:t,gradient:i});return{background:s.background,color:s.color,border:`${t==="gradient"?0:1}px solid ${s.border}`}}var Lxe=dt((e,{color:t,size:n,radius:r,gradient:i,fullWidth:s,variant:o})=>{const{fontSize:a,height:u}=n in WA?WA[n]:WA.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:HA(kxe(HA(HA({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:u,WebkitTapHighlightColor:"transparent",lineHeight:`${u-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:s?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),$xe({theme:e,variant:o,color:t,size:n,gradient:i}))}}),Mxe=Object.defineProperty,_S=Object.getOwnPropertySymbols,kJ=Object.prototype.hasOwnProperty,DJ=Object.prototype.propertyIsEnumerable,ij=(e,t,n)=>t in e?Mxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fxe=(e,t)=>{for(var n in t||(t={}))kJ.call(t,n)&&ij(e,n,t[n]);if(_S)for(var n of _S(t))DJ.call(t,n)&&ij(e,n,t[n]);return e},jxe=(e,t)=>{var n={};for(var r in e)kJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_S)for(var r of _S(e))t.indexOf(r)<0&&DJ.call(e,r)&&(n[r]=e[r]);return n};const Bxe={variant:"light",size:"md",radius:"xl"},$J=w.forwardRef((e,t)=>{const n=Ye("Badge",Bxe,e),{className:r,color:i,variant:s,fullWidth:o,children:a,size:u,leftSection:l,rightSection:c,radius:f,gradient:d,classNames:h,styles:p,unstyled:m}=n,y=jxe(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:g,cx:v}=Lxe({size:u,fullWidth:o,color:i,radius:f,variant:s,gradient:d},{classNames:h,styles:p,name:"Badge",unstyled:m});return R.createElement(ft,Fxe({className:v(g.root,r),ref:t},y),l&&R.createElement("span",{className:g.leftSection},l),R.createElement("span",{className:g.inner},a),c&&R.createElement("span",{className:g.rightSection},c))});$J.displayName="@mantine/core/Badge";const Uxe=$J;var Vxe=Object.defineProperty,sj=Object.getOwnPropertySymbols,zxe=Object.prototype.hasOwnProperty,Hxe=Object.prototype.propertyIsEnumerable,oj=(e,t,n)=>t in e?Vxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wxe=(e,t)=>{for(var n in t||(t={}))zxe.call(t,n)&&oj(e,n,t[n]);if(sj)for(var n of sj(t))Hxe.call(t,n)&&oj(e,n,t[n]);return e};function qxe(e){return R.createElement("svg",Wxe({width:"20",height:"20",viewBox:"0 0 409.294 409.294",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),R.createElement("path",{d:"M0 204.647v175.412h175.412V204.647H58.471c0-64.48 52.461-116.941 116.941-116.941V29.235C78.684 29.235 0 107.919 0 204.647zM409.294 87.706V29.235c-96.728 0-175.412 78.684-175.412 175.412v175.412h175.412V204.647H292.353c0-64.48 52.461-116.941 116.941-116.941z"}))}var Gxe=Object.defineProperty,Yxe=Object.defineProperties,Kxe=Object.getOwnPropertyDescriptors,aj=Object.getOwnPropertySymbols,Qxe=Object.prototype.hasOwnProperty,Xxe=Object.prototype.propertyIsEnumerable,uj=(e,t,n)=>t in e?Gxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jxe=(e,t)=>{for(var n in t||(t={}))Qxe.call(t,n)&&uj(e,n,t[n]);if(aj)for(var n of aj(t))Xxe.call(t,n)&&uj(e,n,t[n]);return e},Zxe=(e,t)=>Yxe(e,Kxe(t)),eIe=dt((e,{color:t})=>({root:Zxe(Jxe({},e.fn.fontStyles()),{fontSize:e.fontSizes.lg,lineHeight:e.lineHeight,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,margin:0,borderTopRightRadius:e.radius.sm,borderBottomRightRadius:e.radius.sm,padding:`${e.spacing.md}px ${e.spacing.lg}px`}),inner:{display:"flex"},body:{flex:1,overflow:"hidden",textOverflow:"ellipsis"},icon:{color:e.fn.variant({variant:"filled",color:t}).background,marginRight:e.spacing.lg,marginTop:2,width:22},cite:{display:"block",fontSize:e.fontSizes.sm,marginTop:e.spacing.xs,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],overflow:"hidden",textOverflow:"ellipsis"}})),tIe=Object.defineProperty,bS=Object.getOwnPropertySymbols,LJ=Object.prototype.hasOwnProperty,MJ=Object.prototype.propertyIsEnumerable,lj=(e,t,n)=>t in e?tIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nIe=(e,t)=>{for(var n in t||(t={}))LJ.call(t,n)&&lj(e,n,t[n]);if(bS)for(var n of bS(t))MJ.call(t,n)&&lj(e,n,t[n]);return e},rIe=(e,t)=>{var n={};for(var r in e)LJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bS)for(var r of bS(e))t.indexOf(r)<0&&MJ.call(e,r)&&(n[r]=e[r]);return n};const iIe={color:"gray",icon:R.createElement(qxe,null)},FJ=w.forwardRef((e,t)=>{const n=Ye("Blockquote",iIe,e),{className:r,color:i,icon:s,cite:o,children:a,classNames:u,styles:l,unstyled:c}=n,f=rIe(n,["className","color","icon","cite","children","classNames","styles","unstyled"]),{classes:d,cx:h}=eIe({color:i},{classNames:u,styles:l,unstyled:c,name:"Blockquote"});return R.createElement(ft,nIe({component:"blockquote",className:h(d.root,r),ref:t},f),R.createElement("div",{className:d.inner},s&&R.createElement("div",{className:d.icon},s),R.createElement("div",{className:d.body},a,o&&R.createElement("cite",{className:d.cite},o))))});FJ.displayName="@mantine/core/Blockquote";var sIe=dt((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}})),oIe=Object.defineProperty,wS=Object.getOwnPropertySymbols,jJ=Object.prototype.hasOwnProperty,BJ=Object.prototype.propertyIsEnumerable,cj=(e,t,n)=>t in e?oIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aIe=(e,t)=>{for(var n in t||(t={}))jJ.call(t,n)&&cj(e,n,t[n]);if(wS)for(var n of wS(t))BJ.call(t,n)&&cj(e,n,t[n]);return e},uIe=(e,t)=>{var n={};for(var r in e)jJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wS)for(var r of wS(e))t.indexOf(r)<0&&BJ.call(e,r)&&(n[r]=e[r]);return n};const lIe={orientation:"horizontal",buttonBorderWidth:1},UJ=w.forwardRef((e,t)=>{const n=Ye("ButtonGroup",lIe,e),{className:r,orientation:i,buttonBorderWidth:s,unstyled:o}=n,a=uIe(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:u,cx:l}=sIe({orientation:i,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return R.createElement(ft,aIe({className:l(u.root,r),ref:t},a))});UJ.displayName="@mantine/core/ButtonGroup";var cIe=Object.defineProperty,fIe=Object.defineProperties,dIe=Object.getOwnPropertyDescriptors,fj=Object.getOwnPropertySymbols,hIe=Object.prototype.hasOwnProperty,pIe=Object.prototype.propertyIsEnumerable,dj=(e,t,n)=>t in e?cIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Id=(e,t)=>{for(var n in t||(t={}))hIe.call(t,n)&&dj(e,n,t[n]);if(fj)for(var n of fj(t))pIe.call(t,n)&&dj(e,n,t[n]);return e},eN=(e,t)=>fIe(e,dIe(t));const tN={xs:{height:js.xs,paddingLeft:14,paddingRight:14},sm:{height:js.sm,paddingLeft:18,paddingRight:18},md:{height:js.md,paddingLeft:22,paddingRight:22},lg:{height:js.lg,paddingLeft:26,paddingRight:26},xl:{height:js.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function mIe({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return tN[`compact-${t}`];const i=tN[t];return eN(Id({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const gIe=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function yIe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:Id({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var vIe=dt((e,{color:t,size:n,radius:r,fullWidth:i,compact:s,gradient:o,variant:a,withLeftIcon:u,withRightIcon:l})=>({root:eN(Id(eN(Id(Id(Id(Id({},mIe({compact:s,size:n,withLeftIcon:u,withRightIcon:l})),e.fn.fontStyles()),e.fn.focusStyles()),gIe(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),yIe({variant:a,theme:e,color:t,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}})),_Ie=Object.defineProperty,ES=Object.getOwnPropertySymbols,VJ=Object.prototype.hasOwnProperty,zJ=Object.prototype.propertyIsEnumerable,hj=(e,t,n)=>t in e?_Ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pj=(e,t)=>{for(var n in t||(t={}))VJ.call(t,n)&&hj(e,n,t[n]);if(ES)for(var n of ES(t))zJ.call(t,n)&&hj(e,n,t[n]);return e},bIe=(e,t)=>{var n={};for(var r in e)VJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ES)for(var r of ES(e))t.indexOf(r)<0&&zJ.call(e,r)&&(n[r]=e[r]);return n};const wIe={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},n3=w.forwardRef((e,t)=>{const n=Ye("Button",wIe,e),{className:r,size:i,color:s,type:o,disabled:a,children:u,leftIcon:l,rightIcon:c,fullWidth:f,variant:d,radius:h,uppercase:p,compact:m,loading:y,loaderPosition:g,loaderProps:v,gradient:_,classNames:S,styles:T,unstyled:E}=n,x=bIe(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:P,cx:M,theme:L}=vIe({radius:h,color:s,size:i,fullWidth:f,compact:m,gradient:_,variant:d,withLeftIcon:!!l,withRightIcon:!!c},{name:"Button",unstyled:E,classNames:S,styles:T}),F=L.fn.variant({color:s,variant:d}),V=R.createElement(nd,pj({color:F.color,size:L.fn.size({size:i,sizes:tN}).height/2},v));return R.createElement(MI,pj({className:M(P.root,r),type:o,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":y||void 0,ref:t,unstyled:E},x),R.createElement("div",{className:P.inner},(l||y&&g==="left")&&R.createElement("span",{className:M(P.icon,P.leftIcon)},y&&g==="left"?V:l),y&&g==="center"&&R.createElement("span",{className:P.centerLoader},V),R.createElement("span",{className:P.label,style:{textTransform:p?"uppercase":void 0}},u),(c||y&&g==="right")&&R.createElement("span",{className:M(P.icon,P.rightIcon)},y&&g==="right"?V:c)))});n3.displayName="@mantine/core/Button";n3.Group=UJ;const _s=n3;var EIe=dt((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}})),SIe=Object.defineProperty,SS=Object.getOwnPropertySymbols,HJ=Object.prototype.hasOwnProperty,WJ=Object.prototype.propertyIsEnumerable,mj=(e,t,n)=>t in e?SIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TIe=(e,t)=>{for(var n in t||(t={}))HJ.call(t,n)&&mj(e,n,t[n]);if(SS)for(var n of SS(t))WJ.call(t,n)&&mj(e,n,t[n]);return e},xIe=(e,t)=>{var n={};for(var r in e)HJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&SS)for(var r of SS(e))t.indexOf(r)<0&&WJ.call(e,r)&&(n[r]=e[r]);return n};const IIe={},qJ=w.forwardRef((e,t)=>{const n=Ye("Paper",IIe,e),{className:r,children:i,radius:s,withBorder:o,shadow:a,unstyled:u}=n,l=xIe(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:f}=EIe({radius:s,shadow:a,withBorder:o},{name:"Paper",unstyled:u});return R.createElement(ft,TIe({className:f(c.root,r),ref:t},l),i)});qJ.displayName="@mantine/core/Paper";const TS=qJ,GJ=w.createContext({padding:0}),CIe=GJ.Provider,PIe=()=>w.useContext(GJ).padding;var AIe=dt((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),s=-1*i,o=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${o}`,borderBottom:n&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:n&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}});const OIe=AIe;var RIe=Object.defineProperty,xS=Object.getOwnPropertySymbols,YJ=Object.prototype.hasOwnProperty,KJ=Object.prototype.propertyIsEnumerable,gj=(e,t,n)=>t in e?RIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NIe=(e,t)=>{for(var n in t||(t={}))YJ.call(t,n)&&gj(e,n,t[n]);if(xS)for(var n of xS(t))KJ.call(t,n)&&gj(e,n,t[n]);return e},kIe=(e,t)=>{var n={};for(var r in e)YJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xS)for(var r of xS(e))t.indexOf(r)<0&&KJ.call(e,r)&&(n[r]=e[r]);return n};const DIe={withBorder:!1,inheritPadding:!1},QJ=w.forwardRef((e,t)=>{const n=Ye("CardSection",DIe,e),{className:r,withBorder:i,inheritPadding:s,unstyled:o}=n,a=kIe(n,["className","withBorder","inheritPadding","unstyled"]),{classes:u,cx:l}=OIe({padding:PIe(),withBorder:i,inheritPadding:s},{name:"Card",unstyled:o});return R.createElement(ft,NIe({className:l(u.cardSection,r),ref:t},a))});QJ.displayName="@mantine/core/CardSection";const XJ=QJ;var $Ie=dt(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}})),LIe=Object.defineProperty,IS=Object.getOwnPropertySymbols,JJ=Object.prototype.hasOwnProperty,ZJ=Object.prototype.propertyIsEnumerable,yj=(e,t,n)=>t in e?LIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MIe=(e,t)=>{for(var n in t||(t={}))JJ.call(t,n)&&yj(e,n,t[n]);if(IS)for(var n of IS(t))ZJ.call(t,n)&&yj(e,n,t[n]);return e},FIe=(e,t)=>{var n={};for(var r in e)JJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IS)for(var r of IS(e))t.indexOf(r)<0&&ZJ.call(e,r)&&(n[r]=e[r]);return n};const jIe={p:"md"},r3=w.forwardRef((e,t)=>{const n=Ye("Card",jIe,e),{className:r,p:i,radius:s,children:o,unstyled:a}=n,u=FIe(n,["className","p","radius","children","unstyled"]),{classes:l,cx:c}=$Ie(null,{name:"Card",unstyled:a}),f=w.Children.toArray(o),d=f.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===XJ?w.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===f.length-1||void 0}):h);return R.createElement(CIe,{value:{padding:i}},R.createElement(TS,MIe({className:c(l.root,r),radius:s,p:i,ref:t},u),d))});r3.Section=XJ;r3.displayName="@mantine/core/Card";const BIe=r3;var UIe=Object.defineProperty,CS=Object.getOwnPropertySymbols,eZ=Object.prototype.hasOwnProperty,tZ=Object.prototype.propertyIsEnumerable,vj=(e,t,n)=>t in e?UIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VIe=(e,t)=>{for(var n in t||(t={}))eZ.call(t,n)&&vj(e,n,t[n]);if(CS)for(var n of CS(t))tZ.call(t,n)&&vj(e,n,t[n]);return e},zIe=(e,t)=>{var n={};for(var r in e)eZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CS)for(var r of CS(e))t.indexOf(r)<0&&tZ.call(e,r)&&(n[r]=e[r]);return n};const nZ=w.forwardRef((e,t)=>{const n=Ye("Center",{},e),{inline:r,sx:i}=n,s=zIe(n,["inline","sx"]);return R.createElement(ft,VIe({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...dh(i)]},s))});nZ.displayName="@mantine/core/Center";const fa=nZ,rZ=w.createContext(null),HIe=rZ.Provider,WIe=()=>w.useContext(rZ);function qIe(e){return w.Children.toArray(e).filter(Boolean)}const GIe={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var YIe=dt((e,{spacing:t,position:n,noWrap:r,grow:i,align:s,count:o})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:r?"nowrap":"wrap",justifyContent:GIe[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/o}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/o}px)`:void 0,flexGrow:i?1:0}}}));const KIe=YIe;var QIe=Object.defineProperty,PS=Object.getOwnPropertySymbols,iZ=Object.prototype.hasOwnProperty,sZ=Object.prototype.propertyIsEnumerable,_j=(e,t,n)=>t in e?QIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XIe=(e,t)=>{for(var n in t||(t={}))iZ.call(t,n)&&_j(e,n,t[n]);if(PS)for(var n of PS(t))sZ.call(t,n)&&_j(e,n,t[n]);return e},JIe=(e,t)=>{var n={};for(var r in e)iZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PS)for(var r of PS(e))t.indexOf(r)<0&&sZ.call(e,r)&&(n[r]=e[r]);return n};const ZIe={position:"left",spacing:"md"},ti=w.forwardRef((e,t)=>{const n=Ye("Group",ZIe,e),{className:r,position:i,align:s,children:o,noWrap:a,grow:u,spacing:l,unstyled:c}=n,f=JIe(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),d=qIe(o),{classes:h,cx:p}=KIe({align:s,grow:u,noWrap:a,spacing:l,position:i,count:d.length},{unstyled:c,name:"Group"});return R.createElement(ft,XIe({className:p(h.root,r),ref:t},f),d)});ti.displayName="@mantine/core/Group";var eCe=dt((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}})),tCe=Object.defineProperty,AS=Object.getOwnPropertySymbols,oZ=Object.prototype.hasOwnProperty,aZ=Object.prototype.propertyIsEnumerable,bj=(e,t,n)=>t in e?tCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nCe=(e,t)=>{for(var n in t||(t={}))oZ.call(t,n)&&bj(e,n,t[n]);if(AS)for(var n of AS(t))aZ.call(t,n)&&bj(e,n,t[n]);return e},rCe=(e,t)=>{var n={};for(var r in e)oZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AS)for(var r of AS(e))t.indexOf(r)<0&&aZ.call(e,r)&&(n[r]=e[r]);return n};const iCe={spacing:"md",align:"stretch",justify:"flex-start"},bs=w.forwardRef((e,t)=>{const n=Ye("Stack",iCe,e),{spacing:r,className:i,align:s,justify:o,unstyled:a}=n,u=rCe(n,["spacing","className","align","justify","unstyled"]),{classes:l,cx:c}=eCe({spacing:r,align:s,justify:o},{name:"Stack",unstyled:a});return R.createElement(ft,nCe({className:c(l.root,i),ref:t},u))});bs.displayName="@mantine/core/Stack";function i3({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:s}){return n==="horizontal"?R.createElement(ti,{pt:t,spacing:e,role:i,unstyled:s},r):R.createElement(bs,{pt:t,spacing:e,role:i,unstyled:s},r)}var sCe=Object.defineProperty,OS=Object.getOwnPropertySymbols,uZ=Object.prototype.hasOwnProperty,lZ=Object.prototype.propertyIsEnumerable,wj=(e,t,n)=>t in e?sCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ej=(e,t)=>{for(var n in t||(t={}))uZ.call(t,n)&&wj(e,n,t[n]);if(OS)for(var n of OS(t))lZ.call(t,n)&&wj(e,n,t[n]);return e},oCe=(e,t)=>{var n={};for(var r in e)uZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OS)for(var r of OS(e))t.indexOf(r)<0&&lZ.call(e,r)&&(n[r]=e[r]);return n};const aCe={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},cZ=w.forwardRef((e,t)=>{const n=Ye("CheckboxGroup",aCe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,offset:f}=n,d=oCe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=so({value:i,defaultValue:s,finalValue:[],onChange:o}),m=y=>{const g=y.currentTarget.value;p(h.includes(g)?h.filter(v=>v!==g):[...h,g])};return R.createElement(HIe,{value:{value:h,onChange:m,size:l}},R.createElement(Ss.Wrapper,Ej(Ej({labelElement:"div",size:l,__staticSelector:"CheckboxGroup",ref:t},c),d),R.createElement(i3,{spacing:u,orientation:a,offset:f},r)))});cZ.displayName="@mantine/core/CheckboxGroup";var uCe=Object.defineProperty,RS=Object.getOwnPropertySymbols,fZ=Object.prototype.hasOwnProperty,dZ=Object.prototype.propertyIsEnumerable,Sj=(e,t,n)=>t in e?uCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nN=(e,t)=>{for(var n in t||(t={}))fZ.call(t,n)&&Sj(e,n,t[n]);if(RS)for(var n of RS(t))dZ.call(t,n)&&Sj(e,n,t[n]);return e},lCe=(e,t)=>{var n={};for(var r in e)fZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RS)for(var r of RS(e))t.indexOf(r)<0&&dZ.call(e,r)&&(n[r]=e[r]);return n};function cCe(e){return R.createElement("svg",nN({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),R.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function fCe(e){var t=e,{indeterminate:n}=t,r=lCe(t,["indeterminate"]);return n?R.createElement("svg",nN({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),R.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):R.createElement(cCe,nN({},r))}var dCe=Object.defineProperty,hCe=Object.defineProperties,pCe=Object.getOwnPropertyDescriptors,Tj=Object.getOwnPropertySymbols,mCe=Object.prototype.hasOwnProperty,gCe=Object.prototype.propertyIsEnumerable,xj=(e,t,n)=>t in e?dCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yCe=(e,t)=>{for(var n in t||(t={}))mCe.call(t,n)&&xj(e,n,t[n]);if(Tj)for(var n of Tj(t))gCe.call(t,n)&&xj(e,n,t[n]);return e},vCe=(e,t)=>hCe(e,pCe(t));const _Ce={xs:16,sm:20,md:24,lg:30,xl:36},bCe={xs:8,sm:10,md:14,lg:16,xl:20};var wCe=dt((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:s,error:o,indeterminate:a},u)=>{const l=e.fn.size({size:t,sizes:_Ce}),c=e.fn.variant({variant:"filled",color:r}),f=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:u("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:bCe}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:l,height:l,order:s==="left"?2:1},input:vCe(yCe({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:l,height:l,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${u("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${u("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const ECe=wCe;var SCe=Object.defineProperty,TCe=Object.defineProperties,xCe=Object.getOwnPropertyDescriptors,Ij=Object.getOwnPropertySymbols,ICe=Object.prototype.hasOwnProperty,CCe=Object.prototype.propertyIsEnumerable,Cj=(e,t,n)=>t in e?SCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PCe=(e,t)=>{for(var n in t||(t={}))ICe.call(t,n)&&Cj(e,n,t[n]);if(Ij)for(var n of Ij(t))CCe.call(t,n)&&Cj(e,n,t[n]);return e},ACe=(e,t)=>TCe(e,xCe(t));const OCe={xs:16,sm:20,md:24,lg:30,xl:36};var RCe=dt((e,{labelPosition:t,size:n})=>({root:{},body:{display:"flex"},labelWrapper:ACe(PCe({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:OCe})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}})),NCe=Object.defineProperty,NS=Object.getOwnPropertySymbols,hZ=Object.prototype.hasOwnProperty,pZ=Object.prototype.propertyIsEnumerable,Pj=(e,t,n)=>t in e?NCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kCe=(e,t)=>{for(var n in t||(t={}))hZ.call(t,n)&&Pj(e,n,t[n]);if(NS)for(var n of NS(t))pZ.call(t,n)&&Pj(e,n,t[n]);return e},DCe=(e,t)=>{var n={};for(var r in e)hZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NS)for(var r of NS(e))t.indexOf(r)<0&&pZ.call(e,r)&&(n[r]=e[r]);return n};function GI(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:s,unstyled:o,children:a,label:u,description:l,id:c,disabled:f,error:d,size:h,labelPosition:p}=t,m=DCe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:y,cx:g}=RCe({size:h,labelPosition:p},{name:n,styles:s,classNames:i,unstyled:o});return R.createElement(ft,kCe({className:g(y.root,r)},m),R.createElement("div",{className:g(y.body)},a,R.createElement("div",{className:y.labelWrapper},u&&R.createElement("label",{className:y.label,"data-disabled":f||void 0,htmlFor:c},u),l&&R.createElement(Ss.Description,{className:y.description},l),d&&d!=="boolean"&&R.createElement(Ss.Error,{className:y.error},d))))}GI.displayName="@mantine/core/InlineInput";var $Ce=Object.defineProperty,kS=Object.getOwnPropertySymbols,mZ=Object.prototype.hasOwnProperty,gZ=Object.prototype.propertyIsEnumerable,Aj=(e,t,n)=>t in e?$Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vb=(e,t)=>{for(var n in t||(t={}))mZ.call(t,n)&&Aj(e,n,t[n]);if(kS)for(var n of kS(t))gZ.call(t,n)&&Aj(e,n,t[n]);return e},LCe=(e,t)=>{var n={};for(var r in e)mZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kS)for(var r of kS(e))t.indexOf(r)<0&&gZ.call(e,r)&&(n[r]=e[r]);return n};const MCe={size:"sm",transitionDuration:100,icon:fCe,labelPosition:"right"},Bm=w.forwardRef((e,t)=>{const n=Ye("Checkbox",MCe,e),{className:r,style:i,sx:s,checked:o,disabled:a,color:u,label:l,indeterminate:c,id:f,size:d,radius:h,wrapperProps:p,children:m,classNames:y,styles:g,transitionDuration:v,icon:_,unstyled:S,labelPosition:T,description:E,error:x}=n,P=LCe(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),M=WIe(),L=pa(f),{systemStyles:F,rest:V}=gc(P),{classes:oe}=ECe({size:(M==null?void 0:M.size)||d,radius:h,color:u,transitionDuration:v,labelPosition:T,error:!!x,indeterminate:c},{name:"Checkbox",classNames:y,styles:g,unstyled:S}),U=M?{checked:M.value.includes(V.value),onChange:M.onChange}:{};return R.createElement(GI,vb(vb({className:r,sx:s,style:i,id:L,size:(M==null?void 0:M.size)||d,labelPosition:T,label:l,description:E,error:x,disabled:a,__staticSelector:"Checkbox",classNames:y,styles:g,unstyled:S,"data-checked":U.checked||void 0},F),p),R.createElement("div",{className:oe.inner},R.createElement("input",vb(vb({id:L,ref:t,type:"checkbox",className:oe.input,checked:o,disabled:a},V),U)),R.createElement(_,{indeterminate:c,className:oe.icon})))});Bm.displayName="@mantine/core/Checkbox";Bm.Group=cZ;var FCe=dt((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}})),jCe=Object.defineProperty,DS=Object.getOwnPropertySymbols,yZ=Object.prototype.hasOwnProperty,vZ=Object.prototype.propertyIsEnumerable,Oj=(e,t,n)=>t in e?jCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BCe=(e,t)=>{for(var n in t||(t={}))yZ.call(t,n)&&Oj(e,n,t[n]);if(DS)for(var n of DS(t))vZ.call(t,n)&&Oj(e,n,t[n]);return e},UCe=(e,t)=>{var n={};for(var r in e)yZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DS)for(var r of DS(e))t.indexOf(r)<0&&vZ.call(e,r)&&(n[r]=e[r]);return n};const VCe={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},_Z=w.forwardRef((e,t)=>{const n=Ye("Container",VCe,e),{className:r,fluid:i,size:s,unstyled:o,sizes:a}=n,u=UCe(n,["className","fluid","size","unstyled","sizes"]),{classes:l,cx:c}=FCe({fluid:i,size:s,sizes:a},{unstyled:o,name:"Container"});return R.createElement(ft,BCe({className:c(l.root,r),ref:t},u))});_Z.displayName="@mantine/core/Container";function bZ({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=sJ({mounted:r,duration:t,exitDuration:n,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});if(c===0)return r?R.createElement(R.Fragment,null,i({})):null;if(f==="exited")return null;const h=Object.keys(e).reduce((p,m)=>(p[m]=iJ({duration:e[m].duration,transition:e[m].transition,timingFunction:e[m].timingFunction||d,state:f}),p),{});return R.createElement(R.Fragment,null,i(h))}bZ.displayName="@mantine/core/GroupedTransition";var zCe=dt((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}})),HCe=Object.defineProperty,WCe=Object.defineProperties,qCe=Object.getOwnPropertyDescriptors,$S=Object.getOwnPropertySymbols,wZ=Object.prototype.hasOwnProperty,EZ=Object.prototype.propertyIsEnumerable,Rj=(e,t,n)=>t in e?HCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qA=(e,t)=>{for(var n in t||(t={}))wZ.call(t,n)&&Rj(e,n,t[n]);if($S)for(var n of $S(t))EZ.call(t,n)&&Rj(e,n,t[n]);return e},GCe=(e,t)=>WCe(e,qCe(t)),YCe=(e,t)=>{var n={};for(var r in e)wZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$S)for(var r of $S(e))t.indexOf(r)<0&&EZ.call(e,r)&&(n[r]=e[r]);return n};const KCe={opacity:.6,color:"#fff",zIndex:mc("modal"),radius:0,blur:0},SZ=w.forwardRef((e,t)=>{const n=Ye("Overlay",KCe,e),{opacity:r,blur:i,color:s,gradient:o,zIndex:a,radius:u,sx:l,unstyled:c,className:f}=n,d=YCe(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=zCe({zIndex:a},{name:"Overlay",unstyled:c}),m=o?{backgroundImage:o}:{backgroundColor:s},y=g=>R.createElement(ft,qA({ref:t,className:p(h.root,f),sx:[v=>GCe(qA({},m),{opacity:r,borderRadius:v.fn.size({size:u,sizes:v.radius})}),...dh(l)]},g));return i?R.createElement(ft,qA({className:p(h.root,f),sx:[{backdropFilter:`blur(${i}px)`},...dh(l)]},d),y()):y(d)});SZ.displayName="@mantine/core/Overlay";const QCe=SZ,XCe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var JCe=Object.defineProperty,ZCe=Object.defineProperties,ePe=Object.getOwnPropertyDescriptors,LS=Object.getOwnPropertySymbols,TZ=Object.prototype.hasOwnProperty,xZ=Object.prototype.propertyIsEnumerable,Nj=(e,t,n)=>t in e?JCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tPe=(e,t)=>{for(var n in t||(t={}))TZ.call(t,n)&&Nj(e,n,t[n]);if(LS)for(var n of LS(t))xZ.call(t,n)&&Nj(e,n,t[n]);return e},nPe=(e,t)=>ZCe(e,ePe(t)),rPe=(e,t)=>{var n={};for(var r in e)TZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LS)for(var r of LS(e))t.indexOf(r)<0&&xZ.call(e,r)&&(n[r]=e[r]);return n};const iPe={},Um=w.forwardRef((e,t)=>{const n=Ye("Flex",iPe,e),{gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l,sx:c}=n,f=rPe(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return R.createElement(ft,nPe(tPe({},f),{sx:[{display:"flex"},d=>GR({gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l},d,XCe),...dh(c)],ref:t}))});Um.displayName="@mantine/core/Flex";const[sPe,oPe]=D_("Grid component was not found in tree");var aPe=Object.defineProperty,kj=Object.getOwnPropertySymbols,uPe=Object.prototype.hasOwnProperty,lPe=Object.prototype.propertyIsEnumerable,Dj=(e,t,n)=>t in e?aPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cPe=(e,t)=>{for(var n in t||(t={}))uPe.call(t,n)&&Dj(e,n,t[n]);if(kj)for(var n of kj(t))lPe.call(t,n)&&Dj(e,n,t[n]);return e};const s3=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,IZ=(e,t,n)=>n||e==="auto"||e==="content"?"unset":s3(e,t),CZ=(e,t)=>{if(e)return e==="auto"||t?1:0},PZ=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0,AZ=(e,t)=>typeof e<"u"?t.fn.size({size:e,sizes:t.spacing})/2:void 0;function fPe({sizes:e,offsets:t,orders:n,theme:r,columns:i,gutters:s,grow:o}){return OK.reduce((a,u)=>(a[`@media (min-width: ${r.breakpoints[u]}px)`]={order:n[u],flexBasis:s3(e[u],i),padding:AZ(s[u],r),flexShrink:0,width:e[u]==="content"?"auto":void 0,maxWidth:IZ(e[u],i,o),marginLeft:PZ(t[u],i),flexGrow:CZ(e[u],o)},a),{})}var dPe=dt((e,{gutter:t,gutterXs:n,gutterSm:r,gutterMd:i,gutterLg:s,gutterXl:o,grow:a,offset:u,offsetXs:l,offsetSm:c,offsetMd:f,offsetLg:d,offsetXl:h,columns:p,span:m,xs:y,sm:g,md:v,lg:_,xl:S,order:T,orderXs:E,orderSm:x,orderMd:P,orderLg:M,orderXl:L})=>({col:cPe({boxSizing:"border-box",flexGrow:CZ(m,a),order:T,padding:AZ(t,e),marginLeft:PZ(u,p),flexBasis:s3(m,p),flexShrink:0,width:m==="content"?"auto":void 0,maxWidth:IZ(m,p,a)},fPe({sizes:{xs:y,sm:g,md:v,lg:_,xl:S},offsets:{xs:l,sm:c,md:f,lg:d,xl:h},orders:{xs:E,sm:x,md:P,lg:M,xl:L},gutters:{xs:n,sm:r,md:i,lg:s,xl:o},theme:e,columns:p,grow:a}))}));const hPe=dPe;var pPe=Object.defineProperty,MS=Object.getOwnPropertySymbols,OZ=Object.prototype.hasOwnProperty,RZ=Object.prototype.propertyIsEnumerable,$j=(e,t,n)=>t in e?pPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mPe=(e,t)=>{for(var n in t||(t={}))OZ.call(t,n)&&$j(e,n,t[n]);if(MS)for(var n of MS(t))RZ.call(t,n)&&$j(e,n,t[n]);return e},gPe=(e,t)=>{var n={};for(var r in e)OZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&MS)for(var r of MS(e))t.indexOf(r)<0&&RZ.call(e,r)&&(n[r]=e[r]);return n};const yPe={};function vPe(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const NZ=w.forwardRef((e,t)=>{const n=Ye("GridCol",yPe,e),{children:r,span:i,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:v,orderMd:_,orderLg:S,orderXl:T,className:E,id:x,unstyled:P}=n,M=gPe(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),L=oPe(),F=i||L.columns,{classes:V,cx:oe}=hPe({gutter:L.gutter,gutterXs:L.gutterXs,gutterSm:L.gutterSm,gutterMd:L.gutterMd,gutterLg:L.gutterLg,gutterXl:L.gutterXl,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:v,orderMd:_,orderLg:S,orderXl:T,grow:L.grow,columns:L.columns,span:F},{unstyled:P,name:"Grid"});return!vPe(F)||F>L.columns?null:R.createElement(ft,mPe({className:oe(V.col,E),ref:t},M),r)});NZ.displayName="@mantine/core/Col";var _Pe=Object.defineProperty,Lj=Object.getOwnPropertySymbols,bPe=Object.prototype.hasOwnProperty,wPe=Object.prototype.propertyIsEnumerable,Mj=(e,t,n)=>t in e?_Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EPe=(e,t)=>{for(var n in t||(t={}))bPe.call(t,n)&&Mj(e,n,t[n]);if(Lj)for(var n of Lj(t))wPe.call(t,n)&&Mj(e,n,t[n]);return e};function SPe(e,t){return OK.reduce((n,r)=>(typeof e[r]<"u"&&(n[`@media (min-width: ${t.breakpoints[r]}px)`]={margin:-t.fn.size({size:e[r],sizes:t.spacing})/2}),n),{})}var TPe=dt((e,{justify:t,align:n,gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u})=>({root:EPe({margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n},SPe({xs:i,sm:s,md:o,lg:a,xl:u},e))})),xPe=Object.defineProperty,FS=Object.getOwnPropertySymbols,kZ=Object.prototype.hasOwnProperty,DZ=Object.prototype.propertyIsEnumerable,Fj=(e,t,n)=>t in e?xPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IPe=(e,t)=>{for(var n in t||(t={}))kZ.call(t,n)&&Fj(e,n,t[n]);if(FS)for(var n of FS(t))DZ.call(t,n)&&Fj(e,n,t[n]);return e},CPe=(e,t)=>{var n={};for(var r in e)kZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FS)for(var r of FS(e))t.indexOf(r)<0&&DZ.call(e,r)&&(n[r]=e[r]);return n};const PPe={gutter:"md",justify:"flex-start",align:"stretch",columns:12},Ll=w.forwardRef((e,t)=>{const n=Ye("Grid",PPe,e),{gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u,children:l,grow:c,justify:f,align:d,columns:h,className:p,id:m,unstyled:y}=n,g=CPe(n,["gutter","gutterXs","gutterSm","gutterMd","gutterLg","gutterXl","children","grow","justify","align","columns","className","id","unstyled"]),{classes:v,cx:_}=TPe({gutter:r,justify:f,align:d,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u},{unstyled:y,name:"Grid"});return R.createElement(sPe,{value:{gutter:r,gutterXs:i,gutterSm:s,gutterMd:o,gutterLg:a,gutterXl:u,grow:c,columns:h}},R.createElement(ft,IPe({className:_(v.root,p),ref:t},g),l))});Ll.Col=NZ;Ll.displayName="@mantine/core/Grid";var APe=dt((e,{color:t})=>({root:{backgroundColor:e.fn.themeColor(t,e.colorScheme==="dark"?5:2),color:e.colorScheme==="dark"?e.colors.dark[9]:"inherit"}})),OPe=Object.defineProperty,jS=Object.getOwnPropertySymbols,$Z=Object.prototype.hasOwnProperty,LZ=Object.prototype.propertyIsEnumerable,jj=(e,t,n)=>t in e?OPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RPe=(e,t)=>{for(var n in t||(t={}))$Z.call(t,n)&&jj(e,n,t[n]);if(jS)for(var n of jS(t))LZ.call(t,n)&&jj(e,n,t[n]);return e},NPe=(e,t)=>{var n={};for(var r in e)$Z.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jS)for(var r of jS(e))t.indexOf(r)<0&&LZ.call(e,r)&&(n[r]=e[r]);return n};const kPe={color:"yellow"},MZ=w.forwardRef((e,t)=>{const n=Ye("Mark",kPe,e),{color:r,className:i,unstyled:s}=n,o=NPe(n,["color","className","unstyled"]),{classes:a,cx:u}=APe({color:r},{unstyled:s,name:"Mark"});return R.createElement(ft,RPe({component:"mark",ref:t,className:u(a.root,i)},o))});MZ.displayName="@mantine/core/Mark";function Bj(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function DPe(e,t){if(t==null)return[{chunk:e,highlighted:!1}];const n=Array.isArray(t)?t.map(Bj):Bj(t);if(!(Array.isArray(n)?n.filter(a=>a.trim().length>0).length>0:n.trim()!==""))return[{chunk:e,highlighted:!1}];const i=typeof n=="string"?n.trim():n.filter(a=>a.trim().length!==0).map(a=>a.trim()).join("|"),s=new RegExp(`(${i})`,"gi");return e.split(s).map(a=>({chunk:a,highlighted:s.test(a)})).filter(({chunk:a})=>a)}var $Pe=Object.defineProperty,BS=Object.getOwnPropertySymbols,FZ=Object.prototype.hasOwnProperty,jZ=Object.prototype.propertyIsEnumerable,Uj=(e,t,n)=>t in e?$Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LPe=(e,t)=>{for(var n in t||(t={}))FZ.call(t,n)&&Uj(e,n,t[n]);if(BS)for(var n of BS(t))jZ.call(t,n)&&Uj(e,n,t[n]);return e},MPe=(e,t)=>{var n={};for(var r in e)FZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BS)for(var r of BS(e))t.indexOf(r)<0&&jZ.call(e,r)&&(n[r]=e[r]);return n};const FPe={highlightColor:"yellow"},BZ=w.forwardRef((e,t)=>{const n=Ye("Highlight",FPe,e),{children:r,highlight:i,highlightColor:s,highlightStyles:o,unstyled:a}=n,u=MPe(n,["children","highlight","highlightColor","highlightStyles","unstyled"]),l=DPe(r,i);return R.createElement(tt,LPe({unstyled:a,ref:t},u),l.map(({chunk:c,highlighted:f},d)=>f?R.createElement(MZ,{unstyled:a,key:d,color:s,sx:o},c):R.createElement("span",{key:d},c)))});BZ.displayName="@mantine/core/Highlight";const jPe=BZ,UZ={context:"HoverCard component was not found in the tree",children:"HoverCard.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[BPe,VZ]=D_(UZ.context);var UPe=Object.defineProperty,US=Object.getOwnPropertySymbols,zZ=Object.prototype.hasOwnProperty,HZ=Object.prototype.propertyIsEnumerable,Vj=(e,t,n)=>t in e?UPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VPe=(e,t)=>{for(var n in t||(t={}))zZ.call(t,n)&&Vj(e,n,t[n]);if(US)for(var n of US(t))HZ.call(t,n)&&Vj(e,n,t[n]);return e},zPe=(e,t)=>{var n={};for(var r in e)zZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&US)for(var r of US(e))t.indexOf(r)<0&&HZ.call(e,r)&&(n[r]=e[r]);return n};const HPe={};function WZ(e){const t=Ye("HoverCardDropdown",HPe,e),{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=zPe(t,["children","onMouseEnter","onMouseLeave"]),o=VZ(),a=xo(r,o.openDropdown),u=xo(i,o.closeDropdown);return R.createElement(_i.Dropdown,VPe({onMouseEnter:a,onMouseLeave:u},s),n)}WZ.displayName="@mantine/core/HoverCardDropdown";var WPe=Object.defineProperty,VS=Object.getOwnPropertySymbols,qZ=Object.prototype.hasOwnProperty,GZ=Object.prototype.propertyIsEnumerable,zj=(e,t,n)=>t in e?WPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qPe=(e,t)=>{for(var n in t||(t={}))qZ.call(t,n)&&zj(e,n,t[n]);if(VS)for(var n of VS(t))GZ.call(t,n)&&zj(e,n,t[n]);return e},GPe=(e,t)=>{var n={};for(var r in e)qZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VS)for(var r of VS(e))t.indexOf(r)<0&&GZ.call(e,r)&&(n[r]=e[r]);return n};const YPe={refProp:"ref"},YZ=w.forwardRef((e,t)=>{const n=Ye("HoverCardTarget",YPe,e),{children:r,refProp:i}=n,s=GPe(n,["children","refProp"]);if(!Sg(r))throw new Error(UZ.children);const o=VZ(),a=xo(r.props.onMouseEnter,o.openDropdown),u=xo(r.props.onMouseLeave,o.closeDropdown);return R.createElement(_i.Target,qPe({refProp:i,ref:t},s),w.cloneElement(r,{onMouseEnter:a,onMouseLeave:u}))});YZ.displayName="@mantine/core/HoverCardTarget";function KZ({open:e,close:t,openDelay:n,closeDelay:r}){const i=w.useRef(-1),s=w.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0?e():i.current=window.setTimeout(e,n)},u=()=>{o(),r===0?t():s.current=window.setTimeout(t,r)};return w.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:u}}var KPe=Object.defineProperty,zS=Object.getOwnPropertySymbols,QZ=Object.prototype.hasOwnProperty,XZ=Object.prototype.propertyIsEnumerable,Hj=(e,t,n)=>t in e?KPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QPe=(e,t)=>{for(var n in t||(t={}))QZ.call(t,n)&&Hj(e,n,t[n]);if(zS)for(var n of zS(t))XZ.call(t,n)&&Hj(e,n,t[n]);return e},XPe=(e,t)=>{var n={};for(var r in e)QZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zS)for(var r of zS(e))t.indexOf(r)<0&&XZ.call(e,r)&&(n[r]=e[r]);return n};const JPe={openDelay:0,closeDelay:150,initiallyOpened:!1};function rm(e){const t=Ye("HoverCard",JPe,e),{children:n,onOpen:r,onClose:i,openDelay:s,closeDelay:o,initiallyOpened:a}=t,u=XPe(t,["children","onOpen","onClose","openDelay","closeDelay","initiallyOpened"]),[l,{open:c,close:f}]=k$(a,{onClose:i,onOpen:r}),{openDropdown:d,closeDropdown:h}=KZ({open:c,close:f,openDelay:s,closeDelay:o});return R.createElement(BPe,{value:{openDropdown:d,closeDropdown:h}},R.createElement(_i,QPe({opened:l,__staticSelector:"HoverCard"},u),n))}rm.displayName="@mantine/core/HoverCard";rm.Target=YZ;rm.Dropdown=WZ;var ZPe=Object.defineProperty,Wj=Object.getOwnPropertySymbols,eAe=Object.prototype.hasOwnProperty,tAe=Object.prototype.propertyIsEnumerable,qj=(e,t,n)=>t in e?ZPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nAe=(e,t)=>{for(var n in t||(t={}))eAe.call(t,n)&&qj(e,n,t[n]);if(Wj)for(var n of Wj(t))tAe.call(t,n)&&qj(e,n,t[n]);return e};function rAe(e){return R.createElement("svg",nAe({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),R.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var iAe=Object.defineProperty,sAe=Object.defineProperties,oAe=Object.getOwnPropertyDescriptors,Gj=Object.getOwnPropertySymbols,aAe=Object.prototype.hasOwnProperty,uAe=Object.prototype.propertyIsEnumerable,Yj=(e,t,n)=>t in e?iAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kj=(e,t)=>{for(var n in t||(t={}))aAe.call(t,n)&&Yj(e,n,t[n]);if(Gj)for(var n of Gj(t))uAe.call(t,n)&&Yj(e,n,t[n]);return e},Qj=(e,t)=>sAe(e,oAe(t)),lAe=dt((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:Qj(Kj({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:Qj(Kj({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})})),cAe=Object.defineProperty,HS=Object.getOwnPropertySymbols,JZ=Object.prototype.hasOwnProperty,ZZ=Object.prototype.propertyIsEnumerable,Xj=(e,t,n)=>t in e?cAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GA=(e,t)=>{for(var n in t||(t={}))JZ.call(t,n)&&Xj(e,n,t[n]);if(HS)for(var n of HS(t))ZZ.call(t,n)&&Xj(e,n,t[n]);return e},fAe=(e,t)=>{var n={};for(var r in e)JZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HS)for(var r of HS(e))t.indexOf(r)<0&&ZZ.call(e,r)&&(n[r]=e[r]);return n};const dAe={fit:"cover",width:"100%",height:"auto",radius:0},U_=w.forwardRef((e,t)=>{const n=Ye("Image",dAe,e),{className:r,alt:i,src:s,fit:o,width:a,height:u,radius:l,imageProps:c,withPlaceholder:f,placeholder:d,imageRef:h,classNames:p,styles:m,caption:y,unstyled:g,style:v}=n,_=fAe(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:S,cx:T}=lAe({radius:l},{classNames:p,styles:m,unstyled:g,name:"Image"}),[E,x]=w.useState(!s),P=f&&E;return to(()=>{x(!s)},[s]),R.createElement(ft,GA({className:T(S.root,r),ref:t,style:GA({width:a},v)},_),R.createElement("figure",{className:S.figure},R.createElement("div",{className:S.imageWrapper},R.createElement("img",GA({className:S.image,src:s,alt:i,style:{objectFit:o,width:a,height:u},ref:h,onError:M=>{x(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(M)}},c)),P&&R.createElement("div",{className:S.placeholder,title:i},d||R.createElement("div",null,R.createElement(rAe,{style:{width:40,height:40}})))),!!y&&R.createElement(tt,{component:"figcaption",size:"sm",align:"center",className:S.caption},y)))});U_.displayName="@mantine/core/Image";function hAe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var pAe=w.useLayoutEffect,mAe=function(t){var n=w.useRef(t);return pAe(function(){n.current=t}),n},Jj=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},gAe=function(t,n){var r=w.useRef();return w.useCallback(function(i){t.current=i,r.current&&Jj(r.current,null),r.current=n,n&&Jj(n,i)},[n])},Zj={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},eB=function(t){Object.keys(Zj).forEach(function(n){t.style.setProperty(n,Zj[n],"important")})},mo=null,yAe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function vAe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),mo||(mo=document.createElement("textarea"),mo.setAttribute("tabindex","-1"),mo.setAttribute("aria-hidden","true"),eB(mo)),mo.parentNode===null&&document.body.appendChild(mo);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var h=d;mo.style[h]=o[h]}),eB(mo),mo.value=t;var u=yAe(mo,e);mo.value="x";var l=mo.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+s),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,l]}var tB=function(){},_Ae=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},bAe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],wAe=!!document.documentElement.currentStyle,EAe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=_Ae(bAe,n),i=r.boxSizing;if(i==="")return null;wAe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},SAe=function(t){var n=mAe(t);w.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},TAe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?tB:o,u=t.onHeightChange,l=u===void 0?tB:u,c=hAe(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=c.value!==void 0,d=w.useRef(null),h=gAe(d,n),p=w.useRef(0),m=w.useRef(),y=function(){var _=d.current,S=r&&m.current?m.current:EAe(_);if(S){m.current=S;var T=vAe(S,_.value||_.placeholder||"x",s,i),E=T[0],x=T[1];p.current!==E&&(p.current=E,_.style.setProperty("height",E+"px","important"),l(E,{rowHeight:x}))}},g=function(_){f||y(),a(_)};return w.useLayoutEffect(y),SAe(y),w.createElement("textarea",gr({},c,{onChange:g,ref:h}))},xAe=w.forwardRef(TAe);const IAe=xAe;var CAe=dt(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}})),PAe=Object.defineProperty,AAe=Object.defineProperties,OAe=Object.getOwnPropertyDescriptors,WS=Object.getOwnPropertySymbols,eee=Object.prototype.hasOwnProperty,tee=Object.prototype.propertyIsEnumerable,nB=(e,t,n)=>t in e?PAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,np=(e,t)=>{for(var n in t||(t={}))eee.call(t,n)&&nB(e,n,t[n]);if(WS)for(var n of WS(t))tee.call(t,n)&&nB(e,n,t[n]);return e},YA=(e,t)=>AAe(e,OAe(t)),RAe=(e,t)=>{var n={};for(var r in e)eee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WS)for(var r of WS(e))t.indexOf(r)<0&&tee.call(e,r)&&(n[r]=e[r]);return n};const NAe={autosize:!1,size:"sm",__staticSelector:"Textarea"},nee=w.forwardRef((e,t)=>{const n=Ye("Textarea",NAe,e),{autosize:r,maxRows:i,minRows:s,label:o,error:a,description:u,id:l,className:c,required:f,style:d,wrapperProps:h,classNames:p,styles:m,size:y,__staticSelector:g,sx:v,errorProps:_,descriptionProps:S,labelProps:T,inputWrapperOrder:E,inputContainer:x,unstyled:P,withAsterisk:M}=n,L=RAe(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),F=pa(l),{classes:V,cx:oe}=CAe(),{systemStyles:U,rest:te}=gc(L),ue=np({required:f,ref:t,invalid:!!a,id:F,classNames:YA(np({},p),{input:oe(V.input,p==null?void 0:p.input)}),styles:m,__staticSelector:g,size:y,multiline:!0,unstyled:P},te);return R.createElement(Ss.Wrapper,np(np({label:o,error:a,id:F,description:u,required:f,style:d,className:c,classNames:p,styles:m,size:y,__staticSelector:g,sx:v,errorProps:_,labelProps:T,descriptionProps:S,inputContainer:x,inputWrapperOrder:E,unstyled:P,withAsterisk:M},U),h),r?R.createElement(Ss,YA(np({},ue),{component:IAe,maxRows:i,minRows:s})):R.createElement(Ss,YA(np({},ue),{component:"textarea",rows:s})))});nee.displayName="@mantine/core/Textarea";const[kAe,DAe]=D_("List component was not found in tree");var $Ae=dt((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}})),LAe=Object.defineProperty,qS=Object.getOwnPropertySymbols,ree=Object.prototype.hasOwnProperty,iee=Object.prototype.propertyIsEnumerable,rB=(e,t,n)=>t in e?LAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MAe=(e,t)=>{for(var n in t||(t={}))ree.call(t,n)&&rB(e,n,t[n]);if(qS)for(var n of qS(t))iee.call(t,n)&&rB(e,n,t[n]);return e},FAe=(e,t)=>{var n={};for(var r in e)ree.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qS)for(var r of qS(e))t.indexOf(r)<0&&iee.call(e,r)&&(n[r]=e[r]);return n};const jAe={},see=w.forwardRef((e,t)=>{const n=Ye("ListItem",jAe,e),{className:r,children:i,icon:s}=n,o=FAe(n,["className","children","icon"]),{icon:a,spacing:u,center:l,listStyleType:c,size:f,withPadding:d,classNames:h,styles:p,unstyled:m}=DAe(),y=s||a,{classes:g,cx:v}=$Ae({withPadding:d,size:f,listStyleType:c,center:l,spacing:u},{classNames:h,styles:p,unstyled:m,name:"List"});return R.createElement(ft,MAe({component:"li",className:v(g.item,{[g.withIcon]:y},r),ref:t},o),R.createElement("div",{className:g.itemWrapper},y&&R.createElement("span",{className:g.itemIcon},y),R.createElement("span",null,i)))});see.displayName="@mantine/core/ListItem";var BAe=Object.defineProperty,UAe=Object.defineProperties,VAe=Object.getOwnPropertyDescriptors,iB=Object.getOwnPropertySymbols,zAe=Object.prototype.hasOwnProperty,HAe=Object.prototype.propertyIsEnumerable,sB=(e,t,n)=>t in e?BAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WAe=(e,t)=>{for(var n in t||(t={}))zAe.call(t,n)&&sB(e,n,t[n]);if(iB)for(var n of iB(t))HAe.call(t,n)&&sB(e,n,t[n]);return e},qAe=(e,t)=>UAe(e,VAe(t)),GAe=dt((e,{withPadding:t,size:n,listStyleType:r})=>({root:qAe(WAe({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})})),YAe=Object.defineProperty,GS=Object.getOwnPropertySymbols,oee=Object.prototype.hasOwnProperty,aee=Object.prototype.propertyIsEnumerable,oB=(e,t,n)=>t in e?YAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KAe=(e,t)=>{for(var n in t||(t={}))oee.call(t,n)&&oB(e,n,t[n]);if(GS)for(var n of GS(t))aee.call(t,n)&&oB(e,n,t[n]);return e},QAe=(e,t)=>{var n={};for(var r in e)oee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GS)for(var r of GS(e))t.indexOf(r)<0&&aee.call(e,r)&&(n[r]=e[r]);return n};const XAe={type:"unordered",size:"md",spacing:0},Vm=w.forwardRef((e,t)=>{const n=Ye("List",XAe,e),{children:r,type:i,size:s,listStyleType:o,withPadding:a,center:u,spacing:l,icon:c,className:f,styles:d,classNames:h,unstyled:p}=n,m=QAe(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:y,cx:g}=GAe({withPadding:a,size:s,listStyleType:o,center:u,spacing:l},{classNames:h,styles:d,name:"List",unstyled:p});return R.createElement(kAe,{value:{spacing:l,center:u,icon:c,listStyleType:o,size:s,withPadding:a,classNames:h,styles:d,unstyled:p}},R.createElement(ft,KAe({component:i==="unordered"?"ul":"ol",className:g(y.root,f),ref:t},m),r))});Vm.Item=see;Vm.displayName="@mantine/core/List";const uee={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[JAe,V_]=D_(uee.context);var ZAe=dt(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}})),eOe=Object.defineProperty,YS=Object.getOwnPropertySymbols,lee=Object.prototype.hasOwnProperty,cee=Object.prototype.propertyIsEnumerable,aB=(e,t,n)=>t in e?eOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tOe=(e,t)=>{for(var n in t||(t={}))lee.call(t,n)&&aB(e,n,t[n]);if(YS)for(var n of YS(t))cee.call(t,n)&&aB(e,n,t[n]);return e},nOe=(e,t)=>{var n={};for(var r in e)lee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YS)for(var r of YS(e))t.indexOf(r)<0&&cee.call(e,r)&&(n[r]=e[r]);return n};const rOe={},fee=w.forwardRef((e,t)=>{const n=Ye("MenuDivider",rOe,e),{children:r,className:i}=n,s=nOe(n,["children","className"]),{classNames:o,styles:a,unstyled:u}=V_(),{classes:l,cx:c}=ZAe(null,{name:"Menu",classNames:o,styles:a,unstyled:u});return R.createElement(ft,tOe({className:c(l.divider,i),ref:t},s))});fee.displayName="@mantine/core/MenuDivider";var iOe=Object.defineProperty,KS=Object.getOwnPropertySymbols,dee=Object.prototype.hasOwnProperty,hee=Object.prototype.propertyIsEnumerable,uB=(e,t,n)=>t in e?iOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sOe=(e,t)=>{for(var n in t||(t={}))dee.call(t,n)&&uB(e,n,t[n]);if(KS)for(var n of KS(t))hee.call(t,n)&&uB(e,n,t[n]);return e},oOe=(e,t)=>{var n={};for(var r in e)dee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KS)for(var r of KS(e))t.indexOf(r)<0&&hee.call(e,r)&&(n[r]=e[r]);return n};const aOe={};function pee(e){const t=Ye("MenuDropdown",aOe,e),{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=oOe(t,["children","onMouseEnter","onMouseLeave"]),o=w.useRef(),a=V_(),u=f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),o.current.querySelectorAll("[data-menu-item]")[0].focus())},l=xo(r,()=>a.trigger==="hover"&&a.openDropdown()),c=xo(i,()=>a.trigger==="hover"&&a.closeDropdown());return R.createElement(_i.Dropdown,sOe({onMouseEnter:l,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},s),R.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:u,ref:o,style:{outline:0}},n))}pee.displayName="@mantine/core/MenuDropdown";var uOe=Object.defineProperty,lOe=Object.defineProperties,cOe=Object.getOwnPropertyDescriptors,lB=Object.getOwnPropertySymbols,fOe=Object.prototype.hasOwnProperty,dOe=Object.prototype.propertyIsEnumerable,cB=(e,t,n)=>t in e?uOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hOe=(e,t)=>{for(var n in t||(t={}))fOe.call(t,n)&&cB(e,n,t[n]);if(lB)for(var n of lB(t))dOe.call(t,n)&&cB(e,n,t[n]);return e},pOe=(e,t)=>lOe(e,cOe(t)),mOe=dt((e,{color:t,radius:n})=>({item:pOe(hOe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[1]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const gOe=mOe;var yOe=Object.defineProperty,vOe=Object.defineProperties,_Oe=Object.getOwnPropertyDescriptors,QS=Object.getOwnPropertySymbols,mee=Object.prototype.hasOwnProperty,gee=Object.prototype.propertyIsEnumerable,fB=(e,t,n)=>t in e?yOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bOe=(e,t)=>{for(var n in t||(t={}))mee.call(t,n)&&fB(e,n,t[n]);if(QS)for(var n of QS(t))gee.call(t,n)&&fB(e,n,t[n]);return e},wOe=(e,t)=>vOe(e,_Oe(t)),EOe=(e,t)=>{var n={};for(var r in e)mee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QS)for(var r of QS(e))t.indexOf(r)<0&&gee.call(e,r)&&(n[r]=e[r]);return n};const SOe={},yee=w.forwardRef((e,t)=>{const n=Ye("MenuItem",SOe,e),{children:r,className:i,color:s,closeMenuOnClick:o,icon:a,rightSection:u}=n,l=EOe(n,["children","className","color","closeMenuOnClick","icon","rightSection"]),c=V_(),{classes:f,cx:d,theme:h}=gOe({radius:c.radius,color:s},{name:"Menu",classNames:c.classNames,styles:c.styles,unstyled:c.unstyled}),p=w.useRef(),m=c.getItemIndex(p.current),y=l,g=xo(y.onMouseLeave,()=>c.setHovered(-1)),v=xo(y.onMouseEnter,()=>c.setHovered(c.getItemIndex(p.current))),_=xo(y.onClick,()=>{typeof o=="boolean"?o&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),S=xo(y.onFocus,()=>c.setHovered(c.getItemIndex(p.current)));return R.createElement(ft,wOe(bOe({component:"button",type:"button"},l),{tabIndex:-1,onFocus:S,className:d(f.item,i),ref:ma(p,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===m?!0:void 0,onMouseEnter:v,onMouseLeave:g,onClick:_,onKeyDown:z0e({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:h.dir,orientation:"vertical",onKeyDown:y.onKeydown})}),a&&R.createElement("div",{className:f.itemIcon},a),r&&R.createElement("div",{className:f.itemLabel},r),u&&R.createElement("div",{className:f.itemRightSection},u))});yee.displayName="@mantine/core/MenuItem";const TOe=yee;var xOe=dt(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}})),IOe=Object.defineProperty,XS=Object.getOwnPropertySymbols,vee=Object.prototype.hasOwnProperty,_ee=Object.prototype.propertyIsEnumerable,dB=(e,t,n)=>t in e?IOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,COe=(e,t)=>{for(var n in t||(t={}))vee.call(t,n)&&dB(e,n,t[n]);if(XS)for(var n of XS(t))_ee.call(t,n)&&dB(e,n,t[n]);return e},POe=(e,t)=>{var n={};for(var r in e)vee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XS)for(var r of XS(e))t.indexOf(r)<0&&_ee.call(e,r)&&(n[r]=e[r]);return n};const AOe={},bee=w.forwardRef((e,t)=>{const n=Ye("MenuLabel",AOe,e),{children:r,className:i}=n,s=POe(n,["children","className"]),{classNames:o,styles:a,unstyled:u}=V_(),{classes:l,cx:c}=xOe(null,{name:"Menu",classNames:o,styles:a,unstyled:u});return R.createElement(tt,COe({className:c(l.label,i),ref:t},s),r)});bee.displayName="@mantine/core/MenuLabel";var OOe=Object.defineProperty,JS=Object.getOwnPropertySymbols,wee=Object.prototype.hasOwnProperty,Eee=Object.prototype.propertyIsEnumerable,hB=(e,t,n)=>t in e?OOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ROe=(e,t)=>{for(var n in t||(t={}))wee.call(t,n)&&hB(e,n,t[n]);if(JS)for(var n of JS(t))Eee.call(t,n)&&hB(e,n,t[n]);return e},NOe=(e,t)=>{var n={};for(var r in e)wee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JS)for(var r of JS(e))t.indexOf(r)<0&&Eee.call(e,r)&&(n[r]=e[r]);return n};const kOe={refProp:"ref"},See=w.forwardRef((e,t)=>{const n=Ye("MenuTarget",kOe,e),{children:r,refProp:i}=n,s=NOe(n,["children","refProp"]);if(!Sg(r))throw new Error(uee.children);const o=V_(),a=xo(r.props.onClick,()=>o.trigger==="click"&&o.toggleDropdown()),u=xo(r.props.onMouseEnter,()=>o.trigger==="hover"&&o.openDropdown()),l=xo(r.props.onMouseLeave,()=>o.trigger==="hover"&&o.closeDropdown());return R.createElement(_i.Target,ROe({refProp:i,popupType:"menu",ref:t},s),w.cloneElement(r,{onClick:a,onMouseEnter:u,onMouseLeave:l,"data-expanded":o.opened?!0:void 0}))});See.displayName="@mantine/core/MenuTarget";var DOe=dt({dropdown:{padding:4}}),$Oe=Object.defineProperty,LOe=Object.defineProperties,MOe=Object.getOwnPropertyDescriptors,ZS=Object.getOwnPropertySymbols,Tee=Object.prototype.hasOwnProperty,xee=Object.prototype.propertyIsEnumerable,pB=(e,t,n)=>t in e?$Oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mB=(e,t)=>{for(var n in t||(t={}))Tee.call(t,n)&&pB(e,n,t[n]);if(ZS)for(var n of ZS(t))xee.call(t,n)&&pB(e,n,t[n]);return e},gB=(e,t)=>LOe(e,MOe(t)),FOe=(e,t)=>{var n={};for(var r in e)Tee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZS)for(var r of ZS(e))t.indexOf(r)<0&&xee.call(e,r)&&(n[r]=e[r]);return n};const jOe={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function rs(e){const t=Ye("Menu",jOe,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,onChange:a,closeOnItemClick:u,loop:l,closeOnEscape:c,trigger:f,openDelay:d,closeDelay:h,classNames:p,styles:m,unstyled:y,radius:g}=t,v=FOe(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:_,cx:S}=DOe(),[T,{setHovered:E,resetHovered:x}]=Y0e(),[P,M]=so({value:s,defaultValue:o,finalValue:!1,onChange:a}),L=()=>{M(!1),P&&(i==null||i())},F=()=>{M(!0),!P&&(r==null||r())},V=()=>P?L():F(),{openDropdown:oe,closeDropdown:U}=KZ({open:F,close:L,closeDelay:h,openDelay:d}),te=ue=>H0e("[data-menu-item]","[data-menu-dropdown]",ue);return to(()=>{x()},[P]),R.createElement(JAe,{value:{opened:P,toggleDropdown:V,getItemIndex:te,hovered:T,setHovered:E,closeOnItemClick:u,closeDropdown:f==="click"?L:U,openDropdown:f==="click"?F:oe,closeDropdownImmediately:L,loop:l,trigger:f,radius:g,classNames:p,styles:m,unstyled:y}},R.createElement(_i,gB(mB({},v),{radius:g,opened:P,onChange:M,defaultOpened:o,trapFocus:f==="click",closeOnEscape:c&&f==="click",__staticSelector:"Menu",classNames:gB(mB({},p),{dropdown:S(_.dropdown,p==null?void 0:p.dropdown)}),styles:m,unstyled:y,onClose:L,onOpen:F}),n))}rs.displayName="@mantine/core/Menu";rs.Item=TOe;rs.Label=bee;rs.Dropdown=pee;rs.Target=See;rs.Divider=fee;var BOe=Object.defineProperty,yB=Object.getOwnPropertySymbols,UOe=Object.prototype.hasOwnProperty,VOe=Object.prototype.propertyIsEnumerable,vB=(e,t,n)=>t in e?BOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zOe=(e,t)=>{for(var n in t||(t={}))UOe.call(t,n)&&vB(e,n,t[n]);if(yB)for(var n of yB(t))VOe.call(t,n)&&vB(e,n,t[n]);return e};const HOe={xs:320,sm:380,md:440,lg:620,xl:780};function WOe(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var qOe=dt((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:s})=>({close:{},overlay:{display:s?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:s?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:zOe({position:"relative",width:s?"100vw":e.fn.size({sizes:HOe,size:n}),borderRadius:s?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},WOe(s)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}})),GOe=Object.defineProperty,eT=Object.getOwnPropertySymbols,Iee=Object.prototype.hasOwnProperty,Cee=Object.prototype.propertyIsEnumerable,_B=(e,t,n)=>t in e?GOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YOe=(e,t)=>{for(var n in t||(t={}))Iee.call(t,n)&&_B(e,n,t[n]);if(eT)for(var n of eT(t))Cee.call(t,n)&&_B(e,n,t[n]);return e},KOe=(e,t)=>{var n={};for(var r in e)Iee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eT)for(var r of eT(e))t.indexOf(r)<0&&Cee.call(e,r)&&(n[r]=e[r]);return n};const QOe={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:mc("modal"),exitTransitionDuration:0};function YI(e){const t=Ye("Modal",QOe,e),{className:n,opened:r,title:i,onClose:s,children:o,withCloseButton:a,overlayOpacity:u,size:l,transitionDuration:c,exitTransitionDuration:f,closeButtonLabel:d,overlayColor:h,overflow:p,transition:m,padding:y,shadow:g,radius:v,id:_,classNames:S,styles:T,closeOnClickOutside:E,trapFocus:x,closeOnEscape:P,centered:M,target:L,withinPortal:F,zIndex:V,overlayBlur:oe,transitionTimingFunction:U,fullScreen:te,unstyled:ue,lockScroll:ne,withFocusReturn:q}=t,fe=KOe(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),A=pa(_),W=`${A}-title`,Y=`${A}-body`,{classes:C,cx:O,theme:k}=qOe({size:l,overflow:p,centered:M,zIndex:V,fullScreen:te},{unstyled:ue,classNames:S,styles:T,name:"Modal"}),G=rQ(x&&r),de=w.useRef(null),he=ma(G,de),ge=typeof u=="number"?u:k.colorScheme==="dark"?.85:.75;v_e(ne&&r);const Te=st=>{!x&&st.key==="Escape"&&P&&s()};w.useEffect(()=>{if(!x)return window.addEventListener("keydown",Te),()=>window.removeEventListener("keydown",Te)},[x]),ZK({opened:r,shouldReturnFocus:x&&q});const Pe=w.useRef(null);qR("mousedown",st=>{Pe.current=st.target});const Se=()=>{Pe.current===de.current&&E&&s()};return R.createElement(M_,{withinPortal:F,target:L},R.createElement(bZ,{mounted:r,duration:c,exitDuration:f,timingFunction:U,transitions:{modal:{duration:c,transition:m||(te?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}}},st=>R.createElement(R.Fragment,null,R.createElement(ft,YOe({id:A,className:O(C.root,n)},fe),R.createElement("div",{style:st.overlay},R.createElement(QCe,{className:C.overlay,sx:{position:"fixed"},zIndex:0,blur:oe,color:h||(k.colorScheme==="dark"?k.colors.dark[9]:k.black),opacity:ge,unstyled:ue})),R.createElement("div",{role:"presentation",className:C.inner,onClick:Se,onKeyDown:Je=>{var vt;((vt=Je.target)==null?void 0:vt.getAttribute("data-mantine-stop-propagation"))!=="true"&&Je.key==="Escape"&&P&&s()},ref:he},R.createElement(TS,{className:C.modal,shadow:g,p:y,radius:v,role:"dialog","aria-labelledby":W,"aria-describedby":Y,"aria-modal":!0,tabIndex:-1,style:st.modal,unstyled:ue,onClick:Je=>Je.stopPropagation()},(i||a)&&R.createElement("div",{className:C.header},R.createElement(tt,{id:W,className:C.title},i),a&&R.createElement(FI,{iconSize:16,onClick:s,"aria-label":d,className:C.close})),R.createElement("div",{id:Y,className:C.body},o)))))))}YI.displayName="@mantine/core/Modal";const XOe={xs:16,sm:22,md:26,lg:30,xl:36},JOe={xs:10,sm:12,md:14,lg:16,xl:18};var ZOe=dt((e,{size:t,disabled:n,radius:r,readOnly:i,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:XOe}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:JOe}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),e2e=Object.defineProperty,tT=Object.getOwnPropertySymbols,Pee=Object.prototype.hasOwnProperty,Aee=Object.prototype.propertyIsEnumerable,bB=(e,t,n)=>t in e?e2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t2e=(e,t)=>{for(var n in t||(t={}))Pee.call(t,n)&&bB(e,n,t[n]);if(tT)for(var n of tT(t))Aee.call(t,n)&&bB(e,n,t[n]);return e},n2e=(e,t)=>{var n={};for(var r in e)Pee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tT)for(var r of tT(e))t.indexOf(r)<0&&Aee.call(e,r)&&(n[r]=e[r]);return n};const wB={xs:16,sm:22,md:24,lg:26,xl:30};function Oee(e){var t=e,{label:n,classNames:r,styles:i,className:s,onRemove:o,disabled:a,readOnly:u,size:l,radius:c="sm",variant:f}=t,d=n2e(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=ZOe({size:l,disabled:a,readOnly:u,radius:c,variant:f},{classNames:r,styles:i,name:"MultiSelect"});return R.createElement("div",t2e({className:p(h.defaultValue,s)},d),R.createElement("span",{className:h.defaultValueLabel},n),!a&&!u&&R.createElement(FI,{"aria-hidden":!0,onMouseDown:o,size:wB[l],radius:2,color:"blue",variant:"transparent",iconSize:wB[l]/2,className:h.defaultValueRemove,tabIndex:-1}))}Oee.displayName="@mantine/core/MultiSelect/DefaultValue";function r2e({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,disableSelectedItemFiltering:o}){if(!t&&s.length===0)return e;if(!t){const u=[];for(let l=0;l<e.length;l+=1)(o||!s.some(c=>c===e[l].value&&!e[l].disabled))&&u.push(e[l]);return u}const a=[];for(let u=0;u<e.length&&(i(r,s.some(l=>l===e[u].value&&!e[u].disabled),e[u])&&a.push(e[u]),!(a.length>=n));u+=1);return a}var i2e=Object.defineProperty,nT=Object.getOwnPropertySymbols,Ree=Object.prototype.hasOwnProperty,Nee=Object.prototype.propertyIsEnumerable,EB=(e,t,n)=>t in e?i2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SB=(e,t)=>{for(var n in t||(t={}))Ree.call(t,n)&&EB(e,n,t[n]);if(nT)for(var n of nT(t))Nee.call(t,n)&&EB(e,n,t[n]);return e},s2e=(e,t)=>{var n={};for(var r in e)Ree.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nT)for(var r of nT(e))t.indexOf(r)<0&&Nee.call(e,r)&&(n[r]=e[r]);return n};const o2e={xs:14,sm:18,md:20,lg:24,xl:28};function a2e(e){var t=e,{size:n,error:r,style:i}=t,s=s2e(t,["size","error","style"]);const o=Vi(),a=o.fn.size({size:n,sizes:o2e});return R.createElement("svg",SB({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:SB({color:r?o.colors.red[6]:o.colors.gray[6]},i),"data-chevron":!0},s),R.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function kee({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:s}){return e?R.createElement(FI,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:s,onMouseDown:o=>o.preventDefault()}):R.createElement(a2e,{error:i,size:r})}kee.displayName="@mantine/core/SelectRightSection";var u2e=Object.defineProperty,l2e=Object.defineProperties,c2e=Object.getOwnPropertyDescriptors,rT=Object.getOwnPropertySymbols,Dee=Object.prototype.hasOwnProperty,$ee=Object.prototype.propertyIsEnumerable,TB=(e,t,n)=>t in e?u2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KA=(e,t)=>{for(var n in t||(t={}))Dee.call(t,n)&&TB(e,n,t[n]);if(rT)for(var n of rT(t))$ee.call(t,n)&&TB(e,n,t[n]);return e},xB=(e,t)=>l2e(e,c2e(t)),f2e=(e,t)=>{var n={};for(var r in e)Dee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rT)for(var r of rT(e))t.indexOf(r)<0&&$ee.call(e,r)&&(n[r]=e[r]);return n};const d2e={xs:24,sm:30,md:34,lg:44,xl:54};function Lee(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:s}=t,o=f2e(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:d2e}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&R.createElement(kee,KA({},o)),styles:xB(KA({},a),{rightSection:xB(KA({},a==null?void 0:a.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}var h2e=Object.defineProperty,p2e=Object.defineProperties,m2e=Object.getOwnPropertyDescriptors,IB=Object.getOwnPropertySymbols,g2e=Object.prototype.hasOwnProperty,y2e=Object.prototype.propertyIsEnumerable,CB=(e,t,n)=>t in e?h2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v2e=(e,t)=>{for(var n in t||(t={}))g2e.call(t,n)&&CB(e,n,t[n]);if(IB)for(var n of IB(t))y2e.call(t,n)&&CB(e,n,t[n]);return e},_2e=(e,t)=>p2e(e,m2e(t)),b2e=dt((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:js})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:_2e(v2e({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:js})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}})),w2e=Object.defineProperty,E2e=Object.defineProperties,S2e=Object.getOwnPropertyDescriptors,iT=Object.getOwnPropertySymbols,Mee=Object.prototype.hasOwnProperty,Fee=Object.prototype.propertyIsEnumerable,PB=(e,t,n)=>t in e?w2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rp=(e,t)=>{for(var n in t||(t={}))Mee.call(t,n)&&PB(e,n,t[n]);if(iT)for(var n of iT(t))Fee.call(t,n)&&PB(e,n,t[n]);return e},AB=(e,t)=>E2e(e,S2e(t)),T2e=(e,t)=>{var n={};for(var r in e)Mee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iT)for(var r of iT(e))t.indexOf(r)<0&&Fee.call(e,r)&&(n[r]=e[r]);return n};function x2e(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function I2e(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function OB(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=t.map(r=>typeof r=="object"?r.value:r);return e.filter(r=>n.includes(r))}const C2e={size:"sm",valueComponent:Oee,itemComponent:M$,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:x2e,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:I2e,switchDirectionOnFlip:!1,zIndex:mc("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},jee=w.forwardRef((e,t)=>{const n=Ye("MultiSelect",C2e,e),{className:r,style:i,required:s,label:o,description:a,size:u,error:l,classNames:c,styles:f,wrapperProps:d,value:h,defaultValue:p,data:m,onChange:y,valueComponent:g,itemComponent:v,id:_,transition:S,transitionDuration:T,transitionTimingFunction:E,maxDropdownHeight:x,shadow:P,nothingFound:M,onFocus:L,onBlur:F,searchable:V,placeholder:oe,filter:U,limit:te,clearSearchOnChange:ue,clearable:ne,clearSearchOnBlur:q,clearButtonLabel:fe,variant:A,onSearchChange:W,searchValue:Y,disabled:C,initiallyOpened:O,radius:k,icon:G,rightSection:de,rightSectionWidth:he,creatable:ge,getCreateLabel:Te,shouldCreate:Pe,onCreate:Se,sx:st,dropdownComponent:Je,onDropdownClose:vt,onDropdownOpen:Ve,maxSelectedValues:ct,withinPortal:gt,switchDirectionOnFlip:rn,zIndex:hn,selectOnBlur:ae,name:ye,dropdownPosition:ve,errorProps:se,labelProps:be,descriptionProps:$e,clearButtonTabIndex:X,form:me,positionDependencies:_e,onKeyDown:Oe,unstyled:We,inputContainer:_t,inputWrapperOrder:Be,readOnly:Qe,withAsterisk:Xe,hoverOnSearchChange:Ct,disableSelectedItemFiltering:ht}=n,Yn=T2e(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk","hoverOnSearchChange","disableSelectedItemFiltering"]),{classes:Qt,cx:vn,theme:li}=b2e({size:u,invalid:!!l},{classNames:c,styles:f,unstyled:We,name:"MultiSelect"}),{systemStyles:Os,rest:ci}=gc(Yn),kn=w.useRef(),Ta=w.useRef({}),kr=pa(_),[wr,Ln]=w.useState(O),[pn,Qn]=w.useState(-1),[ds,Qr]=w.useState("column"),[Ur,Z]=so({value:Y,defaultValue:"",finalValue:void 0,onChange:W}),[z,ee]=w.useState(!1),{scrollIntoView:we,targetRef:Ee,scrollableRef:it}=aQ({duration:0,offset:5,cancelable:!1,isList:!0}),ot=ge&&typeof Te=="function";let ke=null;const ut=m.map(et=>typeof et=="string"?{label:et,value:et}:et),Ut=xK({data:ut}),[qe,en]=so({value:OB(h,m),defaultValue:OB(p,m),finalValue:[],onChange:y}),tn=w.useRef(!!ct&&ct<qe.length),bt=et=>{if(!Qe){const nn=qe.filter(qi=>qi!==et);en(nn),ct&&nn.length<ct&&(tn.current=!1)}},Dn=et=>{Z(et.currentTarget.value),!C&&!tn.current&&V&&Ln(!0)},zn=et=>{typeof L=="function"&&L(et),!C&&!tn.current&&V&&Ln(!0)},Pt=r2e({data:Ut,searchable:V,searchValue:Ur,limit:te,filter:U,value:qe,disableSelectedItemFiltering:ht}),Er=(et,nn,qi)=>{let N=et;for(;qi(N);)if(N=nn(N),!Pt[N].disabled)return N;return et};to(()=>{Qn(Ct&&Ur?0:-1)},[Ur,Ct]),to(()=>{!C&&qe.length>m.length&&Ln(!1),ct&&qe.length<ct&&(tn.current=!1),ct&&qe.length>=ct&&(tn.current=!0,Ln(!1))},[qe]);const Sr=et=>{if(!Qe)if(ue&&Z(""),qe.includes(et.value))bt(et.value);else{if(et.creatable&&typeof Se=="function"){const nn=Se(et.value);typeof nn<"u"&&nn!==null&&en(typeof nn=="string"?[...qe,nn]:[...qe,nn.value])}else en([...qe,et.value]);qe.length===ct-1&&(tn.current=!0,Ln(!1)),pn===Pt.length-1&&Qn(Pt.length-2),Pt.length===1&&Ln(!1)}},Dr=et=>{typeof F=="function"&&F(et),ae&&Pt[pn]&&wr&&Sr(Pt[pn]),q&&Z(""),Ln(!1)},hs=et=>{if(z||(Oe==null||Oe(et),Qe)||et.key!=="Backspace"&&ct&&tn.current)return;const nn=ds==="column",qi=()=>{Qn(J=>{var j;const re=Er(J,ce=>ce+1,ce=>ce<Pt.length-1);return wr&&(Ee.current=Ta.current[(j=Pt[re])==null?void 0:j.value],we({alignment:nn?"end":"start"})),re})},N=()=>{Qn(J=>{var j;const re=Er(J,ce=>ce-1,ce=>ce>0);return wr&&(Ee.current=Ta.current[(j=Pt[re])==null?void 0:j.value],we({alignment:nn?"start":"end"})),re})};switch(et.key){case"ArrowUp":{et.preventDefault(),Ln(!0),nn?N():qi();break}case"ArrowDown":{et.preventDefault(),Ln(!0),nn?qi():N();break}case"Enter":{et.preventDefault(),Pt[pn]&&wr?Sr(Pt[pn]):Ln(!0);break}case" ":{V||(et.preventDefault(),Pt[pn]&&wr?Sr(Pt[pn]):Ln(!0));break}case"Backspace":{qe.length>0&&Ur.length===0&&(en(qe.slice(0,-1)),Ln(!0),ct&&(tn.current=!1));break}case"Home":{if(!V){et.preventDefault(),wr||Ln(!0);const J=Pt.findIndex(j=>!j.disabled);Qn(J),we({alignment:nn?"end":"start"})}break}case"End":{if(!V){et.preventDefault(),wr||Ln(!0);const J=Pt.map(j=>!!j.disabled).lastIndexOf(!1);Qn(J),we({alignment:nn?"end":"start"})}break}case"Escape":Ln(!1)}},Ti=qe.map(et=>{let nn=Ut.find(qi=>qi.value===et&&!qi.disabled);return!nn&&ot&&(nn={value:et,label:et}),nn}).filter(et=>!!et).map(et=>R.createElement(g,AB(rp({},et),{variant:A,disabled:C,className:Qt.value,readOnly:Qe,onRemove:nn=>{nn.preventDefault(),nn.stopPropagation(),bt(et.value)},key:et.value,size:u,styles:f,classNames:c,radius:k}))),Vr=et=>qe.includes(et),Hi=()=>{var et;Z(""),en([]),(et=kn.current)==null||et.focus(),ct&&(tn.current=!1)};ot&&Pe(Ur,Ut)&&(ke=Te(Ur),Pt.push({label:Ur,value:Ur,creatable:!0}));const Wi=!Qe&&(Pt.length>0?wr:wr&&!!M);return to(()=>{const et=Wi?Ve:vt;typeof et=="function"&&et()},[Wi]),R.createElement(Ss.Wrapper,rp(rp({required:s,id:kr,label:o,error:l,description:a,size:u,className:r,style:i,classNames:c,styles:f,__staticSelector:"MultiSelect",sx:st,errorProps:se,descriptionProps:$e,labelProps:be,inputContainer:_t,inputWrapperOrder:Be,unstyled:We,withAsterisk:Xe},Os),d),R.createElement(bf,{opened:Wi,transition:S,transitionDuration:T,shadow:"sm",withinPortal:gt,__staticSelector:"MultiSelect",onDirectionChange:Qr,switchDirectionOnFlip:rn,zIndex:hn,dropdownPosition:ve,positionDependencies:[..._e,Ur],classNames:c,styles:f,unstyled:We},R.createElement(bf.Target,null,R.createElement("div",{className:Qt.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":wr&&Wi?`${kr}-items`:null,"aria-controls":kr,"aria-expanded":wr,onMouseLeave:()=>Qn(-1),tabIndex:-1},R.createElement("input",{type:"hidden",name:ye,value:qe.join(","),form:me,disabled:C}),R.createElement(Ss,rp({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:A,disabled:C,invalid:!!l,required:s,radius:k,icon:G,unstyled:We,onMouseDown:et=>{var nn;et.preventDefault(),!C&&!tn.current&&Ln(!wr),(nn=kn.current)==null||nn.focus()},classNames:AB(rp({},c),{input:vn({[Qt.input]:!V},c==null?void 0:c.input)})},Lee({theme:li,rightSection:de,rightSectionWidth:he,styles:f,size:u,shouldClear:ne&&qe.length>0,clearButtonLabel:fe,onClear:Hi,error:l,disabled:C,clearButtonTabIndex:X,readOnly:Qe})),R.createElement("div",{className:Qt.values},Ti,R.createElement("input",rp({ref:ma(t,kn),type:"search",id:kr,className:vn(Qt.searchInput,{[Qt.searchInputPointer]:!V,[Qt.searchInputInputHidden]:!wr&&qe.length>0||!V&&qe.length>0,[Qt.searchInputEmpty]:qe.length===0}),onKeyDown:hs,value:Ur,onChange:Dn,onFocus:zn,onBlur:Dr,readOnly:!V||tn.current||Qe,placeholder:qe.length===0?oe:void 0,disabled:C,"data-mantine-stop-propagation":wr,autoComplete:"off",onCompositionStart:()=>ee(!0),onCompositionEnd:()=>ee(!1)},ci)))))),R.createElement(bf.Dropdown,{component:Je||zI,maxHeight:x,direction:ds,id:kr,innerRef:it,__staticSelector:"MultiSelect",classNames:c,styles:f},R.createElement(L$,{data:Pt,hovered:pn,classNames:c,styles:f,uuid:kr,__staticSelector:"MultiSelect",onItemHover:Qn,onItemSelect:Sr,itemsRefs:Ta,itemComponent:v,size:u,nothingFound:M,isItemSelected:Vr,creatable:ge&&!!ke,createLabel:ke,unstyled:We}))))});jee.displayName="@mantine/core/MultiSelect";var P2e=Object.defineProperty,A2e=Object.defineProperties,O2e=Object.getOwnPropertyDescriptors,RB=Object.getOwnPropertySymbols,R2e=Object.prototype.hasOwnProperty,N2e=Object.prototype.propertyIsEnumerable,NB=(e,t,n)=>t in e?P2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kB=(e,t)=>{for(var n in t||(t={}))R2e.call(t,n)&&NB(e,n,t[n]);if(RB)for(var n of RB(t))N2e.call(t,n)&&NB(e,n,t[n]);return e},k2e=(e,t)=>A2e(e,O2e(t)),D2e=dt((e,{color:t,variant:n,noWrap:r,childrenOffset:i,alignIcon:s})=>{const o=e.fn.variant({variant:n,color:t});return{root:k2e(kB({display:"flex",alignItems:"center",width:"100%",padding:`8px ${e.spacing.sm}px`,userSelect:"none"},e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0]})),{"&[data-active]":kB({backgroundColor:o.background,color:o.color},e.fn.hover({backgroundColor:o.hover})),"&[data-disabled]":{opacity:.4,pointerEvents:"none"}}),icon:{marginRight:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",alignSelf:s==="center"?"center":"flex-start",paddingTop:s==="center"?void 0:4},rightSection:{marginLeft:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",transition:`transform 150ms ${e.transitionTimingFunction}`,"&[data-rotate]":{transform:"rotate(90deg)"}},body:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:r?"nowrap":void 0},label:{},description:{display:"block","&[data-active]":{color:"inherit"}},children:{paddingLeft:e.fn.size({size:i,sizes:e.spacing})}}}),$2e=Object.defineProperty,sT=Object.getOwnPropertySymbols,Bee=Object.prototype.hasOwnProperty,Uee=Object.prototype.propertyIsEnumerable,DB=(e,t,n)=>t in e?$2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L2e=(e,t)=>{for(var n in t||(t={}))Bee.call(t,n)&&DB(e,n,t[n]);if(sT)for(var n of sT(t))Uee.call(t,n)&&DB(e,n,t[n]);return e},M2e=(e,t)=>{var n={};for(var r in e)Bee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sT)for(var r of sT(e))t.indexOf(r)<0&&Uee.call(e,r)&&(n[r]=e[r]);return n};const F2e={variant:"light",childrenOffset:"lg"},Vee=w.forwardRef((e,t)=>{const n=Ye("NavLink",F2e,e),{label:r,description:i,icon:s,rightSection:o,className:a,classNames:u,styles:l,unstyled:c,active:f,color:d,variant:h,noWrap:p,children:m,opened:y,defaultOpened:g,onChange:v,disableRightSectionRotation:_,childrenOffset:S,disabled:T,onClick:E}=n,x=M2e(n,["label","description","icon","rightSection","className","classNames","styles","unstyled","active","color","variant","noWrap","children","opened","defaultOpened","onChange","disableRightSectionRotation","childrenOffset","disabled","onClick"]),{classes:P,cx:M}=D2e({color:d,variant:h,noWrap:p,childrenOffset:S,alignIcon:i?"top":"center"},{name:"NavLink",classNames:u,styles:l,unstyled:c}),[L,F]=so({value:y,defaultValue:g,finalValue:!1,onChange:v}),V=!!m,oe=U=>{V?(U.preventDefault(),E==null||E(U),F(!L)):E==null||E(U)};return R.createElement(R.Fragment,null,R.createElement(MI,L2e({ref:t,className:M(P.root,a),"data-active":f||void 0,onClick:oe,unstyled:c,"data-expanded":L||void 0,"data-disabled":T||void 0,disabled:T},x),s&&R.createElement("span",{className:P.icon},s),R.createElement("span",{className:P.body},R.createElement(tt,{component:"span",size:"sm",className:P.label},r),R.createElement(tt,{component:"span",color:"dimmed",size:"xs","data-active":f||void 0,className:P.description},i)),(V||o)&&R.createElement("span",{className:P.rightSection,"data-rotate":L&&!_||void 0},V?o||R.createElement(d1e,{width:14,height:14,style:{transform:"rotate(-90deg)"}}):o)),R.createElement(vQ,{in:L},R.createElement("div",{className:P.children},m)))});Vee.displayName="@mantine/core/NavLink";const zee=Vee,j2e=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function $B({direction:e,size:t}){return R.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},R.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const Hee={xs:20,sm:24,md:30,lg:34,xl:36};var B2e=dt((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:Hee}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}})),U2e=Object.defineProperty,V2e=Object.defineProperties,z2e=Object.getOwnPropertyDescriptors,oT=Object.getOwnPropertySymbols,Wee=Object.prototype.hasOwnProperty,qee=Object.prototype.propertyIsEnumerable,LB=(e,t,n)=>t in e?U2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QA=(e,t)=>{for(var n in t||(t={}))Wee.call(t,n)&&LB(e,n,t[n]);if(oT)for(var n of oT(t))qee.call(t,n)&&LB(e,n,t[n]);return e},H2e=(e,t)=>V2e(e,z2e(t)),W2e=(e,t)=>{var n={};for(var r in e)Wee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oT)for(var r of oT(e))t.indexOf(r)<0&&qee.call(e,r)&&(n[r]=e[r]);return n};const q2e={type:"text",size:"sm",__staticSelector:"TextInput"},zm=w.forwardRef((e,t)=>{const n=yJ("TextInput",q2e,e),{inputProps:r,wrapperProps:i}=n,s=W2e(n,["inputProps","wrapperProps"]);return R.createElement(Ss.Wrapper,QA({},i),R.createElement(Ss,H2e(QA(QA({},r),s),{ref:t})))});zm.displayName="@mantine/core/TextInput";var G2e=Object.defineProperty,Y2e=Object.defineProperties,K2e=Object.getOwnPropertyDescriptors,aT=Object.getOwnPropertySymbols,Gee=Object.prototype.hasOwnProperty,Yee=Object.prototype.propertyIsEnumerable,MB=(e,t,n)=>t in e?G2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q2e=(e,t)=>{for(var n in t||(t={}))Gee.call(t,n)&&MB(e,n,t[n]);if(aT)for(var n of aT(t))Yee.call(t,n)&&MB(e,n,t[n]);return e},X2e=(e,t)=>Y2e(e,K2e(t)),J2e=(e,t)=>{var n={};for(var r in e)Gee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aT)for(var r of aT(e))t.indexOf(r)<0&&Yee.call(e,r)&&(n[r]=e[r]);return n};const Z2e=e=>e||"",eRe=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},FB={xs:10,sm:14,md:16,lg:18,xl:20},tRe={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:Z2e,parser:eRe,type:"text"},o3=w.forwardRef((e,t)=>{const n=Ye("NumberInput",tRe,e),{readOnly:r,disabled:i,value:s,onChange:o,decimalSeparator:a,min:u,max:l,startValue:c,step:f,stepHoldInterval:d,stepHoldDelay:h,onBlur:p,onFocus:m,onKeyDown:y,onKeyUp:g,hideControls:v,radius:_,variant:S,precision:T,removeTrailingZeros:E,defaultValue:x,noClampOnBlur:P,handlersRef:M,classNames:L,styles:F,size:V,rightSection:oe,rightSectionWidth:U,formatter:te,parser:ue,inputMode:ne,unstyled:q,type:fe}=n,A=J2e(n,["readOnly","disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:W,cx:Y,theme:C}=B2e({radius:_,size:V},{classNames:L,styles:F,unstyled:q,name:"NumberInput"}),O=Be=>{if(Be===void 0)return;let Qe=Be.toFixed(T);return E&&T>0&&(Qe=Qe.replace(new RegExp(`[0]{0,${T}}$`),""),(Qe.endsWith(".")||Qe.endsWith(a))&&(Qe=Qe.slice(0,-1))),Qe},[k,G]=w.useState(!1),[de,he]=w.useState(typeof s=="number"?s:typeof x=="number"?x:void 0),ge=typeof s=="number"?s:de,[Te,Pe]=w.useState(typeof ge=="number"?O(ge):""),Se=w.useRef(),st=Be=>{Be!==de&&!Number.isNaN(Be)&&(typeof o=="function"&&o(Be),he(Be))},Je=(Be="")=>{let Qe=typeof Be=="number"?String(Be):Be;return a&&(Qe=Qe.replace(/\./g,a)),te(Qe)},vt=Be=>{let Qe=Be;return a&&(Qe=Qe.replace(new RegExp(`\\${a}`,"g"),".")),ue(Qe)},Ve=typeof u=="number"?u:-1/0,ct=typeof l=="number"?l:1/0,gt=w.useRef();gt.current=()=>{var Be,Qe,Xe;if(de===void 0)st((Be=c??u)!=null?Be:0),Pe((Xe=(Qe=O(c))!=null?Qe:O(u))!=null?Xe:"0");else{const Ct=O(vf(de+f,Ve,ct));st(parseFloat(Ct)),Pe(Ct)}};const rn=w.useRef();rn.current=()=>{var Be,Qe,Xe;if(de===void 0)st((Be=c??u)!=null?Be:0),Pe((Xe=(Qe=O(c))!=null?Qe:O(u))!=null?Xe:"0");else{const Ct=O(vf(de-f,Ve,ct));st(parseFloat(Ct)),Pe(Ct)}},iQ(M,{increment:gt.current,decrement:rn.current}),w.useEffect(()=>{typeof s=="number"&&!k&&(he(s),Pe(O(s))),x===void 0&&s===void 0&&!k&&(he(s),Pe(""))},[s,T]);const hn=h!==void 0&&d!==void 0,ae=w.useRef(null),ye=w.useRef(0),ve=()=>{ae.current&&window.clearTimeout(ae.current),ae.current=null,ye.current=0},se=Be=>{Be?gt.current():rn.current(),ye.current+=1},be=Be=>{if(se(Be),hn){const Qe=typeof d=="number"?d:d(ye.current);ae.current=window.setTimeout(()=>be(Be),Qe)}},$e=(Be,Qe)=>{Be.preventDefault(),Se.current.focus(),se(Qe),hn&&(ae.current=window.setTimeout(()=>be(Qe),h))};w.useEffect(()=>(ve(),ve),[]);const X=R.createElement("div",{className:W.rightSection},R.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:ge>=l,className:Y(W.control,W.controlUp),onPointerDown:Be=>{$e(Be,!0)},onPointerUp:ve,onPointerLeave:ve},R.createElement($B,{size:C.fn.size({size:V,sizes:FB}),direction:"up"})),R.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:ge<=u,className:Y(W.control,W.controlDown),onPointerDown:Be=>{$e(Be,!1)},onPointerUp:ve,onPointerLeave:ve},R.createElement($B,{size:C.fn.size({size:V,sizes:FB}),direction:"down"}))),me=Be=>{if(Be.nativeEvent.isComposing)return;const Xe=Be.target.value,Ct=vt(Xe);Pe(Ct),Xe===""||Xe==="-"?st(void 0):Xe.trim()!==""&&!Number.isNaN(Ct)&&st(parseFloat(Ct))},_e=Be=>{var Qe;if(Be.target.value==="")Pe(""),st(void 0);else{let Xe=Be.target.value;(Xe[0]===`${a}`||Xe[0]===".")&&(Xe=`0${Xe}`);const Ct=vt(Xe),ht=vf(parseFloat(Ct),Ve,ct);Number.isNaN(ht)?Pe((Qe=O(ge))!=null?Qe:""):P||(Pe(O(ht)),st(parseFloat(O(ht))))}G(!1),typeof p=="function"&&p(Be)},Oe=Be=>{G(!0),typeof m=="function"&&m(Be)},We=Be=>{if(typeof y=="function"&&y(Be),Be.repeat&&hn&&(Be.key==="ArrowUp"||Be.key==="ArrowDown")){Be.preventDefault();return}r||(Be.key==="ArrowUp"?$e(Be,!0):Be.key==="ArrowDown"&&$e(Be,!1))},_t=Be=>{typeof g=="function"&&g(Be),(Be.key==="ArrowUp"||Be.key==="ArrowDown")&&ve()};return R.createElement(zm,X2e(Q2e({},A),{type:fe,variant:S,value:Je(Te),disabled:i,readOnly:r,ref:ma(Se,t),onChange:me,onBlur:_e,onFocus:Oe,onKeyDown:We,onKeyUp:_t,rightSection:oe||(i||r||v||S==="unstyled"?null:X),rightSectionWidth:U||C.fn.size({size:V,sizes:Hee})+1,radius:_,max:l,min:u,step:f,size:V,styles:F,classNames:L,inputMode:ne||j2e(f,T,b_e()),__staticSelector:"NumberInput",unstyled:q}))});o3.displayName="@mantine/core/NumberInput";const jB={xs:3,sm:5,md:8,lg:12,xl:16},nRe=wve({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var rRe=dt((e,{color:t,radius:n,size:r,striped:i,animate:s})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:jB}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:s?`${nRe} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:jB})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const Kee=w.createContext(!1),iRe=Kee.Provider,sRe=()=>w.useContext(Kee);function Qee({children:e,openDelay:t=0,closeDelay:n=0}){return R.createElement(iRe,{value:!0},R.createElement(RSe,{delay:{open:t,close:n}},e))}Qee.displayName="@mantine/core/TooltipGroup";var oRe=Object.defineProperty,aRe=Object.defineProperties,uRe=Object.getOwnPropertyDescriptors,BB=Object.getOwnPropertySymbols,lRe=Object.prototype.hasOwnProperty,cRe=Object.prototype.propertyIsEnumerable,UB=(e,t,n)=>t in e?oRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VB=(e,t)=>{for(var n in t||(t={}))lRe.call(t,n)&&UB(e,n,t[n]);if(BB)for(var n of BB(t))cRe.call(t,n)&&UB(e,n,t[n]);return e},fRe=(e,t)=>aRe(e,uRe(t));function dRe(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var Xee=dt((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:fRe(VB(VB({},e.fn.fontStyles()),dRe(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const Jee={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function hRe({offset:e,position:t}){const[n,r]=w.useState(!1),i=w.useRef(),{x:s,y:o,reference:a,floating:u,refs:l,update:c,placement:f}=X$({placement:t,middleware:[Y$({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=f.includes("right")?e:t.includes("left")?e*-1:0,h=f.includes("bottom")?e:t.includes("top")?e*-1:0,p=w.useCallback(({clientX:m,clientY:y})=>{a({getBoundingClientRect(){return{width:0,height:0,x:m,y,left:m+d,top:y+h,right:m,bottom:y}}})},[a]);return w.useEffect(()=>{if(l.floating.current){const m=i.current;m.addEventListener("mousemove",p);const y=zl(l.floating.current);return y.forEach(g=>{g.addEventListener("scroll",c)}),()=>{m.removeEventListener("mousemove",p),y.forEach(g=>{g.removeEventListener("scroll",c)})}}},[a,l.floating.current,c,p,n]),{handleMouseMove:p,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:u}}var pRe=Object.defineProperty,mRe=Object.defineProperties,gRe=Object.getOwnPropertyDescriptors,uT=Object.getOwnPropertySymbols,Zee=Object.prototype.hasOwnProperty,ete=Object.prototype.propertyIsEnumerable,zB=(e,t,n)=>t in e?pRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XA=(e,t)=>{for(var n in t||(t={}))Zee.call(t,n)&&zB(e,n,t[n]);if(uT)for(var n of uT(t))ete.call(t,n)&&zB(e,n,t[n]);return e},JA=(e,t)=>mRe(e,gRe(t)),yRe=(e,t)=>{var n={};for(var r in e)Zee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uT)for(var r of uT(e))t.indexOf(r)<0&&ete.call(e,r)&&(n[r]=e[r]);return n};const vRe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:mc("popover")};function tte(e){var t;const n=Ye("TooltipFloating",vRe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:m,multiline:y,width:g,zIndex:v,disabled:_}=n,S=yRe(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:T,x:E,y:x,opened:P,boundaryRef:M,floating:L,setOpened:F}=hRe({offset:p,position:m}),{classes:V,cx:oe}=Xee({radius:f,color:d,multiline:y,width:g},{name:"TooltipFloating",classNames:u,styles:l,unstyled:c});if(!Sg(r))throw new Error(Jee.children);const U=ma(M,r.ref),te=ne=>{var q,fe;(fe=(q=r.props).onMouseEnter)==null||fe.call(q,ne),T(ne),F(!0)},ue=ne=>{var q,fe;(fe=(q=r.props).onMouseLeave)==null||fe.call(q,ne),F(!1)};return R.createElement(R.Fragment,null,R.createElement(M_,{withinPortal:s},R.createElement(ft,JA(XA({},S),{ref:L,className:oe(V.tooltip,a),style:JA(XA({},o),{zIndex:v,display:!_&&P?"block":"none",top:x??"",left:(t=Math.round(E))!=null?t:""})}),h)),w.cloneElement(r,JA(XA({},r.props),{[i]:U,onMouseEnter:te,onMouseLeave:ue})))}tte.displayName="@mantine/core/TooltipFloating";function _Re(e){const[t,n]=w.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=sRe(),o=pa(),{delay:a,currentId:u,setCurrentId:l}=QX(),c=w.useCallback(P=>{n(P),P&&l(o)},[l,o]),{x:f,y:d,reference:h,floating:p,context:m,refs:y,update:g,placement:v,middlewareData:{arrow:{x:_,y:S}={}}}=X$({placement:e.position,open:i,onOpenChange:c,middleware:[DX(e.offset),Y$({padding:8}),zX(),WX({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[HX()]:[]]}),{getReferenceProps:T,getFloatingProps:E}=zSe([OSe(m,{enabled:e.events.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),USe(m,{enabled:e.events.focus,keyboardOnly:!0}),VSe(m,{role:"tooltip"}),BSe(m,{enabled:typeof e.opened===void 0}),NSe(m,{id:o})]);return JX({opened:i,positionDependencies:e.positionDependencies,floating:{refs:y,update:g}}),to(()=>{var P;(P=e.onPositionChange)==null||P.call(e,v)},[v]),{x:f,y:d,arrowX:_,arrowY:S,reference:h,floating:p,getFloatingProps:E,getReferenceProps:T,isGroupPhase:i&&u&&u!==o,opened:i,placement:v}}var bRe=Object.defineProperty,wRe=Object.defineProperties,ERe=Object.getOwnPropertyDescriptors,lT=Object.getOwnPropertySymbols,nte=Object.prototype.hasOwnProperty,rte=Object.prototype.propertyIsEnumerable,HB=(e,t,n)=>t in e?bRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E0=(e,t)=>{for(var n in t||(t={}))nte.call(t,n)&&HB(e,n,t[n]);if(lT)for(var n of lT(t))rte.call(t,n)&&HB(e,n,t[n]);return e},SRe=(e,t)=>wRe(e,ERe(t)),TRe=(e,t)=>{var n={};for(var r in e)nte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lT)for(var r of lT(e))t.indexOf(r)<0&&rte.call(e,r)&&(n[r]=e[r]);return n};const xRe={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:mc("popover"),positionDependencies:[]},KI=w.forwardRef((e,t)=>{const n=w.useRef(null),r=Ye("Tooltip",xRe,e),{children:i,position:s,refProp:o,label:a,openDelay:u,closeDelay:l,onPositionChange:c,opened:f,withinPortal:d,radius:h,color:p,classNames:m,styles:y,unstyled:g,style:v,className:_,withArrow:S,arrowSize:T,arrowOffset:E,arrowRadius:x,arrowPosition:P,offset:M,transition:L,transitionDuration:F,multiline:V,width:oe,events:U,zIndex:te,disabled:ue,positionDependencies:ne,onClick:q,onMouseEnter:fe,onMouseLeave:A,inline:W}=r,Y=TRe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:C,cx:O,theme:k}=Xee({radius:h,color:p,width:oe,multiline:V},{name:"Tooltip",classNames:m,styles:y,unstyled:g}),G=_Re({position:dJ(k.dir,s),closeDelay:l,openDelay:u,onPositionChange:c,opened:f,events:U,arrowRef:n,arrowOffset:E,offset:M+(S?T/2:0),positionDependencies:[...ne,i],inline:W});if(!Sg(i))throw new Error(Jee.children);const de=ma(G.reference,i.ref,t);return R.createElement(R.Fragment,null,R.createElement(M_,{withinPortal:d},R.createElement(qI,{mounted:!ue&&G.opened,transition:L,duration:G.isGroupPhase?10:F},he=>{var ge,Te;return R.createElement(ft,E0(E0({},Y),G.getFloatingProps({ref:G.floating,className:C.tooltip,style:SRe(E0(E0({},v),he),{zIndex:te,top:(ge=G.y)!=null?ge:0,left:(Te=G.x)!=null?Te:0})})),a,R.createElement(J$,{ref:n,arrowX:G.arrowX,arrowY:G.arrowY,visible:S,withBorder:!1,position:G.placement,arrowSize:T,arrowOffset:E,arrowRadius:x,arrowPosition:P,className:C.arrow}))})),w.cloneElement(i,G.getReferenceProps(E0({onClick:q,onMouseEnter:fe,onMouseLeave:A,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[o]:de,className:O(_,i.props.className)},i.props))))});KI.Group=Qee;KI.Floating=tte;KI.displayName="@mantine/core/Tooltip";const QI=KI;var IRe=Object.defineProperty,CRe=Object.defineProperties,PRe=Object.getOwnPropertyDescriptors,cT=Object.getOwnPropertySymbols,ite=Object.prototype.hasOwnProperty,ste=Object.prototype.propertyIsEnumerable,WB=(e,t,n)=>t in e?IRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rN=(e,t)=>{for(var n in t||(t={}))ite.call(t,n)&&WB(e,n,t[n]);if(cT)for(var n of cT(t))ste.call(t,n)&&WB(e,n,t[n]);return e},ote=(e,t)=>CRe(e,PRe(t)),qB=(e,t)=>{var n={};for(var r in e)ite.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cT)for(var r of cT(e))t.indexOf(r)<0&&ste.call(e,r)&&(n[r]=e[r]);return n};function ARe(e){return e.reduce((t,n)=>(t.sections.push(ote(rN({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const ORe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},ate=w.forwardRef((e,t)=>{const n=Ye("Progress",ORe,e),{className:r,value:i,color:s,size:o,radius:a,striped:u,animate:l,label:c,"aria-label":f,classNames:d,styles:h,sections:p,unstyled:m}=n,y=qB(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:g,cx:v,theme:_}=rRe({color:s,size:o,radius:a,striped:u||l,animate:l},{classNames:d,styles:h,unstyled:m,name:"Progress"}),S=Array.isArray(p)?ARe(p).map((T,E)=>{var x=T,{tooltip:P,accumulated:M,value:L,label:F,color:V}=x,oe=qB(x,["tooltip","accumulated","value","label","color"]);return R.createElement(QI.Floating,{label:P,disabled:!P,key:E},R.createElement(ft,ote(rN({},oe),{className:v(g.bar,oe.className),sx:{width:`${L}%`,left:`${M}%`,backgroundColor:_.fn.variant({variant:"filled",primaryFallback:!1,color:V||_.primaryColor}).background}}),F&&R.createElement(tt,{className:g.label},F)))}):null;return R.createElement(ft,rN({className:v(g.root,r),ref:t},y),S||R.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":f,className:g.bar,style:{width:`${i}%`}},c?R.createElement(tt,{className:g.label},c):""))});ate.displayName="@mantine/core/Progress";var RRe=Object.defineProperty,GB=Object.getOwnPropertySymbols,NRe=Object.prototype.hasOwnProperty,kRe=Object.prototype.propertyIsEnumerable,YB=(e,t,n)=>t in e?RRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DRe=(e,t)=>{for(var n in t||(t={}))NRe.call(t,n)&&YB(e,n,t[n]);if(GB)for(var n of GB(t))kRe.call(t,n)&&YB(e,n,t[n]);return e};function $Re(e){return R.createElement("svg",DRe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),R.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))}const ute=w.createContext(null),LRe=ute.Provider,MRe=()=>w.useContext(ute);var FRe=Object.defineProperty,fT=Object.getOwnPropertySymbols,lte=Object.prototype.hasOwnProperty,cte=Object.prototype.propertyIsEnumerable,KB=(e,t,n)=>t in e?FRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QB=(e,t)=>{for(var n in t||(t={}))lte.call(t,n)&&KB(e,n,t[n]);if(fT)for(var n of fT(t))cte.call(t,n)&&KB(e,n,t[n]);return e},jRe=(e,t)=>{var n={};for(var r in e)lte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fT)for(var r of fT(e))t.indexOf(r)<0&&cte.call(e,r)&&(n[r]=e[r]);return n};const BRe={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},fte=w.forwardRef((e,t)=>{const n=Ye("RadioGroup",BRe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,unstyled:f,offset:d,name:h}=n,p=jRe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),m=pa(h),[y,g]=so({value:i,defaultValue:s,finalValue:"",onChange:o}),v=_=>g(_.currentTarget.value);return R.createElement(LRe,{value:{value:y,onChange:v,size:l,name:m}},R.createElement(Ss.Wrapper,QB(QB({labelElement:"div",size:l,__staticSelector:"RadioGroup",ref:t,unstyled:f},c),p),R.createElement(i3,{spacing:u,orientation:a,unstyled:f,role:"radiogroup",offset:d},r)))});fte.displayName="@mantine/core/RadioGroup";var URe=Object.defineProperty,VRe=Object.defineProperties,zRe=Object.getOwnPropertyDescriptors,XB=Object.getOwnPropertySymbols,HRe=Object.prototype.hasOwnProperty,WRe=Object.prototype.propertyIsEnumerable,JB=(e,t,n)=>t in e?URe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qRe=(e,t)=>{for(var n in t||(t={}))HRe.call(t,n)&&JB(e,n,t[n]);if(XB)for(var n of XB(t))WRe.call(t,n)&&JB(e,n,t[n]);return e},GRe=(e,t)=>VRe(e,zRe(t));const ZA={xs:16,sm:20,md:24,lg:30,xl:36},_b={xs:6,sm:8,md:10,lg:14,xl:16};var YRe=dt((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:s},o)=>{const a=e.fn.variant({variant:"filled",color:n}),u=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:o("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:_b,size:t}),height:e.fn.size({sizes:_b,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:_b,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:_b,size:t})/2}px)`},radio:GRe(qRe({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?u:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:ZA,size:t}),height:e.fn.size({sizes:ZA,size:t}),borderRadius:e.fn.size({sizes:ZA,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${o("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${o("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}}),KRe=Object.defineProperty,dT=Object.getOwnPropertySymbols,dte=Object.prototype.hasOwnProperty,hte=Object.prototype.propertyIsEnumerable,ZB=(e,t,n)=>t in e?KRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bb=(e,t)=>{for(var n in t||(t={}))dte.call(t,n)&&ZB(e,n,t[n]);if(dT)for(var n of dT(t))hte.call(t,n)&&ZB(e,n,t[n]);return e},QRe=(e,t)=>{var n={};for(var r in e)dte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dT)for(var r of dT(e))t.indexOf(r)<0&&hte.call(e,r)&&(n[r]=e[r]);return n};const XRe={icon:$Re,transitionDuration:100,size:"sm",labelPosition:"right"},hT=w.forwardRef((e,t)=>{var n,r;const i=Ye("Radio",XRe,e),{className:s,style:o,id:a,label:u,size:l,title:c,disabled:f,color:d,classNames:h,styles:p,sx:m,icon:y,transitionDuration:g,wrapperProps:v,unstyled:_,labelPosition:S,description:T,error:E}=i,x=QRe(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),P=MRe(),M=(n=P==null?void 0:P.size)!=null?n:l,L=e.size?l:M,{classes:F}=YRe({color:d,size:L,transitionDuration:g,labelPosition:S,error:!!E},{classNames:h,styles:p,unstyled:_,name:"Radio"}),{systemStyles:V,rest:oe}=gc(x),U=pa(a),te=P?{checked:P.value===oe.value,name:(r=oe.name)!=null?r:P.name,onChange:P.onChange}:{};return R.createElement(GI,bb(bb({className:s,sx:m,style:o,id:U,size:L,labelPosition:S,label:u,description:T,error:E,disabled:f,__staticSelector:"Radio",classNames:h,styles:p,unstyled:_,"data-checked":te.checked||void 0},V),v),R.createElement("div",{className:F.inner},R.createElement("input",bb(bb({ref:t,className:F.radio,type:"radio",id:U,disabled:f},oe),te)),R.createElement(y,{className:F.icon,"aria-hidden":!0})))});hT.displayName="@mantine/core/Radio";hT.Group=fte;var JRe=Object.defineProperty,ZRe=Object.defineProperties,eNe=Object.getOwnPropertyDescriptors,eU=Object.getOwnPropertySymbols,tNe=Object.prototype.hasOwnProperty,nNe=Object.prototype.propertyIsEnumerable,tU=(e,t,n)=>t in e?JRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wb=(e,t)=>{for(var n in t||(t={}))tNe.call(t,n)&&tU(e,n,t[n]);if(eU)for(var n of eU(t))nNe.call(t,n)&&tU(e,n,t[n]);return e},rNe=(e,t)=>ZRe(e,eNe(t));const Nw=4,nU={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var iNe=dt((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:s,transitionTimingFunction:o,size:a,orientation:u},l)=>{const c=u==="vertical",f=e.fn.variant({variant:"filled",color:n});return{label:rNe(wb(wb({ref:l("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:nU[a in nU?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:l("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${l("label")}`]:wb({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${l("label")}`]:wb({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:Nw},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${l("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:s}ms ${e.transitionTimingFunction}, width ${i?0:s/2}ms ${o||e.transitionTimingFunction}`,backgroundColor:n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}}),sNe=Object.defineProperty,pT=Object.getOwnPropertySymbols,pte=Object.prototype.hasOwnProperty,mte=Object.prototype.propertyIsEnumerable,rU=(e,t,n)=>t in e?sNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oNe=(e,t)=>{for(var n in t||(t={}))pte.call(t,n)&&rU(e,n,t[n]);if(pT)for(var n of pT(t))mte.call(t,n)&&rU(e,n,t[n]);return e},aNe=(e,t)=>{var n={};for(var r in e)pte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pT)for(var r of pT(e))t.indexOf(r)<0&&mte.call(e,r)&&(n[r]=e[r]);return n};const uNe={disabled:!1,size:"sm",transitionDuration:200},gte=w.forwardRef((e,t)=>{var n,r,i,s;const o=Ye("SegmentedControl",uNe,e),{className:a,disabled:u,data:l,name:c,value:f,onChange:d,color:h,fullWidth:p,radius:m,size:y,transitionDuration:g,transitionTimingFunction:v,classNames:_,styles:S,defaultValue:T,orientation:E,unstyled:x}=o,P=aNe(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),M=Vi(),L=$I(),F=M.respectReducedMotion?L:!1,V=l.map(he=>typeof he=="string"?{label:he,value:he}:he),oe=w.useRef(),[U,te]=w.useState(!1),[ue,ne]=so({value:f,defaultValue:T,finalValue:Array.isArray(V)&&(s=(i=(n=V.find(he=>!he.disabled))==null?void 0:n.value)!=null?i:(r=V[0])==null?void 0:r.value)!=null?s:null,onChange:d}),{classes:q,cx:fe}=iNe({size:y,fullWidth:p,color:h,radius:m,shouldAnimate:F||!U,transitionDuration:g,transitionTimingFunction:v,orientation:E},{classNames:_,styles:S,unstyled:x,name:"SegmentedControl"}),[A,W]=w.useState({width:0,height:0,translate:[0,0]}),Y=pa(c),C=w.useRef({}),[O,k]=LI();N$(()=>{oe.current?te(!0):(oe.current=!0,te(!1))}),w.useEffect(()=>{if(ue in C.current&&O.current){const he=C.current[ue],ge=he.getBoundingClientRect(),Te=he.offsetWidth/ge.width,Pe=ge.width*Te||0,Se=ge.height*Te||0,st=k.width-he.parentElement.offsetLeft+Nw-Pe,Je=he.parentElement.offsetLeft-Nw;W({width:Pe,height:Se,translate:[M.dir==="rtl"?st:Je,he.parentElement.offsetTop-Nw]})}},[ue,k]);const G=V.map(he=>R.createElement("div",{className:fe(q.control,{[q.controlActive]:ue===he.value}),key:he.value},R.createElement("input",{className:q.input,disabled:u||he.disabled,type:"radio",name:Y,value:he.value,id:`${Y}-${he.value}`,checked:ue===he.value,onChange:()=>ne(he.value)}),R.createElement("label",{className:fe(q.label,{[q.labelActive]:ue===he.value,[q.disabled]:u||he.disabled}),htmlFor:`${Y}-${he.value}`,ref:ge=>{C.current[he.value]=ge}},he.label))),de=ma(O,t);return V.length===0?null:R.createElement(ft,oNe({className:fe(q.root,a),ref:de},P),typeof ue=="string"&&U&&R.createElement(ft,{component:"span",className:q.active,sx:{width:A.width,height:A.height,transform:`translate(${A.translate[0]}px, ${A.translate[1]}px )`}}),G)});gte.displayName="@mantine/core/SegmentedControl";function lNe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,filterDataOnExactSearchMatch:o}){if(!t)return e;const a=s!=null&&e.find(l=>l.value===s)||null;if(a&&!o&&(a==null?void 0:a.label)===r){if(n){if(n>=e.length)return e;const l=e.indexOf(a),c=l+n,f=c-e.length;return f>0?e.slice(l-f):e.slice(l,c)}return e}const u=[];for(let l=0;l<e.length&&(i(r,e[l])&&u.push(e[l]),!(u.length>=n));l+=1);return u}var cNe=dt(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}})),fNe=Object.defineProperty,dNe=Object.defineProperties,hNe=Object.getOwnPropertyDescriptors,mT=Object.getOwnPropertySymbols,yte=Object.prototype.hasOwnProperty,vte=Object.prototype.propertyIsEnumerable,iU=(e,t,n)=>t in e?fNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S0=(e,t)=>{for(var n in t||(t={}))yte.call(t,n)&&iU(e,n,t[n]);if(mT)for(var n of mT(t))vte.call(t,n)&&iU(e,n,t[n]);return e},eO=(e,t)=>dNe(e,hNe(t)),pNe=(e,t)=>{var n={};for(var r in e)yte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mT)for(var r of mT(e))t.indexOf(r)<0&&vte.call(e,r)&&(n[r]=e[r]);return n};function mNe(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function gNe(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const yNe={required:!1,size:"sm",shadow:"sm",itemComponent:M$,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:mNe,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:gNe,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:mc("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},a3=w.forwardRef((e,t)=>{const n=yJ("Select",yNe,e),{inputProps:r,wrapperProps:i,shadow:s,data:o,value:a,defaultValue:u,onChange:l,itemComponent:c,onKeyDown:f,onBlur:d,onFocus:h,transition:p,transitionDuration:m,initiallyOpened:y,transitionTimingFunction:g,unstyled:v,classNames:_,styles:S,filter:T,maxDropdownHeight:E,searchable:x,clearable:P,nothingFound:M,clearButtonLabel:L,limit:F,disabled:V,onSearchChange:oe,searchValue:U,rightSection:te,rightSectionWidth:ue,creatable:ne,getCreateLabel:q,shouldCreate:fe,selectOnBlur:A,onCreate:W,dropdownComponent:Y,onDropdownClose:C,onDropdownOpen:O,withinPortal:k,switchDirectionOnFlip:G,zIndex:de,name:he,dropdownPosition:ge,allowDeselect:Te,placeholder:Pe,filterDataOnExactSearchMatch:Se,clearButtonTabIndex:st,form:Je,positionDependencies:vt,readOnly:Ve,hoverOnSearchChange:ct}=n,gt=pNe(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly","hoverOnSearchChange"]),{classes:rn,cx:hn,theme:ae}=cNe(),[ye,ve]=w.useState(y),[se,be]=w.useState(-1),$e=w.useRef(),X=w.useRef({}),[me,_e]=w.useState("column"),Oe=me==="column",{scrollIntoView:We,targetRef:_t,scrollableRef:Be}=aQ({duration:0,offset:5,cancelable:!1,isList:!0}),Qe=Te===void 0?P:Te,Xe=ke=>{if(ye!==ke){ve(ke);const ut=ke?O:C;typeof ut=="function"&&ut()}},Ct=ne&&typeof q=="function";let ht=null;const Yn=o.map(ke=>typeof ke=="string"?{label:ke,value:ke}:ke),Qt=xK({data:Yn}),[vn,li,Os]=so({value:a,defaultValue:u,finalValue:null,onChange:l}),ci=Qt.find(ke=>ke.value===vn),[kn,Ta]=so({value:U,defaultValue:(ci==null?void 0:ci.label)||"",finalValue:void 0,onChange:oe}),kr=ke=>{Ta(ke),x&&typeof oe=="function"&&oe(ke)},wr=()=>{var ke;Ve||(li(null),Os||kr(""),(ke=$e.current)==null||ke.focus())};w.useEffect(()=>{const ke=Qt.find(ut=>ut.value===vn);ke?kr(ke.label):(!Ct||!vn)&&kr("")},[vn]),w.useEffect(()=>{ci&&(!x||!ye)&&kr(ci.label)},[ci==null?void 0:ci.label]);const Ln=ke=>{if(!Ve)if(Qe&&(ci==null?void 0:ci.value)===ke.value)li(null),Xe(!1);else{if(ke.creatable&&typeof W=="function"){const ut=W(ke.value);typeof ut<"u"&&ut!==null&&li(typeof ut=="string"?ut:ut.value)}else li(ke.value);Os||kr(ke.label),be(-1),Xe(!1),$e.current.focus()}},pn=lNe({data:Qt,searchable:x,limit:F,searchValue:kn,filter:T,filterDataOnExactSearchMatch:Se,value:vn});Ct&&fe(kn,pn)&&(ht=q(kn),pn.push({label:kn,value:kn,creatable:!0}));const Qn=(ke,ut,Ut)=>{let qe=ke;for(;Ut(qe);)if(qe=ut(qe),!pn[qe].disabled)return qe;return ke};to(()=>{be(ct&&kn?0:-1)},[kn,ct]);const ds=vn?pn.findIndex(ke=>ke.value===vn):0,Qr=!Ve&&(pn.length>0?ye:ye&&!!M),Ur=()=>{be(ke=>{var ut;const Ut=Qn(ke,qe=>qe-1,qe=>qe>0);return _t.current=X.current[(ut=pn[Ut])==null?void 0:ut.value],Qr&&We({alignment:Oe?"start":"end"}),Ut})},Z=()=>{be(ke=>{var ut;const Ut=Qn(ke,qe=>qe+1,qe=>qe<pn.length-1);return _t.current=X.current[(ut=pn[Ut])==null?void 0:ut.value],Qr&&We({alignment:Oe?"end":"start"}),Ut})},z=()=>window.setTimeout(()=>{var ke;_t.current=X.current[(ke=pn[ds])==null?void 0:ke.value],We({alignment:Oe?"end":"start"})},0);to(()=>{Qr&&z()},[Qr]);const ee=ke=>{switch(typeof f=="function"&&f(ke),ke.key){case"ArrowUp":{ke.preventDefault(),ye?Oe?Ur():Z():(be(ds),Xe(!0),z());break}case"ArrowDown":{ke.preventDefault(),ye?Oe?Z():Ur():(be(ds),Xe(!0),z());break}case"Home":{if(!x){ke.preventDefault(),ye||Xe(!0);const ut=pn.findIndex(Ut=>!Ut.disabled);be(ut),Qr&&We({alignment:Oe?"end":"start"})}break}case"End":{if(!x){ke.preventDefault(),ye||Xe(!0);const ut=pn.map(Ut=>!!Ut.disabled).lastIndexOf(!1);be(ut),Qr&&We({alignment:Oe?"end":"start"})}break}case"Escape":{ke.preventDefault(),Xe(!1),be(-1);break}case" ":{x||(ke.preventDefault(),pn[se]&&ye?Ln(pn[se]):(Xe(!0),be(ds),z()));break}case"Enter":x||ke.preventDefault(),pn[se]&&ye&&(ke.preventDefault(),Ln(pn[se]))}},we=ke=>{typeof d=="function"&&d(ke);const ut=Qt.find(Ut=>Ut.value===vn);A&&pn[se]&&ye&&Ln(pn[se]),kr((ut==null?void 0:ut.label)||""),Xe(!1)},Ee=ke=>{typeof h=="function"&&h(ke),x&&Xe(!0)},it=ke=>{Ve||(kr(ke.currentTarget.value),P&&ke.currentTarget.value===""&&li(null),be(-1),Xe(!0))},ot=()=>{Ve||(Xe(!ye),vn&&!ye&&be(ds))};return R.createElement(Ss.Wrapper,eO(S0({},i),{__staticSelector:"Select"}),R.createElement(bf,{opened:Qr,transition:p,transitionDuration:m,shadow:"sm",withinPortal:k,__staticSelector:"Select",onDirectionChange:_e,switchDirectionOnFlip:G,zIndex:de,dropdownPosition:ge,positionDependencies:[...vt,kn],classNames:_,styles:S,unstyled:v},R.createElement(bf.Target,null,R.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":Qr?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":Qr,onMouseLeave:()=>be(-1),tabIndex:-1},R.createElement("input",{type:"hidden",name:he,value:vn||"",form:Je,disabled:V}),R.createElement(Ss,S0(eO(S0(S0({autoComplete:"off",type:"search"},r),gt),{ref:ma(t,$e),onKeyDown:ee,__staticSelector:"Select",value:kn,placeholder:Pe,onChange:it,"aria-autocomplete":"list","aria-controls":Qr?`${r.id}-items`:null,"aria-activedescendant":se>=0?`${r.id}-${se}`:null,onMouseDown:ot,onBlur:we,onFocus:Ee,readOnly:!x||Ve,disabled:V,"data-mantine-stop-propagation":Qr,name:null,classNames:eO(S0({},_),{input:hn({[rn.input]:!x},_==null?void 0:_.input)})}),Lee({theme:ae,rightSection:te,rightSectionWidth:ue,styles:S,size:r.size,shouldClear:P&&!!ci,clearButtonLabel:L,onClear:wr,error:i.error,clearButtonTabIndex:st,disabled:V,readOnly:Ve}))))),R.createElement(bf.Dropdown,{component:Y||zI,maxHeight:E,direction:me,id:r.id,innerRef:Be,__staticSelector:"Select",classNames:_,styles:S},R.createElement(L$,{data:pn,hovered:se,classNames:_,styles:S,isItemSelected:ke=>ke===vn,uuid:r.id,__staticSelector:"Select",onItemHover:be,onItemSelect:Ln,itemsRefs:X,itemComponent:c,size:r.size,nothingFound:M,creatable:Ct&&!!ht,createLabel:ht,"aria-label":i.label,unstyled:v}))))});a3.displayName="@mantine/core/Select";function gT({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function iN({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return s!==void 0?Number(l.toFixed(s)):l}var vNe=Object.defineProperty,_Ne=Object.defineProperties,bNe=Object.getOwnPropertyDescriptors,sU=Object.getOwnPropertySymbols,wNe=Object.prototype.hasOwnProperty,ENe=Object.prototype.propertyIsEnumerable,oU=(e,t,n)=>t in e?vNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SNe=(e,t)=>{for(var n in t||(t={}))wNe.call(t,n)&&oU(e,n,t[n]);if(sU)for(var n of sU(t))ENe.call(t,n)&&oU(e,n,t[n]);return e},TNe=(e,t)=>_Ne(e,bNe(t));const qs={xs:4,sm:6,md:8,lg:10,xl:12};var xNe=dt((e,{size:t,disabled:n})=>({root:TNe(SNe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:qs,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const INe=xNe;var CNe=Object.defineProperty,PNe=Object.defineProperties,ANe=Object.getOwnPropertyDescriptors,aU=Object.getOwnPropertySymbols,ONe=Object.prototype.hasOwnProperty,RNe=Object.prototype.propertyIsEnumerable,uU=(e,t,n)=>t in e?CNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NNe=(e,t)=>{for(var n in t||(t={}))ONe.call(t,n)&&uU(e,n,t[n]);if(aU)for(var n of aU(t))RNe.call(t,n)&&uU(e,n,t[n]);return e},kNe=(e,t)=>PNe(e,ANe(t)),DNe=dt((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:kNe(NNe({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:qs,size:n})*2,width:i||e.fn.size({sizes:qs,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const yT=w.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,color:a,classNames:u,styles:l,size:c,labelTransition:f,labelTransitionDuration:d,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:m,onFocus:y,onBlur:g,showLabelOnHover:v,children:_=null,disabled:S,unstyled:T,thumbSize:E},x)=>{const{classes:P,cx:M,theme:L}=DNe({color:a,size:c,disabled:S,thumbSize:E},{classNames:u,styles:l,unstyled:T,name:"Slider"}),[F,V]=w.useState(!1),oe=p||s||F||v;return R.createElement(ft,{tabIndex:0,role:"slider","aria-label":m,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:x,className:M(P.thumb,{[P.dragging]:s}),onFocus:()=>{V(!0),typeof y=="function"&&y()},onBlur:()=>{V(!1),typeof g=="function"&&g()},onTouchStart:o,onMouseDown:o,onClick:U=>U.stopPropagation(),style:{[L.dir==="rtl"?"right":"left"]:`${r}%`}},_,R.createElement(qI,{mounted:i!=null&&oe,duration:d,transition:f,timingFunction:h||L.transitionTimingFunction},U=>R.createElement("div",{style:U,className:P.label},i)))});yT.displayName="@mantine/core/SliderThumb";function $Ne({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var LNe=dt((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:qs})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:qs,size:t}),width:e.fn.size({sizes:qs,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:qs,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));function _te({marks:e,color:t,size:n,min:r,max:i,value:s,classNames:o,styles:a,offset:u,onChange:l,disabled:c,unstyled:f,inverted:d}){const{classes:h,cx:p}=LNe({size:n,color:t,disabled:c},{classNames:o,styles:a,unstyled:f,name:"Slider"}),m=e.map((y,g)=>R.createElement(ft,{className:h.markWrapper,sx:{left:`${gT({value:y.value,min:r,max:i})}%`},key:g},R.createElement("div",{className:p(h.mark,{[h.markFilled]:$Ne({mark:y,value:s,offset:u,inverted:d})})}),y.label&&R.createElement("div",{className:h.markLabel,onMouseDown:v=>{v.stopPropagation(),l(y.value)},onTouchStart:v=>{v.stopPropagation(),l(y.value)}},y.label)));return R.createElement("div",null,m)}_te.displayName="@mantine/core/SliderMarks";var MNe=dt((e,{radius:t,size:n,color:r,disabled:i,inverted:s})=>({track:{position:"relative",height:e.fn.size({sizes:qs,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:qs}),marginLeft:e.fn.size({size:n,sizes:qs}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:qs}),left:-e.fn.size({size:n,sizes:qs}),backgroundColor:s?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}})),FNe=Object.defineProperty,jNe=Object.defineProperties,BNe=Object.getOwnPropertyDescriptors,vT=Object.getOwnPropertySymbols,bte=Object.prototype.hasOwnProperty,wte=Object.prototype.propertyIsEnumerable,lU=(e,t,n)=>t in e?FNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UNe=(e,t)=>{for(var n in t||(t={}))bte.call(t,n)&&lU(e,n,t[n]);if(vT)for(var n of vT(t))wte.call(t,n)&&lU(e,n,t[n]);return e},VNe=(e,t)=>jNe(e,BNe(t)),zNe=(e,t)=>{var n={};for(var r in e)bte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vT)for(var r of vT(e))t.indexOf(r)<0&&wte.call(e,r)&&(n[r]=e[r]);return n};function u3(e){var t=e,{filled:n,size:r,color:i,classNames:s,styles:o,radius:a,children:u,offset:l,onMouseLeave:c,onMouseEnter:f,disabled:d,marksOffset:h,unstyled:p,inverted:m}=t,y=zNe(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:g}=MNe({color:i,size:r,radius:a,disabled:d,inverted:m},{classNames:s,styles:o,unstyled:p,name:"Slider"});return R.createElement("div",{className:g.track,onMouseLeave:c,onMouseEnter:f},R.createElement(ft,{className:g.bar,sx:v=>({left:`calc(${l}% - ${v.fn.size({size:r,sizes:qs})}px)`,width:`calc(${n}% + ${v.fn.size({size:r,sizes:qs})}px)`})}),u,R.createElement(_te,VNe(UNe({},y),{size:r,color:i,offset:h,classNames:s,styles:o,disabled:d,unstyled:p,inverted:m})))}u3.displayName="@mantine/core/SliderTrack";var HNe=Object.defineProperty,WNe=Object.defineProperties,qNe=Object.getOwnPropertyDescriptors,_T=Object.getOwnPropertySymbols,Ete=Object.prototype.hasOwnProperty,Ste=Object.prototype.propertyIsEnumerable,cU=(e,t,n)=>t in e?HNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GNe=(e,t)=>{for(var n in t||(t={}))Ete.call(t,n)&&cU(e,n,t[n]);if(_T)for(var n of _T(t))Ste.call(t,n)&&cU(e,n,t[n]);return e},YNe=(e,t)=>WNe(e,qNe(t)),KNe=(e,t)=>{var n={};for(var r in e)Ete.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_T)for(var r of _T(e))t.indexOf(r)<0&&Ste.call(e,r)&&(n[r]=e[r]);return n};const l3=w.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:s,styles:o,disabled:a,unstyled:u}=n,l=KNe(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:f}=INe({size:i,disabled:a},{classNames:s,styles:o,unstyled:u,name:"Slider"});return R.createElement(ft,YNe(GNe({},l),{tabIndex:-1,className:f(c.root,r),ref:t}))});l3.displayName="@mantine/core/SliderRoot";var QNe=Object.defineProperty,XNe=Object.defineProperties,JNe=Object.getOwnPropertyDescriptors,bT=Object.getOwnPropertySymbols,Tte=Object.prototype.hasOwnProperty,xte=Object.prototype.propertyIsEnumerable,fU=(e,t,n)=>t in e?QNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZNe=(e,t)=>{for(var n in t||(t={}))Tte.call(t,n)&&fU(e,n,t[n]);if(bT)for(var n of bT(t))xte.call(t,n)&&fU(e,n,t[n]);return e},eke=(e,t)=>XNe(e,JNe(t)),tke=(e,t)=>{var n={};for(var r in e)Tte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bT)for(var r of bT(e))t.indexOf(r)<0&&xte.call(e,r)&&(n[r]=e[r]);return n};const nke={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},Ite=w.forwardRef((e,t)=>{const n=Ye("Slider",nke,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,step:h,precision:p,defaultValue:m,name:y,marks:g,label:v,labelTransition:_,labelTransitionDuration:S,labelTransitionTimingFunction:T,labelAlwaysOn:E,thumbLabel:x,showLabelOnHover:P,thumbChildren:M,disabled:L,unstyled:F,thumbSize:V,scale:oe,inverted:U}=n,te=tke(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ue=Vi(),[ne,q]=w.useState(!1),[fe,A]=so({value:typeof o=="number"?vf(o,f,d):o,defaultValue:typeof m=="number"?vf(m,f,d):m,finalValue:vf(0,f,d),onChange:a}),W=w.useRef(fe),Y=w.useRef(),C=gT({value:fe,min:f,max:d}),O=oe(fe),k=typeof v=="function"?v(O):v,G=w.useCallback(({x:Pe})=>{if(!L){const Se=iN({value:Pe,min:f,max:d,step:h,precision:p});A(Se),W.current=Se}},[L,f,d,h,p]),{ref:de,active:he}=oQ(G,{onScrubEnd:()=>u==null?void 0:u(W.current)},ue.dir),ge=Pe=>{Pe.stopPropagation()},Te=Pe=>{if(!L)switch(Pe.key){case"ArrowUp":{Pe.preventDefault(),Y.current.focus();const Se=Math.min(Math.max(fe+h,f),d);u==null||u(Se),A(Se);break}case"ArrowRight":{Pe.preventDefault(),Y.current.focus();const Se=Math.min(Math.max(ue.dir==="rtl"?fe-h:fe+h,f),d);u==null||u(Se),A(Se);break}case"ArrowDown":{Pe.preventDefault(),Y.current.focus();const Se=Math.min(Math.max(fe-h,f),d);u==null||u(Se),A(Se);break}case"ArrowLeft":{Pe.preventDefault(),Y.current.focus();const Se=Math.min(Math.max(ue.dir==="rtl"?fe+h:fe-h,f),d);u==null||u(Se),A(Se);break}case"Home":{Pe.preventDefault(),Y.current.focus(),u==null||u(f),A(f);break}case"End":{Pe.preventDefault(),Y.current.focus(),u==null||u(d),A(d);break}}};return R.createElement(l3,eke(ZNe({},te),{size:l,ref:ma(de,t),onKeyDownCapture:Te,onMouseDownCapture:()=>{var Pe;return(Pe=de.current)==null?void 0:Pe.focus()},classNames:r,styles:i,disabled:L,unstyled:F}),R.createElement(u3,{inverted:U,offset:0,filled:C,marks:g,size:l,radius:c,color:s,min:f,max:d,value:O,onChange:A,onMouseEnter:P?()=>q(!0):void 0,onMouseLeave:P?()=>q(!1):void 0,classNames:r,styles:i,disabled:L,unstyled:F},R.createElement(yT,{max:d,min:f,value:O,position:C,dragging:he,color:s,size:l,label:k,ref:Y,onMouseDown:ge,labelTransition:_,labelTransitionDuration:S,labelTransitionTimingFunction:T,labelAlwaysOn:E,classNames:r,styles:i,thumbLabel:x,showLabelOnHover:P&&ne,disabled:L,unstyled:F,thumbSize:V},M)),R.createElement("input",{type:"hidden",name:y,value:O}))});Ite.displayName="@mantine/core/Slider";function rke(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var ike=Object.defineProperty,ske=Object.defineProperties,oke=Object.getOwnPropertyDescriptors,wT=Object.getOwnPropertySymbols,Cte=Object.prototype.hasOwnProperty,Pte=Object.prototype.propertyIsEnumerable,dU=(e,t,n)=>t in e?ike(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tO=(e,t)=>{for(var n in t||(t={}))Cte.call(t,n)&&dU(e,n,t[n]);if(wT)for(var n of wT(t))Pte.call(t,n)&&dU(e,n,t[n]);return e},nO=(e,t)=>ske(e,oke(t)),ake=(e,t)=>{var n={};for(var r in e)Cte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wT)for(var r of wT(e))t.indexOf(r)<0&&Pte.call(e,r)&&(n[r]=e[r]);return n};const uke={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},Ate=w.forwardRef((e,t)=>{const n=Ye("RangeSlider",uke,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,minRange:h,maxRange:p,step:m,precision:y,defaultValue:g,name:v,marks:_,label:S,labelTransition:T,labelTransitionDuration:E,labelTransitionTimingFunction:x,labelAlwaysOn:P,thumbFromLabel:M,thumbToLabel:L,showLabelOnHover:F,thumbChildren:V,disabled:oe,unstyled:U,thumbSize:te,scale:ue,inverted:ne}=n,q=ake(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","maxRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),fe=Vi(),[A,W]=w.useState(-1),[Y,C]=w.useState(!1),[O,k]=so({value:o,defaultValue:g,finalValue:[f,d],onChange:a}),G=w.useRef(O),de=w.useRef([]),he=w.useRef(void 0),ge=[gT({value:O[0],min:f,max:d}),gT({value:O[1],min:f,max:d})],Te=ae=>{k(ae),G.current=ae};w.useEffect(()=>{Array.isArray(o)&&(G.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const Pe=(ae,ye,ve)=>{const se=[...G.current];se[ye]=ae,ye===0&&(ae>se[1]-(h-1e-9)&&(se[1]=Math.min(ae+h,d)),ae>(d-(h-1e-9)||f)&&(se[ye]=G.current[ye]),se[1]-ae>p&&(se[1]=ae+p)),ye===1&&(ae<se[0]+h&&(se[0]=Math.max(ae-h,f)),ae<se[0]+h&&(se[ye]=G.current[ye]),ae-se[0]>p&&(se[0]=ae-p)),Te(se),ve&&(u==null||u(G.current))},Se=ae=>{if(!oe){const ye=iN({value:ae,min:f,max:d,step:m,precision:y});Pe(ye,he.current,!1)}},{ref:st,active:Je}=oQ(({x:ae})=>Se(ae),{onScrubEnd:()=>u==null?void 0:u(G.current)},fe.dir);function vt(ae,ye){ae.stopPropagation(),he.current=ye}const Ve=ae=>{st.current.focus();const ye=st.current.getBoundingClientRect(),ve=rke(ae.nativeEvent),se=iN({value:ve-ye.left,max:d,min:f,step:m,containerWidth:ye.width}),be=Math.abs(O[0]-se)>Math.abs(O[1]-se)?1:0,$e=fe.dir==="ltr"?be:be===1?0:1;he.current=$e},ct=()=>A!==1&&A!==0?(W(0),0):A,gt=ae=>{if(!oe)switch(ae.key){case"ArrowUp":{ae.preventDefault();const ye=ct();de.current[ye].focus(),Pe(Math.min(Math.max(G.current[ye]+m,f),d),ye,!0);break}case"ArrowRight":{ae.preventDefault();const ye=ct();de.current[ye].focus(),Pe(Math.min(Math.max(fe.dir==="rtl"?G.current[ye]-m:G.current[ye]+m,f),d),ye,!0);break}case"ArrowDown":{ae.preventDefault();const ye=ct();de.current[ye].focus(),Pe(Math.min(Math.max(G.current[ye]-m,f),d),ye,!0);break}case"ArrowLeft":{ae.preventDefault();const ye=ct();de.current[ye].focus(),Pe(Math.min(Math.max(fe.dir==="rtl"?G.current[ye]+m:G.current[ye]-m,f),d),ye,!0);break}}},rn={max:d,min:f,color:s,size:l,labelTransition:T,labelTransitionDuration:E,labelTransitionTimingFunction:x,labelAlwaysOn:P,onBlur:()=>W(-1),classNames:r,styles:i},hn=Array.isArray(V);return R.createElement(l3,nO(tO({},q),{size:l,ref:ma(st,t),onTouchStartCapture:Ve,onTouchEndCapture:()=>{he.current=-1},onMouseDownCapture:Ve,onMouseUpCapture:()=>{he.current=-1},onKeyDownCapture:gt,styles:i,classNames:r,disabled:oe,unstyled:U}),R.createElement(u3,{offset:ge[0],marksOffset:O[0],filled:ge[1]-ge[0],marks:_,inverted:ne,size:l,radius:c,color:s,min:f,max:d,value:O[1],styles:i,classNames:r,onMouseEnter:F?()=>C(!0):void 0,onMouseLeave:F?()=>C(!1):void 0,onChange:ae=>{const ye=Math.abs(O[0]-ae)>Math.abs(O[1]-ae)?1:0,ve=[...O];ve[ye]=ae,Te(ve)},disabled:oe,unstyled:U},R.createElement(yT,nO(tO({},rn),{value:ue(O[0]),position:ge[0],dragging:Je,label:typeof S=="function"?S(ue(O[0])):S,ref:ae=>{de.current[0]=ae},thumbLabel:M,onMouseDown:ae=>vt(ae,0),onFocus:()=>W(0),showLabelOnHover:F&&Y,disabled:oe,unstyled:U,thumbSize:te}),hn?V[0]:V),R.createElement(yT,nO(tO({},rn),{thumbLabel:L,value:ue(O[1]),position:ge[1],dragging:Je,label:typeof S=="function"?S(ue(O[1])):S,ref:ae=>{de.current[1]=ae},onMouseDown:ae=>vt(ae,1),onFocus:()=>W(1),showLabelOnHover:F&&Y,disabled:oe,unstyled:U,thumbSize:te}),hn?V[1]:V)),R.createElement("input",{type:"hidden",name:`${v}_from`,value:O[0]}),R.createElement("input",{type:"hidden",name:`${v}_to`,value:O[1]}))});Ate.displayName="@mantine/core/RangeSlider";var lke=Object.defineProperty,ET=Object.getOwnPropertySymbols,Ote=Object.prototype.hasOwnProperty,Rte=Object.prototype.propertyIsEnumerable,hU=(e,t,n)=>t in e?lke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cke=(e,t)=>{for(var n in t||(t={}))Ote.call(t,n)&&hU(e,n,t[n]);if(ET)for(var n of ET(t))Rte.call(t,n)&&hU(e,n,t[n]);return e},fke=(e,t)=>{var n={};for(var r in e)Ote.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ET)for(var r of ET(e))t.indexOf(r)<0&&Rte.call(e,r)&&(n[r]=e[r]);return n};const dke={w:0,h:0},ST=w.forwardRef((e,t)=>{const n=Ye("Space",dke,e),{w:r,h:i}=n,s=fke(n,["w","h"]);return R.createElement(ft,cke({ref:t,w:r,miw:r,h:i,mih:i},s))});ST.displayName="@mantine/core/Space";const Nte=w.createContext(null),hke=Nte.Provider,pke=()=>w.useContext(Nte);var mke=Object.defineProperty,TT=Object.getOwnPropertySymbols,kte=Object.prototype.hasOwnProperty,Dte=Object.prototype.propertyIsEnumerable,pU=(e,t,n)=>t in e?mke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mU=(e,t)=>{for(var n in t||(t={}))kte.call(t,n)&&pU(e,n,t[n]);if(TT)for(var n of TT(t))Dte.call(t,n)&&pU(e,n,t[n]);return e},gke=(e,t)=>{var n={};for(var r in e)kte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TT)for(var r of TT(e))t.indexOf(r)<0&&Dte.call(e,r)&&(n[r]=e[r]);return n};const yke={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},$te=w.forwardRef((e,t)=>{const n=Ye("SwitchGroup",yke,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,offset:f}=n,d=gke(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=so({value:i,defaultValue:s,finalValue:[],onChange:o}),m=y=>{const g=y.currentTarget.value;p(h.includes(g)?h.filter(v=>v!==g):[...h,g])};return R.createElement(hke,{value:{value:h,onChange:m,size:l}},R.createElement(Ss.Wrapper,mU(mU({labelElement:"div",size:l,__staticSelector:"SwitchGroup",ref:t},c),d),R.createElement(i3,{spacing:u,orientation:a,offset:f},r)))});$te.displayName="@mantine/core/SwitchGroup";var vke=Object.defineProperty,_ke=Object.defineProperties,bke=Object.getOwnPropertyDescriptors,gU=Object.getOwnPropertySymbols,wke=Object.prototype.hasOwnProperty,Eke=Object.prototype.propertyIsEnumerable,yU=(e,t,n)=>t in e?vke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ske=(e,t)=>{for(var n in t||(t={}))wke.call(t,n)&&yU(e,n,t[n]);if(gU)for(var n of gU(t))Eke.call(t,n)&&yU(e,n,t[n]);return e},Tke=(e,t)=>_ke(e,bke(t));const xke={xs:16,sm:20,md:24,lg:30,xl:36},Ike={xs:32,sm:38,md:46,lg:56,xl:72},Cke={xs:12,sm:14,md:18,lg:22,xl:28},Pke={xs:5,sm:6,md:7,lg:9,xl:11},Ake={xs:4,sm:5,md:6,lg:8,xl:10};var Oke=dt((e,{size:t,radius:n,color:r,labelPosition:i,error:s})=>{const o=e.fn.size({size:t,sizes:Cke}),a=e.fn.size({size:n,sizes:e.radius}),u=e.fn.variant({variant:"filled",color:r}),l=e.fn.size({size:t,sizes:Ike}),c=t==="xs"?1:2,f=e.fn.variant({variant:"filled",color:"red"}).background;return{input:{clip:"rect(1px, 1px, 1px, 1px)",height:0,width:0,overflow:"hidden",whiteSpace:"nowrap",padding:0,WebkitClipPath:"inset(50%)",clipPath:"inset(50%)",position:"absolute"},track:Tke(Ske({},e.fn.focusStyles("input:focus + &")),{cursor:e.cursorType,overflow:"hidden",WebkitTapHighlightColor:"transparent",position:"relative",borderRadius:a,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[2],border:`1px solid ${s?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,height:e.fn.size({size:t,sizes:xke}),minWidth:l,margin:0,transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:"150ms",boxSizing:"border-box",appearance:"none",display:"flex",alignItems:"center",fontSize:e.fn.size({size:t,sizes:Pke}),fontWeight:600,order:i==="left"?2:1,userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none",zIndex:0,lineHeight:0,color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[6],transition:`color 150ms ${e.transitionTimingFunction}`,"input:checked + &":{backgroundColor:u.background,borderColor:u.background,color:e.white,transition:`color 150ms ${e.transitionTimingFunction}`},"input:disabled + &":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],cursor:"not-allowed"}}),thumb:{position:"absolute",zIndex:1,borderRadius:a,boxSizing:"border-box",display:"flex",backgroundColor:e.white,height:o,width:o,border:`1px solid ${e.colorScheme==="dark"?e.white:e.colors.gray[3]}`,left:`${c}px`,transition:`left 150ms ${e.transitionTimingFunction}`,"& > *":{margin:"auto"},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":""},"input:checked + * > &":{left:`calc(100% - ${o}px - ${c}px)`,borderColor:e.white},"input:disabled + * > &":{borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],backgroundColor:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[0]}},trackLabel:{height:"100%",display:"grid",placeContent:"center",minWidth:l-o,paddingInline:e.fn.size({size:t,sizes:Ake}),margin:`0 0 0 ${o+c}px`,transition:`margin 150ms ${e.transitionTimingFunction}`,"input:checked + * > &":{margin:`0 ${o+c}px 0 0`}}}});const Rke=Oke;var Nke=Object.defineProperty,kke=Object.defineProperties,Dke=Object.getOwnPropertyDescriptors,xT=Object.getOwnPropertySymbols,Lte=Object.prototype.hasOwnProperty,Mte=Object.prototype.propertyIsEnumerable,vU=(e,t,n)=>t in e?Nke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rO=(e,t)=>{for(var n in t||(t={}))Lte.call(t,n)&&vU(e,n,t[n]);if(xT)for(var n of xT(t))Mte.call(t,n)&&vU(e,n,t[n]);return e},$ke=(e,t)=>kke(e,Dke(t)),Lke=(e,t)=>{var n={};for(var r in e)Lte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xT)for(var r of xT(e))t.indexOf(r)<0&&Mte.call(e,r)&&(n[r]=e[r]);return n};const Mke={offLabel:"",onLabel:"",size:"sm",radius:"xl",error:!1},c3=w.forwardRef((e,t)=>{var n;const r=Ye("Switch",Mke,e),{className:i,color:s,label:o,offLabel:a,onLabel:u,id:l,style:c,size:f,radius:d,wrapperProps:h,children:p,unstyled:m,styles:y,classNames:g,thumbIcon:v,sx:_,checked:S,defaultChecked:T,onChange:E,labelPosition:x,description:P,error:M,disabled:L}=r,F=Lke(r,["className","color","label","offLabel","onLabel","id","style","size","radius","wrapperProps","children","unstyled","styles","classNames","thumbIcon","sx","checked","defaultChecked","onChange","labelPosition","description","error","disabled"]),V=pke(),{classes:oe}=Rke({size:(V==null?void 0:V.size)||f,color:s,radius:d,labelPosition:x,error:!!M},{unstyled:m,styles:y,classNames:g,name:"Switch"}),{systemStyles:U,rest:te}=gc(F),ue=pa(l),ne=V?{checked:V.value.includes(te.value),onChange:V.onChange}:{},[q,fe]=so({value:(n=ne.checked)!=null?n:S,defaultValue:T,finalValue:!1});return R.createElement(GI,rO(rO({className:i,sx:_,style:c,id:ue,size:(V==null?void 0:V.size)||f,labelPosition:x,label:o,description:P,error:M,disabled:L,__staticSelector:"Switch",classNames:g,styles:y,unstyled:m,"data-checked":ne.checked||void 0},U),h),R.createElement("input",$ke(rO({},te),{disabled:L,checked:q,onChange:A=>{V?ne.onChange(A):E==null||E(A),fe(A.currentTarget.checked)},id:ue,ref:t,type:"checkbox",className:oe.input})),R.createElement("label",{htmlFor:ue,className:oe.track},R.createElement("div",{className:oe.thumb},v),R.createElement("div",{className:oe.trackLabel},q?u:a)))});c3.displayName="@mantine/core/Switch";c3.Group=$te;var Fke=Object.defineProperty,jke=Object.defineProperties,Bke=Object.getOwnPropertyDescriptors,_U=Object.getOwnPropertySymbols,Uke=Object.prototype.hasOwnProperty,Vke=Object.prototype.propertyIsEnumerable,bU=(e,t,n)=>t in e?Fke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zke=(e,t)=>{for(var n in t||(t={}))Uke.call(t,n)&&bU(e,n,t[n]);if(_U)for(var n of _U(t))Vke.call(t,n)&&bU(e,n,t[n]);return e},Hke=(e,t)=>jke(e,Bke(t));function Wke(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function qke(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var Gke=dt((e,{element:t,weight:n,size:r,inline:i})=>({root:Hke(zke({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:Wke(r,t,e),lineHeight:i?1:qke(r,t,e),margin:0})})),Yke=Object.defineProperty,IT=Object.getOwnPropertySymbols,Fte=Object.prototype.hasOwnProperty,jte=Object.prototype.propertyIsEnumerable,wU=(e,t,n)=>t in e?Yke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kke=(e,t)=>{for(var n in t||(t={}))Fte.call(t,n)&&wU(e,n,t[n]);if(IT)for(var n of IT(t))jte.call(t,n)&&wU(e,n,t[n]);return e},Qke=(e,t)=>{var n={};for(var r in e)Fte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IT)for(var r of IT(e))t.indexOf(r)<0&&jte.call(e,r)&&(n[r]=e[r]);return n};const Xke={order:1},Vc=w.forwardRef((e,t)=>{const n=Ye("Title",Xke,e),{className:r,order:i,children:s,unstyled:o,size:a,weight:u,inline:l}=n,c=Qke(n,["className","order","children","unstyled","size","weight","inline"]),{classes:f,cx:d}=Gke({element:`h${i}`,weight:u,size:a,inline:l},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(i)?R.createElement(tt,Kke({component:`h${i}`,ref:t,className:d(f.root,r)},c),s):null});Vc.displayName="@mantine/core/Title";var Jke=Object.defineProperty,Zke=Object.defineProperties,eDe=Object.getOwnPropertyDescriptors,EU=Object.getOwnPropertySymbols,tDe=Object.prototype.hasOwnProperty,nDe=Object.prototype.propertyIsEnumerable,SU=(e,t,n)=>t in e?Jke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Eb=(e,t)=>{for(var n in t||(t={}))tDe.call(t,n)&&SU(e,n,t[n]);if(EU)for(var n of EU(t))nDe.call(t,n)&&SU(e,n,t[n]);return e},Sb=(e,t)=>Zke(e,eDe(t)),rDe=dt(e=>{const t=G0e(e.headings.sizes).reduce((n,r)=>{const i=e.headings.sizes[r];return n[`& ${r}`]=Sb(Eb({fontFamily:e.headings.fontFamily,fontWeight:i.fontWeight||e.headings.fontWeight,marginTop:typeof i.lineHeight=="number"?`calc(${e.spacing.xl}px * ${i.lineHeight})`:e.spacing.xl,marginBottom:e.spacing.sm},i),{"@media (max-width: 755px)":{fontSize:typeof i.fontSize=="number"&&i.fontSize/1.3}}),n},{});return{root:Sb(Eb(Sb(Eb({},e.fn.fontStyles()),{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,lineHeight:e.lineHeight,fontSize:e.fontSizes.md,"@media (max-width: 755px)":{fontSize:e.fontSizes.sm}}),t),{"& .ql-align-center":{textAlign:"center"},"& .ql-align-right":{textAlign:"right"},"& .ql-align-left":{textAlign:"left"},"& img":{maxWidth:"100%",marginBottom:e.spacing.xs},"& p":{marginTop:0,marginBottom:e.spacing.lg},"& mark":{backgroundColor:e.fn.themeColor("yellow",e.colorScheme==="dark"?5:2),color:e.colorScheme==="dark"?e.colors.dark[9]:"inherit"},"& hr":{marginTop:e.spacing.md,marginBottom:e.spacing.sm,borderBottom:0,borderLeft:0,borderRight:0,borderTop:`1px dashed ${e.colors.gray[e.colorScheme==="dark"?4:6]}`},"& a":Sb(Eb({},e.fn.focusStyles()),{color:e.colors[e.primaryColor][e.colorScheme==="dark"?4:6],textDecoration:"none","&:hover":{textDecoration:"underline"}}),"& pre":{padding:e.spacing.xs,lineHeight:e.lineHeight,margin:0,marginTop:e.spacing.md,marginBottom:e.spacing.md,overflowX:"auto",fontFamily:e.fontFamilyMonospace,fontSize:e.fontSizes.sm,borderRadius:e.radius.sm,backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],"& code":{backgroundColor:"transparent",padding:0,borderRadius:0,color:"inherit",border:0}},"& code":{lineHeight:e.lineHeight,padding:"1px 5px",borderRadius:e.radius.sm,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[9]:e.colors.gray[0],fontFamily:e.fontFamilyMonospace,fontSize:e.fontSizes.xs,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[9]:e.colors.gray[3]}`},"& ul, & ol":{marginBottom:e.spacing.md,paddingLeft:38,"& li":{marginTop:e.spacing.xs}},"& table":{width:"100%",borderCollapse:"collapse",captionSide:"bottom",marginBottom:e.spacing.md,"& caption":{marginTop:e.spacing.xs,fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]},"& th":{textAlign:"left",fontWeight:"bold",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],fontSize:14,padding:"7px 10px"},"& thead th":{borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`},"& tfoot th":{borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`},"& td":{padding:"7px 10px",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,fontSize:14},"& tr:last-of-type td":{borderBottom:"none"}},"& blockquote":{fontSize:e.fontSizes.lg,lineHeight:e.lineHeight,margin:`${e.spacing.md}px 0`,borderTopRightRadius:e.radius.sm,borderBottomRightRadius:e.radius.sm,padding:`${e.spacing.md}px ${e.spacing.lg}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderLeft:`6px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,"& cite":{display:"block",fontSize:e.fontSizes.sm,marginTop:e.spacing.xs,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],overflow:"hidden",textOverflow:"ellipsis"}}})}}),iDe=Object.defineProperty,CT=Object.getOwnPropertySymbols,Bte=Object.prototype.hasOwnProperty,Ute=Object.prototype.propertyIsEnumerable,TU=(e,t,n)=>t in e?iDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sDe=(e,t)=>{for(var n in t||(t={}))Bte.call(t,n)&&TU(e,n,t[n]);if(CT)for(var n of CT(t))Ute.call(t,n)&&TU(e,n,t[n]);return e},oDe=(e,t)=>{var n={};for(var r in e)Bte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CT)for(var r of CT(e))t.indexOf(r)<0&&Ute.call(e,r)&&(n[r]=e[r]);return n};const Z0=w.forwardRef((e,t)=>{const n=Ye("TypographyStylesProvider",{},e),{className:r,unstyled:i}=n,s=oDe(n,["className","unstyled"]),{classes:o,cx:a}=rDe(null,{name:"TypographyStylesProvider",unstyled:i});return R.createElement(ft,sDe({className:a(o.root,r),ref:t},s))});Z0.displayName="@mantine/core/TypographyStylesProvider";function sN(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const gl="/viz-guardrails-study-3-recap/";function aDe({globalConfig:e,studyConfigs:t}){const{configsList:n}=e,r=td();return I.jsxs(_Z,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[I.jsx(U_,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${gl}assets/revisitLogoSquare.svg`,alt:"reVISit"}),I.jsx(tt,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=sN(i);return I.jsx(MI,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:I.jsxs(BIe,{shadow:"sm",radius:"md",withBorder:!0,children:[I.jsx(tt,{fw:"bold",children:s.studyMetadata.title}),I.jsxs(tt,{c:"dimmed",children:["Authors:",s.studyMetadata.authors]}),I.jsx(tt,{c:"dimmed",children:s.studyMetadata.description}),I.jsx(tt,{c:"dimmed",ta:"right",style:{paddingRight:5}})]})},i)})]})}var Vte={exports:{}},zte={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm=w;function uDe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lDe=typeof Object.is=="function"?Object.is:uDe,cDe=Hm.useState,fDe=Hm.useEffect,dDe=Hm.useLayoutEffect,hDe=Hm.useDebugValue;function pDe(e,t){var n=t(),r=cDe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return dDe(function(){i.value=n,i.getSnapshot=t,iO(i)&&s({inst:i})},[e,n,t]),fDe(function(){return iO(i)&&s({inst:i}),e(function(){iO(i)&&s({inst:i})})},[e]),hDe(n),n}function iO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lDe(e,n)}catch{return!0}}function mDe(e,t){return t()}var gDe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mDe:pDe;zte.useSyncExternalStore=Hm.useSyncExternalStore!==void 0?Hm.useSyncExternalStore:gDe;Vte.exports=zte;var yDe=Vte.exports,Hte={exports:{}},Wte={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XI=w,vDe=yDe;function _De(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bDe=typeof Object.is=="function"?Object.is:_De,wDe=vDe.useSyncExternalStore,EDe=XI.useRef,SDe=XI.useEffect,TDe=XI.useMemo,xDe=XI.useDebugValue;Wte.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=EDe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=TDe(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,bDe(c,h))return p;var m=r(h);return i!==void 0&&i(p,m)?p:(c=h,f=m)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=wDe(e,s[0],s[1]);return SDe(function(){o.hasValue=!0,o.value=a},[a]),xDe(a),a};Hte.exports=Wte;var IDe=Hte.exports;function CDe(e){e()}let qte=CDe;const PDe=e=>qte=e,ADe=()=>qte,xU=Symbol.for("react-redux-context"),IU=typeof globalThis<"u"?globalThis:{};function ODe(){var e;if(!w.createContext)return{};const t=(e=IU[xU])!=null?e:IU[xU]=new Map;let n=t.get(w.createContext);return n||(n=w.createContext(null),t.set(w.createContext,n)),n}const Df=ODe();function f3(e=Df){return function(){return w.useContext(e)}}const Gte=f3(),RDe=()=>{throw new Error("uSES not initialized!")};let Yte=RDe;const NDe=e=>{Yte=e},kDe=(e,t)=>e===t;function DDe(e=Df){const t=e===Df?Gte:f3(e);return function(r,i={}){const{equalityFn:s=kDe,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:u,subscription:l,getServerState:c,stabilityCheck:f,noopCheck:d}=t();w.useRef(!0);const h=w.useCallback({[r.name](m){return r(m)}}[r.name],[r,f,o]),p=Yte(l.addNestedSub,u.getState,c||u.getState,h,s);return w.useDebugValue(p),p}}const $De=DDe();var qn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3=Symbol.for("react.element"),h3=Symbol.for("react.portal"),JI=Symbol.for("react.fragment"),ZI=Symbol.for("react.strict_mode"),eC=Symbol.for("react.profiler"),tC=Symbol.for("react.provider"),nC=Symbol.for("react.context"),LDe=Symbol.for("react.server_context"),rC=Symbol.for("react.forward_ref"),iC=Symbol.for("react.suspense"),sC=Symbol.for("react.suspense_list"),oC=Symbol.for("react.memo"),aC=Symbol.for("react.lazy"),MDe=Symbol.for("react.offscreen"),Kte;Kte=Symbol.for("react.module.reference");function ya(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case d3:switch(e=e.type,e){case JI:case eC:case ZI:case iC:case sC:return e;default:switch(e=e&&e.$$typeof,e){case LDe:case nC:case rC:case aC:case oC:case tC:return e;default:return t}}case h3:return t}}}qn.ContextConsumer=nC;qn.ContextProvider=tC;qn.Element=d3;qn.ForwardRef=rC;qn.Fragment=JI;qn.Lazy=aC;qn.Memo=oC;qn.Portal=h3;qn.Profiler=eC;qn.StrictMode=ZI;qn.Suspense=iC;qn.SuspenseList=sC;qn.isAsyncMode=function(){return!1};qn.isConcurrentMode=function(){return!1};qn.isContextConsumer=function(e){return ya(e)===nC};qn.isContextProvider=function(e){return ya(e)===tC};qn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===d3};qn.isForwardRef=function(e){return ya(e)===rC};qn.isFragment=function(e){return ya(e)===JI};qn.isLazy=function(e){return ya(e)===aC};qn.isMemo=function(e){return ya(e)===oC};qn.isPortal=function(e){return ya(e)===h3};qn.isProfiler=function(e){return ya(e)===eC};qn.isStrictMode=function(e){return ya(e)===ZI};qn.isSuspense=function(e){return ya(e)===iC};qn.isSuspenseList=function(e){return ya(e)===sC};qn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===JI||e===eC||e===ZI||e===iC||e===sC||e===MDe||typeof e=="object"&&e!==null&&(e.$$typeof===aC||e.$$typeof===oC||e.$$typeof===tC||e.$$typeof===nC||e.$$typeof===rC||e.$$typeof===Kte||e.getModuleId!==void 0)};qn.typeOf=ya;function FDe(){const e=ADe();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const CU={notify(){},get:()=>[]};function jDe(e,t){let n,r=CU,i=0,s=!1;function o(m){c();const y=r.subscribe(m);let g=!1;return()=>{g||(g=!0,y(),f())}}function a(){r.notify()}function u(){p.onStateChange&&p.onStateChange()}function l(){return s}function c(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=FDe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=CU)}function d(){s||(s=!0,c())}function h(){s&&(s=!1,f())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:l,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>r};return p}const BDe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UDe=BDe?w.useLayoutEffect:w.useEffect;function VDe({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=w.useMemo(()=>{const l=jDe(e);return{store:e,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[e,r,i,s]),a=w.useMemo(()=>e.getState(),[e]);UDe(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const u=t||Df;return w.createElement(u.Provider,{value:o},n)}function Qte(e=Df){const t=e===Df?Gte:f3(e);return function(){const{store:r}=t();return r}}const zDe=Qte();function HDe(e=Df){const t=e===Df?zDe:Qte(e);return function(){return t().dispatch}}const Xte=HDe();NDe(IDe.useSyncExternalStoreWithSelector);PDe(pc.unstable_batchedUpdates);const WDe={},qDe=Object.freeze(Object.defineProperty({__proto__:null,default:WDe},Symbol.toStringTag,{value:"Module"})),GDe=ype(qDe);var YDe=GDe;function KDe(e,t){var n,r="",i=0,s=!0,o=0,a;function u(){return a=e.charAt(o),o++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,u();if(s&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function QDe(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function XDe(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function JDe(e){return e.__COMMENTS__}function ZDe(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var uC={EOL:YDe.EOL||`
`,tryParseNumber:KDe,createComment:QDe,removeComment:XDe,getComment:JDe,forceComment:ZDe},e$e="3.2.1";function t$e(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return PU}else if(e.length===0)return PU;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return r$e(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),n$e.bind(null,n)}function n$e(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function PU(){}function r$e(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function Jte(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}Jte.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function Zte(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}Zte.description="parse hexadecimal numbers prefixed with 0x";function ene(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}ene.description="support ISO dates";var p3={loadDsf:t$e,std:{math:Jte,hex:Zte,date:ene}},i$e=function(e,t){var n=uC,r=p3,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){s=0,o=" "}function f(U){return U==="{"||U==="}"||U==="["||U==="]"||U===","||U===":"}function d(U){var te,ue=0,ne=1;for(te=s-1;te>0&&i[te]!==`
`;te--,ue++);for(;te>0;te--)i[te]===`
`&&ne++;throw new Error(U+" at line "+ne+","+ue+" >>>"+i.substr(s-ue,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(U){return i.charAt(s+U)}function m(U){for(var te="",ue=o;h();){if(o===ue)return h(),U&&ue==="'"&&o==="'"&&te.length===0?(h(),y()):te;if(o==="\\")if(h(),o==="u"){for(var ne=0,q=0;q<4;q++){h();var fe=o.charCodeAt(0),A;o>="0"&&o<="9"?A=fe-48:o>="a"&&o<="f"?A=fe-97+10:o>="A"&&o<="F"?A=fe-65+10:d("Bad \\u char "+o),ne=ne*16+A}te+=String.fromCharCode(ne)}else if(typeof a[o]=="string")te+=a[o];else break;else o===`
`||o==="\r"?d("Bad string containing newline"):te+=o}d("Bad string")}function y(){for(var U="",te=0,ue=0;;){var ne=p(-ue-5);if(!ne||ne===`
`)break;ue++}function q(){for(var fe=ue;o&&o<=" "&&o!==`
`&&fe-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),q());;){if(!o)d("Bad multiline string");else if(o==="'"){if(te++,h(),te===3)return U.slice(-1)===`
`&&(U=U.slice(0,-1)),U;continue}else for(;te>0;)U+="'",te--;o===`
`?(U+=`
`,h(),q()):(o!=="\r"&&(U+=o),h())}}function g(){if(o==='"'||o==="'")return m(!1);for(var U="",te=s,ue=-1;;){if(o===":")return U?ue>=0&&ue!==U.length&&(s=te+ue,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),U;o<=" "?o?ue<0&&(ue=U.length):d("Found EOF while looking for a key name (check your syntax)"):f(o)?d("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):U+=o,h()}}function v(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function _(){var U=o;for(f(o)&&d("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var te=o==="\r"||o===`
`||o==="";if(te||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var ue=U[0];switch(ue){case"f":if(U.trim()==="false")return!1;break;case"n":if(U.trim()==="null")return null;break;case"t":if(U.trim()==="true")return!0;break;default:if(ue==="-"||ue>="0"&&ue<="9"){var ne=n.tryParseNumber(U);if(ne!==void 0)return ne}}if(te){U=U.trim();var q=l(U);return q!==void 0?q:U}}U+=o}}function S(U,te){var ue;for(U--,ue=s-2;ue>U&&i[ue]<=" "&&i[ue]!==`
`;ue--);i[ue]===`
`&&ue--,i[ue]==="\r"&&ue--;var ne=i.substr(U,ue-U+1);for(ue=0;ue<ne.length;ue++)if(ne[ue]>" "){var q=ne.indexOf(`
`);if(q>=0){var fe=[ne.substr(0,q),ne.substr(q+1)];return te&&fe[0].trim().length===0&&fe.shift(),fe}else return[ne]}return[]}function T(U){function te(ne,q){var fe,A,W,Y;switch(typeof ne){case"string":ne.indexOf(q)>=0&&(Y=ne);break;case"object":if(Object.prototype.toString.apply(ne)==="[object Array]")for(fe=0,W=ne.length;fe<W;fe++)Y=te(ne[fe],q)||Y;else for(A in ne)Object.prototype.hasOwnProperty.call(ne,A)&&(Y=te(ne[A],q)||Y)}return Y}function ue(ne){var q=te(U,ne);return q?"found '"+ne+`' in a string value, your mistake could be with:
  > `+q+`
  (unquoted strings contain everything up to the next line!)`:""}return ue("}")||ue("]")}function E(){var U=[],te,ue,ne;try{if(u&&(te=n.createComment(U,{a:[]})),h(),ue=s,v(),te&&(ne=S(ue,!0).join(`
`)),o==="]")return h(),te&&(te.e=[ne]),U;for(;o;){if(U.push(P()),ue=s,v(),o===","&&(h(),ue=s,v()),te){var q=S(ue);te.a.push([ne||"",q[0]||""]),ne=q[1]}if(o==="]")return h(),te&&(te.a[te.a.length-1][1]+=ne||""),U;v()}d("End of input while parsing an array (missing ']')")}catch(fe){throw fe.hint=fe.hint||T(U),fe}}function x(U){var te="",ue={},ne,q,fe;try{if(u&&(ne=n.createComment(ue,{c:{},o:[]})),U?q=1:(h(),q=s),v(),ne&&(fe=S(q,!0).join(`
`)),o==="}"&&!U)return ne&&(ne.e=[fe]),h(),ue;for(;o;){if(te=g(),v(),o!==":"&&d("Expected ':' instead of '"+o+"'"),h(),ue[te]=P(),q=s,v(),o===","&&(h(),q=s,v()),ne){var A=S(q);ne.c[te]=[fe||"",A[0]||""],fe=A[1],ne.o.push(te)}if(o==="}"&&!U)return h(),ne&&(ne.c[te][1]+=fe||""),ue;v()}if(U)return ue;d("End of input while parsing an object (missing '}')")}catch(W){throw W.hint=W.hint||T(ue),W}}function P(){switch(v(),o){case"{":return x();case"[":return E();case"'":case'"':return m(!0);default:return _()}}function M(U,te){var ue=s;if(v(),o&&d("Syntax error, found trailing characters"),u){var ne=te.join(`
`),q=S(ue).join(`
`);if(q||ne){var fe=n.createComment(U,n.getComment(U));fe.r=[ne,q]}}return U}function L(){v();var U=u?S(1):null;switch(o){case"{":return M(x(),U);case"[":return M(E(),U);default:return M(P(),U)}}function F(){v();var U=u?S(1):null;switch(o){case"{":return M(x(),U);case"[":return M(E(),U)}try{return M(x(!0),U)}catch(te){c();try{return M(P(),U)}catch{throw te}}}if(typeof e!="string")throw new Error("source is not a string");var V=null,oe=!0;return t&&typeof t=="object"&&(u=t.keepWsc,V=t.dsf,oe=t.legacyRoot!==!1),l=r.loadDsf(V,"parse"),i=e,c(),oe?F():L()},s$e=function(e,t){var n=uC,r=p3,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,m=!1,y=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?y.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(y={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var g,v=Object.keys(i);for(g=v.length-1;g>=0;g--){var _=v[g];y[_].push(i[_][0].length,i[_][1].length)}}var S,T="---\u2028--\uFEFF-",E=new RegExp('[\\\\\\"\0-'+T+"]","g"),x=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+T+"]","g"),P=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+T+"]","g"),M=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),L={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},F=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,V="",oe=0;function U(Y,C){return oe+=Y[0].length+Y[1].length-Y[2]-Y[3],Y[0]+C+Y[1]}function te(Y){return Y.replace(E,function(C){var O=L[C];return typeof O=="string"?U(y.esc,O):U(y.uni,("0000"+C.charCodeAt(0).toString(16)).slice(-4))})}function ue(Y,C,O,k){return Y?(x.lastIndex=0,M.lastIndex=0,c||O||x.test(Y)||n.tryParseNumber(Y,!0)!==void 0||M.test(Y)?(E.lastIndex=0,P.lastIndex=0,E.test(Y)?!P.test(Y)&&!k&&d?ne(Y,C):U(y.qstr,te(Y)):U(y.qstr,Y)):U(y.str,Y)):U(y.qstr,"")}function ne(Y,C){var O,k=Y.replace(/\r/g,"").split(`
`);if(C+=o,k.length===1)return U(y.mstr,k[0]);var G=s+C+y.mstr[0];for(O=0;O<k.length;O++)G+=s,k[O]&&(G+=C+k[O]);return G+s+C+y.mstr[1]}function q(Y){return Y?l||F.test(Y)?(E.lastIndex=0,U(y.qkey,E.test(Y)?te(Y):Y)):U(y.key,Y):'""'}function fe(Y,C,O,k){function G(Xe){return Xe&&Xe[Xe[0]==="\r"?1:0]===`
`}function de(Xe){return Xe&&!G(Xe)}function he(Xe,Ct,ht){if(!Xe)return"";Xe=n.forceComment(Xe);var Yn,Qt=Xe.length;for(Yn=0;Yn<Qt&&Xe[Yn]<=" ";Yn++);return ht&&Yn>0&&(Xe=Xe.substr(Yn)),Yn<Qt?Ct+U(y.rem,Xe):Xe}var ge=S(Y);if(ge!==void 0)return U(y.dsf,ge);switch(typeof Y){case"string":return ue(Y,V,C,k);case"number":return isFinite(Y)?U(y.num,String(Y)):U(y.lit,"null");case"boolean":return U(y.lit,String(Y));case"object":if(!Y)return U(y.lit,"null");var Te;a&&(Te=n.getComment(Y));var Pe=Object.prototype.toString.apply(Y)==="[object Array]",Se=V;V+=o;var st=s+Se,Je=s+V,vt=O||u?"":st,Ve=[],ct,gt=f?[]:null,rn=c,hn=d,ae=h?"":y.com[0],ye=0,ve,se,be,$e,X,me,_e,Oe,We;if(Pe){for(ve=0,se=Y.length;ve<se;ve++){if(ct=ve<se-1,Te?(me=Te.a[ve]||[],_e=de(me[1]),Ve.push(he(me[0],`
`)+Je),gt&&(me[0]||me[1]||_e)&&(gt=null)):Ve.push(Je),oe=0,$e=Y[ve],Ve.push(fe($e,Te?_e:!1,!0)+(ct?h:"")),gt){switch(typeof $e){case"string":oe=0,c=!0,d=0,gt.push(fe($e,!1,!0)+(ct?y.com[0]:"")),c=rn,d=hn;break;case"object":if($e){gt=null;break}default:gt.push(Ve[Ve.length-1]+(ct?ae:""));break}ct&&(oe+=y.com[0].length-y.com[2]),ye+=oe}Te&&me[1]&&Ve.push(he(me[1],_e?" ":`
`,_e))}se===0?Te&&Te.e&&Ve.push(he(Te.e[0],`
`)+st):Ve.push(st),Ve.length===0?Oe=U(y.arr,""):(Oe=vt+U(y.arr,Ve.join("")),gt&&(We=gt.join(" "),We.length-ye<=f&&(Oe=U(y.arr,We))))}else{var _t=Te?Te.o.slice():[],Be=[];for(be in Y)Object.prototype.hasOwnProperty.call(Y,be)&&_t.indexOf(be)<0&&Be.push(be);m&&Be.sort();var Qe=_t.concat(Be);for(ve=0,se=Qe.length;ve<se;ve++)if(ct=ve<se-1,be=Qe[ve],Te?(me=Te.c[be]||[],_e=de(me[1]),Ve.push(he(me[0],`
`)+Je),gt&&(me[0]||me[1]||_e)&&(gt=null)):Ve.push(Je),oe=0,$e=Y[be],X=fe($e,Te&&_e),Ve.push(q(be)+y.col[0]+(G(X)?"":" ")+X+(ct?h:"")),Te&&me[1]&&Ve.push(he(me[1],_e?" ":`
`,_e)),gt){switch(typeof $e){case"string":oe=0,c=!0,d=0,X=fe($e,!1),c=rn,d=hn,gt.push(q(be)+y.col[0]+" "+X+(ct?y.com[0]:""));break;case"object":if($e){gt=null;break}default:gt.push(Ve[Ve.length-1]+(ct?ae:""));break}oe+=y.col[0].length-y.col[2],ct&&(oe+=y.com[0].length-y.com[2]),ye+=oe}se===0?Te&&Te.e&&Ve.push(he(Te.e[0],`
`)+st):Ve.push(st),Ve.length===0?Oe=U(y.obj,""):(Oe=vt+U(y.obj,Ve.join("")),gt&&(We=gt.join(" "),We.length-ye<=f&&(Oe=U(y.obj,We))))}return V=Se,Oe}}S=r.loadDsf(p,"stringify");var A="",W=a?W=(n.getComment(e)||{}).r:null;return W&&W[0]&&(A=W[0]+`
`),A+=fe(e,null,!0,!0),W&&(A+=W[1]||""),A},im=uC;function xy(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function oN(e,t){if(!(e===null||typeof e!="object")){var n=im.getComment(e);n&&im.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)AU(o.a,r,n.a[r],oN(e[r]))&&(s=!0);!s&&n.e&&(o.e=xy(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,o.o=a,r=0,i=a.length;r<i;r++){var l=a[r];AU(o.s,l,n.c[l],oN(e[l]))&&(s=!0)}!s&&n.e&&(o.e=xy(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=xy(n.r[0],n.r[1])),s?o:void 0}}function o$e(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function a$e(e,t){var n=[];if(aN(e,t,n,[]),n.length>0){var r=PT(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+o$e(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),PT(t,r,1)}}function AU(e,t,n,r){var i=xy(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function Iy(e,t){var n=xy(t.b,t.a);return n.path=e,n}function Cy(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(Iy(s,o)),Cy(o.x,t,s))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(Iy(u,l)),Cy(l.x,t,u))});e.e&&t.push(Iy(n,e.e))}}function aN(e,t,n,r){if(e){if(t===null||typeof t!="object"){Cy(e,n,r);return}var i,s=im.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(s.a[i]=[u.b,u.a],aN(u.x,t[i],n,l)):(n.push(Iy(l,u)),Cy(u.x,n,l))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),d&&(s.c[c]=[d.b,d.a],aN(d.x,t[c],n,f))):d&&(n.push(Iy(f,d)),Cy(d.x,n,f))}),e.e&&(s.e=[e.e.b,e.e.a])}}function PT(e,t,n){var r=im.createComment(e,im.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=im.forceComment(t)),r.r[n]||""}var u$e={extract:function(e){return oN(e,!0)},merge:a$e,header:function(e,t){return PT(e,t,0)},footer:function(e,t){return PT(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var OU=uC,l$e=e$e,RU=i$e,NU=s$e,c$e=u$e,f$e=p3,m3={parse:RU,stringify:NU,endOfLine:function(){return OU.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(OU.EOL=e)},version:l$e,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,RU(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,NU(e,t)}},comments:c$e,dsf:f$e.std},uN={exports:{}},tne={},Ga={},Wm={},z_={},Zt={},Iv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((_,S)=>`${_}${S}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((_,S)=>(S instanceof n&&(_[S.str]=(_[S.str]||0)+1),_),{})}}e._Code=r,e.nil=new r("");function i(g,...v){const _=[g[0]];let S=0;for(;S<v.length;)a(_,v[S]),_.push(g[++S]);return new r(_)}e._=i;const s=new r("+");function o(g,...v){const _=[h(g[0])];let S=0;for(;S<v.length;)_.push(s),a(_,v[S]),_.push(s,h(g[++S]));return u(_),new r(_)}e.str=o;function a(g,v){v instanceof r?g.push(...v._items):v instanceof n?g.push(v):g.push(f(v))}e.addCodeArg=a;function u(g){let v=1;for(;v<g.length-1;){if(g[v]===s){const _=l(g[v-1],g[v+1]);if(_!==void 0){g.splice(v-1,3,_);continue}g[v++]="+"}v++}}function l(g,v){if(v==='""')return g;if(g==='""')return v;if(typeof g=="string")return v instanceof n||g[g.length-1]!=='"'?void 0:typeof v!="string"?`${g.slice(0,-1)}${v}"`:v[0]==='"'?g.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(g instanceof n))return`"${g}${v.slice(1)}`}function c(g,v){return v.emptyStr()?g:g.emptyStr()?v:o`${g}${v}`}e.strConcat=c;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:h(Array.isArray(g)?g.join(","):g)}function d(g){return new r(h(g))}e.stringify=d;function h(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new r(`.${g}`):i`[${g}]`}e.getProperty=p;function m(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new r(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=m;function y(g){return new r(g.toString())}e.regexpCode=y})(Iv);var lN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Iv;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let m=this._values[h];if(m){const v=m.get(p);if(v)return v}else m=this._values[h]=new Map;m.set(p,d);const y=this._scope[h]||(this._scope[h]=[]),g=y.length;return y[g]=c.ref,d.setValue(c,{property:h,itemIndex:g}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const m=l[p];if(!m)continue;const y=f[p]=f[p]||new Map;m.forEach(g=>{if(y.has(g))return;y.set(g,r.Started);let v=c(g);if(v){const _=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${_} ${g} = ${v};${this.opts._n}`}else if(v=d==null?void 0:d(g))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(g);y.set(g,r.Completed)})}return h}}e.ValueScope=a})(lN);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Iv,n=lN;var r=Iv;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=lN;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(O,k){return this}}class o extends s{constructor(O,k,G){super(),this.varKind=O,this.name=k,this.rhs=G}render({es5:O,_n:k}){const G=O?n.varKinds.var:this.varKind,de=this.rhs===void 0?"":` = ${this.rhs}`;return`${G} ${this.name}${de};`+k}optimizeNames(O,k){if(O[this.name.str])return this.rhs&&(this.rhs=U(this.rhs,O,k)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(O,k,G){super(),this.lhs=O,this.rhs=k,this.sideEffects=G}render({_n:O}){return`${this.lhs} = ${this.rhs};`+O}optimizeNames(O,k){if(!(this.lhs instanceof t.Name&&!O[this.lhs.str]&&!this.sideEffects))return this.rhs=U(this.rhs,O,k),this}get names(){const O=this.lhs instanceof t.Name?{}:{...this.lhs.names};return oe(O,this.rhs)}}class u extends a{constructor(O,k,G,de){super(O,G,de),this.op=k}render({_n:O}){return`${this.lhs} ${this.op}= ${this.rhs};`+O}}class l extends s{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`${this.label}:`+O}}class c extends s{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`break${this.label?` ${this.label}`:""};`+O}}class f extends s{constructor(O){super(),this.error=O}render({_n:O}){return`throw ${this.error};`+O}get names(){return this.error.names}}class d extends s{constructor(O){super(),this.code=O}render({_n:O}){return`${this.code};`+O}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(O,k){return this.code=U(this.code,O,k),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(O=[]){super(),this.nodes=O}render(O){return this.nodes.reduce((k,G)=>k+G.render(O),"")}optimizeNodes(){const{nodes:O}=this;let k=O.length;for(;k--;){const G=O[k].optimizeNodes();Array.isArray(G)?O.splice(k,1,...G):G?O[k]=G:O.splice(k,1)}return O.length>0?this:void 0}optimizeNames(O,k){const{nodes:G}=this;let de=G.length;for(;de--;){const he=G[de];he.optimizeNames(O,k)||(te(O,he.names),G.splice(de,1))}return G.length>0?this:void 0}get names(){return this.nodes.reduce((O,k)=>V(O,k.names),{})}}class p extends h{render(O){return"{"+O._n+super.render(O)+"}"+O._n}}class m extends h{}class y extends p{}y.kind="else";class g extends p{constructor(O,k){super(k),this.condition=O}render(O){let k=`if(${this.condition})`+super.render(O);return this.else&&(k+="else "+this.else.render(O)),k}optimizeNodes(){super.optimizeNodes();const O=this.condition;if(O===!0)return this.nodes;let k=this.else;if(k){const G=k.optimizeNodes();k=this.else=Array.isArray(G)?new y(G):G}if(k)return O===!1?k instanceof g?k:k.nodes:this.nodes.length?this:new g(ue(O),k instanceof g?[k]:k.nodes);if(!(O===!1||!this.nodes.length))return this}optimizeNames(O,k){var G;if(this.else=(G=this.else)===null||G===void 0?void 0:G.optimizeNames(O,k),!!(super.optimizeNames(O,k)||this.else))return this.condition=U(this.condition,O,k),this}get names(){const O=super.names;return oe(O,this.condition),this.else&&V(O,this.else.names),O}}g.kind="if";class v extends p{}v.kind="for";class _ extends v{constructor(O){super(),this.iteration=O}render(O){return`for(${this.iteration})`+super.render(O)}optimizeNames(O,k){if(super.optimizeNames(O,k))return this.iteration=U(this.iteration,O,k),this}get names(){return V(super.names,this.iteration.names)}}class S extends v{constructor(O,k,G,de){super(),this.varKind=O,this.name=k,this.from=G,this.to=de}render(O){const k=O.es5?n.varKinds.var:this.varKind,{name:G,from:de,to:he}=this;return`for(${k} ${G}=${de}; ${G}<${he}; ${G}++)`+super.render(O)}get names(){const O=oe(super.names,this.from);return oe(O,this.to)}}class T extends v{constructor(O,k,G,de){super(),this.loop=O,this.varKind=k,this.name=G,this.iterable=de}render(O){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(O)}optimizeNames(O,k){if(super.optimizeNames(O,k))return this.iterable=U(this.iterable,O,k),this}get names(){return V(super.names,this.iterable.names)}}class E extends p{constructor(O,k,G){super(),this.name=O,this.args=k,this.async=G}render(O){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(O)}}E.kind="func";class x extends h{render(O){return"return "+super.render(O)}}x.kind="return";class P extends p{render(O){let k="try"+super.render(O);return this.catch&&(k+=this.catch.render(O)),this.finally&&(k+=this.finally.render(O)),k}optimizeNodes(){var O,k;return super.optimizeNodes(),(O=this.catch)===null||O===void 0||O.optimizeNodes(),(k=this.finally)===null||k===void 0||k.optimizeNodes(),this}optimizeNames(O,k){var G,de;return super.optimizeNames(O,k),(G=this.catch)===null||G===void 0||G.optimizeNames(O,k),(de=this.finally)===null||de===void 0||de.optimizeNames(O,k),this}get names(){const O=super.names;return this.catch&&V(O,this.catch.names),this.finally&&V(O,this.finally.names),O}}class M extends p{constructor(O){super(),this.error=O}render(O){return`catch(${this.error})`+super.render(O)}}M.kind="catch";class L extends p{render(O){return"finally"+super.render(O)}}L.kind="finally";class F{constructor(O,k={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...k,_n:k.lines?`
`:""},this._extScope=O,this._scope=new n.Scope({parent:O}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(O){return this._scope.name(O)}scopeName(O){return this._extScope.name(O)}scopeValue(O,k){const G=this._extScope.value(O,k);return(this._values[G.prefix]||(this._values[G.prefix]=new Set)).add(G),G}getScopeValue(O,k){return this._extScope.getValue(O,k)}scopeRefs(O){return this._extScope.scopeRefs(O,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(O,k,G,de){const he=this._scope.toName(k);return G!==void 0&&de&&(this._constants[he.str]=G),this._leafNode(new o(O,he,G)),he}const(O,k,G){return this._def(n.varKinds.const,O,k,G)}let(O,k,G){return this._def(n.varKinds.let,O,k,G)}var(O,k,G){return this._def(n.varKinds.var,O,k,G)}assign(O,k,G){return this._leafNode(new a(O,k,G))}add(O,k){return this._leafNode(new u(O,e.operators.ADD,k))}code(O){return typeof O=="function"?O():O!==t.nil&&this._leafNode(new d(O)),this}object(...O){const k=["{"];for(const[G,de]of O)k.length>1&&k.push(","),k.push(G),(G!==de||this.opts.es5)&&(k.push(":"),(0,t.addCodeArg)(k,de));return k.push("}"),new t._Code(k)}if(O,k,G){if(this._blockNode(new g(O)),k&&G)this.code(k).else().code(G).endIf();else if(k)this.code(k).endIf();else if(G)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(O){return this._elseNode(new g(O))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(g,y)}_for(O,k){return this._blockNode(O),k&&this.code(k).endFor(),this}for(O,k){return this._for(new _(O),k)}forRange(O,k,G,de,he=this.opts.es5?n.varKinds.var:n.varKinds.let){const ge=this._scope.toName(O);return this._for(new S(he,ge,k,G),()=>de(ge))}forOf(O,k,G,de=n.varKinds.const){const he=this._scope.toName(O);if(this.opts.es5){const ge=k instanceof t.Name?k:this.var("_arr",k);return this.forRange("_i",0,(0,t._)`${ge}.length`,Te=>{this.var(he,(0,t._)`${ge}[${Te}]`),G(he)})}return this._for(new T("of",de,he,k),()=>G(he))}forIn(O,k,G,de=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(O,(0,t._)`Object.keys(${k})`,G);const he=this._scope.toName(O);return this._for(new T("in",de,he,k),()=>G(he))}endFor(){return this._endBlockNode(v)}label(O){return this._leafNode(new l(O))}break(O){return this._leafNode(new c(O))}return(O){const k=new x;if(this._blockNode(k),this.code(O),k.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(O,k,G){if(!k&&!G)throw new Error('CodeGen: "try" without "catch" and "finally"');const de=new P;if(this._blockNode(de),this.code(O),k){const he=this.name("e");this._currNode=de.catch=new M(he),k(he)}return G&&(this._currNode=de.finally=new L,this.code(G)),this._endBlockNode(M,L)}throw(O){return this._leafNode(new f(O))}block(O,k){return this._blockStarts.push(this._nodes.length),O&&this.code(O).endBlock(k),this}endBlock(O){const k=this._blockStarts.pop();if(k===void 0)throw new Error("CodeGen: not in self-balancing block");const G=this._nodes.length-k;if(G<0||O!==void 0&&G!==O)throw new Error(`CodeGen: wrong number of nodes: ${G} vs ${O} expected`);return this._nodes.length=k,this}func(O,k=t.nil,G,de){return this._blockNode(new E(O,k,G)),de&&this.code(de).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(O=1){for(;O-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(O){return this._currNode.nodes.push(O),this}_blockNode(O){this._currNode.nodes.push(O),this._nodes.push(O)}_endBlockNode(O,k){const G=this._currNode;if(G instanceof O||k&&G instanceof k)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${k?`${O.kind}/${k.kind}`:O.kind}"`)}_elseNode(O){const k=this._currNode;if(!(k instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=k.else=O,this}get _root(){return this._nodes[0]}get _currNode(){const O=this._nodes;return O[O.length-1]}set _currNode(O){const k=this._nodes;k[k.length-1]=O}}e.CodeGen=F;function V(C,O){for(const k in O)C[k]=(C[k]||0)+(O[k]||0);return C}function oe(C,O){return O instanceof t._CodeOrName?V(C,O.names):C}function U(C,O,k){if(C instanceof t.Name)return G(C);if(!de(C))return C;return new t._Code(C._items.reduce((he,ge)=>(ge instanceof t.Name&&(ge=G(ge)),ge instanceof t._Code?he.push(...ge._items):he.push(ge),he),[]));function G(he){const ge=k[he.str];return ge===void 0||O[he.str]!==1?he:(delete O[he.str],ge)}function de(he){return he instanceof t._Code&&he._items.some(ge=>ge instanceof t.Name&&O[ge.str]===1&&k[ge.str]!==void 0)}}function te(C,O){for(const k in O)C[k]=(C[k]||0)-(O[k]||0)}function ue(C){return typeof C=="boolean"||typeof C=="number"||C===null?!C:(0,t._)`!${Y(C)}`}e.not=ue;const ne=W(e.operators.AND);function q(...C){return C.reduce(ne)}e.and=q;const fe=W(e.operators.OR);function A(...C){return C.reduce(fe)}e.or=A;function W(C){return(O,k)=>O===t.nil?k:k===t.nil?O:(0,t._)`${Y(O)} ${C} ${Y(k)}`}function Y(C){return C instanceof t.Name?C:(0,t._)`(${C})`}})(Zt);var En={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Zt,n=Iv;function r(E){const x={};for(const P of E)x[P]=!0;return x}e.toHash=r;function i(E,x){return typeof x=="boolean"?x:Object.keys(x).length===0?!0:(s(E,x),!o(x,E.self.RULES.all))}e.alwaysValidSchema=i;function s(E,x=E.schema){const{opts:P,self:M}=E;if(!P.strictSchema||typeof x=="boolean")return;const L=M.RULES.keywords;for(const F in x)L[F]||T(E,`unknown keyword: "${F}"`)}e.checkUnknownRules=s;function o(E,x){if(typeof E=="boolean")return!E;for(const P in E)if(x[P])return!0;return!1}e.schemaHasRules=o;function a(E,x){if(typeof E=="boolean")return!E;for(const P in E)if(P!=="$ref"&&x.all[P])return!0;return!1}e.schemaHasRulesButRef=a;function u({topSchemaRef:E,schemaPath:x},P,M,L){if(!L){if(typeof P=="number"||typeof P=="boolean")return P;if(typeof P=="string")return(0,t._)`${P}`}return(0,t._)`${E}${x}${(0,t.getProperty)(M)}`}e.schemaRefOrVal=u;function l(E){return d(decodeURIComponent(E))}e.unescapeFragment=l;function c(E){return encodeURIComponent(f(E))}e.escapeFragment=c;function f(E){return typeof E=="number"?`${E}`:E.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function d(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=d;function h(E,x){if(Array.isArray(E))for(const P of E)x(P);else x(E)}e.eachItem=h;function p({mergeNames:E,mergeToName:x,mergeValues:P,resultToName:M}){return(L,F,V,oe)=>{const U=V===void 0?F:V instanceof t.Name?(F instanceof t.Name?E(L,F,V):x(L,F,V),V):F instanceof t.Name?(x(L,V,F),F):P(F,V);return oe===t.Name&&!(U instanceof t.Name)?M(L,U):U}}e.mergeEvaluated={props:p({mergeNames:(E,x,P)=>E.if((0,t._)`${P} !== true && ${x} !== undefined`,()=>{E.if((0,t._)`${x} === true`,()=>E.assign(P,!0),()=>E.assign(P,(0,t._)`${P} || {}`).code((0,t._)`Object.assign(${P}, ${x})`))}),mergeToName:(E,x,P)=>E.if((0,t._)`${P} !== true`,()=>{x===!0?E.assign(P,!0):(E.assign(P,(0,t._)`${P} || {}`),y(E,P,x))}),mergeValues:(E,x)=>E===!0?!0:{...E,...x},resultToName:m}),items:p({mergeNames:(E,x,P)=>E.if((0,t._)`${P} !== true && ${x} !== undefined`,()=>E.assign(P,(0,t._)`${x} === true ? true : ${P} > ${x} ? ${P} : ${x}`)),mergeToName:(E,x,P)=>E.if((0,t._)`${P} !== true`,()=>E.assign(P,x===!0?!0:(0,t._)`${P} > ${x} ? ${P} : ${x}`)),mergeValues:(E,x)=>E===!0?!0:Math.max(E,x),resultToName:(E,x)=>E.var("items",x)})};function m(E,x){if(x===!0)return E.var("props",!0);const P=E.var("props",(0,t._)`{}`);return x!==void 0&&y(E,P,x),P}e.evaluatedPropsToName=m;function y(E,x,P){Object.keys(P).forEach(M=>E.assign((0,t._)`${x}${(0,t.getProperty)(M)}`,!0))}e.setEvaluated=y;const g={};function v(E,x){return E.scopeValue("func",{ref:x,code:g[x.code]||(g[x.code]=new n._Code(x.code))})}e.useFunc=v;var _;(function(E){E[E.Num=0]="Num",E[E.Str=1]="Str"})(_=e.Type||(e.Type={}));function S(E,x,P){if(E instanceof t.Name){const M=x===_.Num;return P?M?(0,t._)`"[" + ${E} + "]"`:(0,t._)`"['" + ${E} + "']"`:M?(0,t._)`"/" + ${E}`:(0,t._)`"/" + ${E}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return P?(0,t.getProperty)(E).toString():"/"+f(E)}e.getErrorPath=S;function T(E,x,P=E.opts.strictSchema){if(P){if(x=`strict mode: ${x}`,P===!0)throw new Error(x);E.self.logger.warn(x)}}e.checkStrictMode=T})(En);var yl={};Object.defineProperty(yl,"__esModule",{value:!0});const Ki=Zt,d$e={data:new Ki.Name("data"),valCxt:new Ki.Name("valCxt"),instancePath:new Ki.Name("instancePath"),parentData:new Ki.Name("parentData"),parentDataProperty:new Ki.Name("parentDataProperty"),rootData:new Ki.Name("rootData"),dynamicAnchors:new Ki.Name("dynamicAnchors"),vErrors:new Ki.Name("vErrors"),errors:new Ki.Name("errors"),this:new Ki.Name("this"),self:new Ki.Name("self"),scope:new Ki.Name("scope"),json:new Ki.Name("json"),jsonPos:new Ki.Name("jsonPos"),jsonLen:new Ki.Name("jsonLen"),jsonPart:new Ki.Name("jsonPart")};yl.default=d$e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Zt,n=En,r=yl;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:g})=>g?(0,t.str)`"${y}" keyword must be ${g} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function i(y,g=e.keywordError,v,_){const{it:S}=y,{gen:T,compositeRule:E,allErrors:x}=S,P=f(y,g,v);_??(E||x)?u(T,P):l(S,(0,t._)`[${P}]`)}e.reportError=i;function s(y,g=e.keywordError,v){const{it:_}=y,{gen:S,compositeRule:T,allErrors:E}=_,x=f(y,g,v);u(S,x),T||E||l(_,r.default.vErrors)}e.reportExtraError=s;function o(y,g){y.assign(r.default.errors,g),y.if((0,t._)`${r.default.vErrors} !== null`,()=>y.if(g,()=>y.assign((0,t._)`${r.default.vErrors}.length`,g),()=>y.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:y,keyword:g,schemaValue:v,data:_,errsCount:S,it:T}){if(S===void 0)throw new Error("ajv implementation error");const E=y.name("err");y.forRange("i",S,r.default.errors,x=>{y.const(E,(0,t._)`${r.default.vErrors}[${x}]`),y.if((0,t._)`${E}.instancePath === undefined`,()=>y.assign((0,t._)`${E}.instancePath`,(0,t.strConcat)(r.default.instancePath,T.errorPath))),y.assign((0,t._)`${E}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${g}`),T.opts.verbose&&(y.assign((0,t._)`${E}.schema`,v),y.assign((0,t._)`${E}.data`,_))})}e.extendErrors=a;function u(y,g){const v=y.const("err",g);y.if((0,t._)`${r.default.vErrors} === null`,()=>y.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),y.code((0,t._)`${r.default.errors}++`)}function l(y,g){const{gen:v,validateName:_,schemaEnv:S}=y;S.$async?v.throw((0,t._)`new ${y.ValidationError}(${g})`):(v.assign((0,t._)`${_}.errors`,g),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(y,g,v){const{createErrors:_}=y.it;return _===!1?(0,t._)`{}`:d(y,g,v)}function d(y,g,v={}){const{gen:_,it:S}=y,T=[h(S,v),p(y,v)];return m(y,g,T),_.object(...T)}function h({errorPath:y},{instancePath:g}){const v=g?(0,t.str)`${y}${(0,n.getErrorPath)(g,n.Type.Str)}`:y;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:y,it:{errSchemaPath:g}},{schemaPath:v,parentSchema:_}){let S=_?g:(0,t.str)`${g}/${y}`;return v&&(S=(0,t.str)`${S}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,S]}function m(y,{params:g,message:v},_){const{keyword:S,data:T,schemaValue:E,it:x}=y,{opts:P,propertyName:M,topSchemaRef:L,schemaPath:F}=x;_.push([c.keyword,S],[c.params,typeof g=="function"?g(y):g||(0,t._)`{}`]),P.messages&&_.push([c.message,typeof v=="function"?v(y):v]),P.verbose&&_.push([c.schema,E],[c.parentSchema,(0,t._)`${L}${F}`],[r.default.data,T]),M&&_.push([c.propertyName,M])}})(z_);Object.defineProperty(Wm,"__esModule",{value:!0});Wm.boolOrEmptySchema=Wm.topBoolOrEmptySchema=void 0;const h$e=z_,p$e=Zt,m$e=yl,g$e={message:"boolean schema is false"};function y$e(e){const{gen:t,schema:n,validateName:r}=e;n===!1?nne(e,!1):typeof n=="object"&&n.$async===!0?t.return(m$e.default.data):(t.assign((0,p$e._)`${r}.errors`,null),t.return(!0))}Wm.topBoolOrEmptySchema=y$e;function v$e(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),nne(e)):n.var(t,!0)}Wm.boolOrEmptySchema=v$e;function nne(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,h$e.reportError)(i,g$e,void 0,t)}var H_={},ph={};Object.defineProperty(ph,"__esModule",{value:!0});ph.getRules=ph.isJSONType=void 0;const _$e=["string","number","integer","boolean","null","object","array"],b$e=new Set(_$e);function w$e(e){return typeof e=="string"&&b$e.has(e)}ph.isJSONType=w$e;function E$e(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ph.getRules=E$e;var Hl={};Object.defineProperty(Hl,"__esModule",{value:!0});Hl.shouldUseRule=Hl.shouldUseGroup=Hl.schemaHasRulesForType=void 0;function S$e({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&rne(e,r)}Hl.schemaHasRulesForType=S$e;function rne(e,t){return t.rules.some(n=>ine(e,n))}Hl.shouldUseGroup=rne;function ine(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}Hl.shouldUseRule=ine;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=ph,n=Hl,r=z_,i=Zt,s=En;var o;(function(_){_[_.Correct=0]="Correct",_[_.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(_){const S=u(_.type);if(S.includes("null")){if(_.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&_.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');_.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=a;function u(_){const S=Array.isArray(_)?_:_?[_]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=u;function l(_,S){const{gen:T,data:E,opts:x}=_,P=f(S,x.coerceTypes),M=S.length>0&&!(P.length===0&&S.length===1&&(0,n.schemaHasRulesForType)(_,S[0]));if(M){const L=m(S,E,x.strictNumbers,o.Wrong);T.if(L,()=>{P.length?d(_,S,P):g(_)})}return M}e.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function f(_,S){return S?_.filter(T=>c.has(T)||S==="array"&&T==="array"):[]}function d(_,S,T){const{gen:E,data:x,opts:P}=_,M=E.let("dataType",(0,i._)`typeof ${x}`),L=E.let("coerced",(0,i._)`undefined`);P.coerceTypes==="array"&&E.if((0,i._)`${M} == 'object' && Array.isArray(${x}) && ${x}.length == 1`,()=>E.assign(x,(0,i._)`${x}[0]`).assign(M,(0,i._)`typeof ${x}`).if(m(S,x,P.strictNumbers),()=>E.assign(L,x))),E.if((0,i._)`${L} !== undefined`);for(const V of T)(c.has(V)||V==="array"&&P.coerceTypes==="array")&&F(V);E.else(),g(_),E.endIf(),E.if((0,i._)`${L} !== undefined`,()=>{E.assign(x,L),h(_,L)});function F(V){switch(V){case"string":E.elseIf((0,i._)`${M} == "number" || ${M} == "boolean"`).assign(L,(0,i._)`"" + ${x}`).elseIf((0,i._)`${x} === null`).assign(L,(0,i._)`""`);return;case"number":E.elseIf((0,i._)`${M} == "boolean" || ${x} === null
              || (${M} == "string" && ${x} && ${x} == +${x})`).assign(L,(0,i._)`+${x}`);return;case"integer":E.elseIf((0,i._)`${M} === "boolean" || ${x} === null
              || (${M} === "string" && ${x} && ${x} == +${x} && !(${x} % 1))`).assign(L,(0,i._)`+${x}`);return;case"boolean":E.elseIf((0,i._)`${x} === "false" || ${x} === 0 || ${x} === null`).assign(L,!1).elseIf((0,i._)`${x} === "true" || ${x} === 1`).assign(L,!0);return;case"null":E.elseIf((0,i._)`${x} === "" || ${x} === 0 || ${x} === false`),E.assign(L,null);return;case"array":E.elseIf((0,i._)`${M} === "string" || ${M} === "number"
              || ${M} === "boolean" || ${x} === null`).assign(L,(0,i._)`[${x}]`)}}}function h({gen:_,parentData:S,parentDataProperty:T},E){_.if((0,i._)`${S} !== undefined`,()=>_.assign((0,i._)`${S}[${T}]`,E))}function p(_,S,T,E=o.Correct){const x=E===o.Correct?i.operators.EQ:i.operators.NEQ;let P;switch(_){case"null":return(0,i._)`${S} ${x} null`;case"array":P=(0,i._)`Array.isArray(${S})`;break;case"object":P=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":P=M((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":P=M();break;default:return(0,i._)`typeof ${S} ${x} ${_}`}return E===o.Correct?P:(0,i.not)(P);function M(L=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,L,T?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=p;function m(_,S,T,E){if(_.length===1)return p(_[0],S,T,E);let x;const P=(0,s.toHash)(_);if(P.array&&P.object){const M=(0,i._)`typeof ${S} != "object"`;x=P.null?M:(0,i._)`!${S} || ${M}`,delete P.null,delete P.array,delete P.object}else x=i.nil;P.number&&delete P.integer;for(const M in P)x=(0,i.and)(x,p(M,S,T,E));return x}e.checkDataTypes=m;const y={message:({schema:_})=>`must be ${_}`,params:({schema:_,schemaValue:S})=>typeof _=="string"?(0,i._)`{type: ${_}}`:(0,i._)`{type: ${S}}`};function g(_){const S=v(_);(0,r.reportError)(S,y)}e.reportTypeError=g;function v(_){const{gen:S,data:T,schema:E}=_,x=(0,s.schemaRefOrVal)(_,E,"type");return{gen:S,keyword:"type",data:T,schema:E.type,schemaCode:x,schemaValue:x,parentSchema:E,params:{},it:_}}})(H_);var lC={};Object.defineProperty(lC,"__esModule",{value:!0});lC.assignDefaults=void 0;const ip=Zt,T$e=En;function x$e(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)kU(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>kU(e,s,i.default))}lC.assignDefaults=x$e;function kU(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,ip._)`${s}${(0,ip.getProperty)(t)}`;if(i){(0,T$e.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,ip._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,ip._)`${u} || ${a} === null || ${a} === ""`),r.if(u,(0,ip._)`${a} = ${(0,ip.stringify)(n)}`)}var $u={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.validateUnion=Jt.validateArray=Jt.usePattern=Jt.callValidateCode=Jt.schemaProperties=Jt.allSchemaProperties=Jt.noPropertyInData=Jt.propertyInData=Jt.isOwnProperty=Jt.hasPropFunc=Jt.reportMissingProp=Jt.checkMissingProp=Jt.checkReportMissingProp=void 0;const rr=Zt,g3=En,Ac=yl,I$e=En;function C$e(e,t){const{gen:n,data:r,it:i}=e;n.if(v3(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,rr._)`${t}`},!0),e.error()})}Jt.checkReportMissingProp=C$e;function P$e({gen:e,data:t,it:{opts:n}},r,i){return(0,rr.or)(...r.map(s=>(0,rr.and)(v3(e,t,s,n.ownProperties),(0,rr._)`${i} = ${s}`)))}Jt.checkMissingProp=P$e;function A$e(e,t){e.setParams({missingProperty:t},!0),e.error()}Jt.reportMissingProp=A$e;function sne(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,rr._)`Object.prototype.hasOwnProperty`})}Jt.hasPropFunc=sne;function y3(e,t,n){return(0,rr._)`${sne(e)}.call(${t}, ${n})`}Jt.isOwnProperty=y3;function O$e(e,t,n,r){const i=(0,rr._)`${t}${(0,rr.getProperty)(n)} !== undefined`;return r?(0,rr._)`${i} && ${y3(e,t,n)}`:i}Jt.propertyInData=O$e;function v3(e,t,n,r){const i=(0,rr._)`${t}${(0,rr.getProperty)(n)} === undefined`;return r?(0,rr.or)(i,(0,rr.not)(y3(e,t,n))):i}Jt.noPropertyInData=v3;function one(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Jt.allSchemaProperties=one;function R$e(e,t){return one(t).filter(n=>!(0,g3.alwaysValidSchema)(e,t[n]))}Jt.schemaProperties=R$e;function N$e({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,u,l){const c=l?(0,rr._)`${e}, ${t}, ${r}${i}`:t,f=[[Ac.default.instancePath,(0,rr.strConcat)(Ac.default.instancePath,s)],[Ac.default.parentData,o.parentData],[Ac.default.parentDataProperty,o.parentDataProperty],[Ac.default.rootData,Ac.default.rootData]];o.opts.dynamicRef&&f.push([Ac.default.dynamicAnchors,Ac.default.dynamicAnchors]);const d=(0,rr._)`${c}, ${n.object(...f)}`;return u!==rr.nil?(0,rr._)`${a}.call(${u}, ${d})`:(0,rr._)`${a}(${d})`}Jt.callValidateCode=N$e;const k$e=(0,rr._)`new RegExp`;function D$e({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,rr._)`${i.code==="new RegExp"?k$e:(0,I$e.useFunc)(e,i)}(${n}, ${r})`})}Jt.usePattern=D$e;function $$e(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const u=t.const("len",(0,rr._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:g3.Type.Num},s),t.if((0,rr.not)(s),a)})}}Jt.validateArray=$$e;function L$e(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,g3.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,rr._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,rr.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Jt.validateUnion=L$e;Object.defineProperty($u,"__esModule",{value:!0});$u.validateKeywordUsage=$u.validSchemaType=$u.funcKeywordCode=$u.macroKeywordCode=void 0;const ys=Zt,Cd=yl,M$e=Jt,F$e=z_;function j$e(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),u=ane(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=n.name("valid");e.subschema({schema:a,schemaPath:ys.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}$u.macroKeywordCode=j$e;function B$e(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=e;V$e(u,t);const l=!a&&t.compile?t.compile.call(u.self,s,o,u):t.validate,c=ane(r,i,l),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)m(),t.modifying&&DU(e),y(()=>e.error());else{const g=t.async?h():p();t.modifying&&DU(e),y(()=>U$e(e,g))}}function h(){const g=r.let("ruleErrs",null);return r.try(()=>m((0,ys._)`await `),v=>r.assign(f,!1).if((0,ys._)`${v} instanceof ${u.ValidationError}`,()=>r.assign(g,(0,ys._)`${v}.errors`),()=>r.throw(v))),g}function p(){const g=(0,ys._)`${c}.errors`;return r.assign(g,null),m(ys.nil),g}function m(g=t.async?(0,ys._)`await `:ys.nil){const v=u.opts.passContext?Cd.default.this:Cd.default.self,_=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,ys._)`${g}${(0,M$e.callValidateCode)(e,c,v,_)}`,t.modifying)}function y(g){var v;r.if((0,ys.not)((v=t.valid)!==null&&v!==void 0?v:f),g)}}$u.funcKeywordCode=B$e;function DU(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,ys._)`${r.parentData}[${r.parentDataProperty}]`))}function U$e(e,t){const{gen:n}=e;n.if((0,ys._)`Array.isArray(${t})`,()=>{n.assign(Cd.default.vErrors,(0,ys._)`${Cd.default.vErrors} === null ? ${t} : ${Cd.default.vErrors}.concat(${t})`).assign(Cd.default.errors,(0,ys._)`${Cd.default.vErrors}.length`),(0,F$e.extendErrors)(e)},()=>e.error())}function V$e({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function ane(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,ys.stringify)(n)})}function z$e(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}$u.validSchemaType=z$e;function H$e({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(u);else throw new Error(u)}}$u.validateKeywordUsage=H$e;var wf={};Object.defineProperty(wf,"__esModule",{value:!0});wf.extendSubschemaMode=wf.extendSubschemaData=wf.getSubschema=void 0;const Tu=Zt,une=En;function W$e(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,Tu._)`${e.schemaPath}${(0,Tu.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,Tu._)`${e.schemaPath}${(0,Tu.getProperty)(t)}${(0,Tu.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,une.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}wf.getSubschema=W$e;function q$e(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:l,dataPathArr:c,opts:f}=t,d=a.let("data",(0,Tu._)`${t.data}${(0,Tu.getProperty)(n)}`,!0);u(d),e.errorPath=(0,Tu.str)`${l}${(0,une.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Tu._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const l=i instanceof Tu.Name?i:a.let("data",i,!0);u(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}wf.extendSubschemaData=q$e;function G$e(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}wf.extendSubschemaMode=G$e;var ki={},_3=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const $U=su(_3);var lne={exports:{}},rf=lne.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};kw(t,r,i,e,"",e)};rf.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};rf.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};rf.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};rf.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function kw(e,t,n,r,i,s,o,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in rf.arrayKeywords)for(var d=0;d<f.length;d++)kw(e,t,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in rf.propsKeywords){if(f&&typeof f=="object")for(var h in f)kw(e,t,n,f[h],i+"/"+c+"/"+Y$e(h),s,i,c,r,h)}else(c in rf.keywords||e.allKeys&&!(c in rf.skipKeywords))&&kw(e,t,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,u,l)}}function Y$e(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var K$e=lne.exports;Object.defineProperty(ki,"__esModule",{value:!0});ki.getSchemaRefs=ki.resolveUrl=ki.normalizeId=ki._getFullPath=ki.getFullPath=ki.inlineRef=void 0;const Q$e=En,X$e=_3,J$e=K$e,Z$e=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function e3e(e,t=!0){return typeof e=="boolean"?!0:t===!0?!cN(e):t?cne(e)<=t:!1}ki.inlineRef=e3e;const t3e=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function cN(e){for(const t in e){if(t3e.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(cN)||typeof n=="object"&&cN(n))return!0}return!1}function cne(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!Z$e.has(n)&&(typeof e[n]=="object"&&(0,Q$e.eachItem)(e[n],r=>t+=cne(r)),t===1/0))return 1/0}return t}function fne(e,t="",n){n!==!1&&(t=sm(t));const r=e.parse(t);return dne(e,r)}ki.getFullPath=fne;function dne(e,t){return e.serialize(t).split("#")[0]+"#"}ki._getFullPath=dne;const n3e=/#\/?$/;function sm(e){return e?e.replace(n3e,""):""}ki.normalizeId=sm;function r3e(e,t,n){return n=sm(n),e.resolve(t,n)}ki.resolveUrl=r3e;const i3e=/^[a-z_][-a-z0-9._]*$/i;function s3e(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=sm(e[n]||t),s={"":i},o=fne(r,i,!1),a={},u=new Set;return J$e(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const m=o+d;let y=s[p];typeof f[n]=="string"&&(y=g.call(this,f[n])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),s[d]=y;function g(_){const S=this.opts.uriResolver.resolve;if(_=sm(y?S(y,_):_),u.has(_))throw c(_);u.add(_);let T=this.refs[_];return typeof T=="string"&&(T=this.refs[T]),typeof T=="object"?l(f,T.schema,_):_!==sm(m)&&(_[0]==="#"?(l(f,a[_],_),a[_]=f):this.refs[_]=m),_}function v(_){if(typeof _=="string"){if(!i3e.test(_))throw new Error(`invalid anchor "${_}"`);g.call(this,`#${_}`)}}}),a;function l(f,d,h){if(d!==void 0&&!X$e(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}ki.getSchemaRefs=s3e;Object.defineProperty(Ga,"__esModule",{value:!0});Ga.getData=Ga.KeywordCxt=Ga.validateFunctionCode=void 0;const hne=Wm,LU=H_,b3=Hl,AT=H_,o3e=lC,Py=$u,sO=wf,pt=Zt,Dt=yl,a3e=ki,Wl=En,T0=z_;function u3e(e){if(gne(e)&&(yne(e),mne(e))){f3e(e);return}pne(e,()=>(0,hne.topBoolOrEmptySchema)(e))}Ga.validateFunctionCode=u3e;function pne({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,pt._)`${Dt.default.data}, ${Dt.default.valCxt}`,r.$async,()=>{e.code((0,pt._)`"use strict"; ${MU(n,i)}`),c3e(e,i),e.code(s)}):e.func(t,(0,pt._)`${Dt.default.data}, ${l3e(i)}`,r.$async,()=>e.code(MU(n,i)).code(s))}function l3e(e){return(0,pt._)`{${Dt.default.instancePath}="", ${Dt.default.parentData}, ${Dt.default.parentDataProperty}, ${Dt.default.rootData}=${Dt.default.data}${e.dynamicRef?(0,pt._)`, ${Dt.default.dynamicAnchors}={}`:pt.nil}}={}`}function c3e(e,t){e.if(Dt.default.valCxt,()=>{e.var(Dt.default.instancePath,(0,pt._)`${Dt.default.valCxt}.${Dt.default.instancePath}`),e.var(Dt.default.parentData,(0,pt._)`${Dt.default.valCxt}.${Dt.default.parentData}`),e.var(Dt.default.parentDataProperty,(0,pt._)`${Dt.default.valCxt}.${Dt.default.parentDataProperty}`),e.var(Dt.default.rootData,(0,pt._)`${Dt.default.valCxt}.${Dt.default.rootData}`),t.dynamicRef&&e.var(Dt.default.dynamicAnchors,(0,pt._)`${Dt.default.valCxt}.${Dt.default.dynamicAnchors}`)},()=>{e.var(Dt.default.instancePath,(0,pt._)`""`),e.var(Dt.default.parentData,(0,pt._)`undefined`),e.var(Dt.default.parentDataProperty,(0,pt._)`undefined`),e.var(Dt.default.rootData,Dt.default.data),t.dynamicRef&&e.var(Dt.default.dynamicAnchors,(0,pt._)`{}`)})}function f3e(e){const{schema:t,opts:n,gen:r}=e;pne(e,()=>{n.$comment&&t.$comment&&_ne(e),g3e(e),r.let(Dt.default.vErrors,null),r.let(Dt.default.errors,0),n.unevaluated&&d3e(e),vne(e),_3e(e)})}function d3e(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,pt._)`${n}.evaluated`),t.if((0,pt._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,pt._)`${e.evaluated}.props`,(0,pt._)`undefined`)),t.if((0,pt._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,pt._)`${e.evaluated}.items`,(0,pt._)`undefined`))}function MU(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,pt._)`/*# sourceURL=${n} */`:pt.nil}function h3e(e,t){if(gne(e)&&(yne(e),mne(e))){p3e(e,t);return}(0,hne.boolOrEmptySchema)(e,t)}function mne({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function gne(e){return typeof e.schema!="boolean"}function p3e(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&_ne(e),y3e(e),v3e(e);const s=r.const("_errs",Dt.default.errors);vne(e,s),r.var(t,(0,pt._)`${s} === ${Dt.default.errors}`)}function yne(e){(0,Wl.checkUnknownRules)(e),m3e(e)}function vne(e,t){if(e.opts.jtd)return FU(e,[],!1,t);const n=(0,LU.getSchemaTypes)(e.schema),r=(0,LU.coerceAndCheckDataType)(e,n);FU(e,n,!r,t)}function m3e(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,Wl.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function g3e(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,Wl.checkStrictMode)(e,"default is ignored in the schema root")}function y3e(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,a3e.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function v3e(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function _ne({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,pt._)`${Dt.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,pt.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,pt._)`${Dt.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function _3e(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,pt._)`${Dt.default.errors} === 0`,()=>t.return(Dt.default.data),()=>t.throw((0,pt._)`new ${i}(${Dt.default.vErrors})`)):(t.assign((0,pt._)`${r}.errors`,Dt.default.vErrors),s.unevaluated&&b3e(e),t.return((0,pt._)`${Dt.default.errors} === 0`))}function b3e({gen:e,evaluated:t,props:n,items:r}){n instanceof pt.Name&&e.assign((0,pt._)`${t}.props`,n),r instanceof pt.Name&&e.assign((0,pt._)`${t}.items`,r)}function FU(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:u,self:l}=e,{RULES:c}=l;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,Wl.schemaHasRulesButRef)(s,c))){i.block(()=>Ene(e,"$ref",c.all.$ref.definition));return}u.jtd||w3e(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,b3.shouldUseGroup)(s,d)&&(d.type?(i.if((0,AT.checkDataType)(d.type,o,u.strictNumbers)),jU(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,AT.reportTypeError)(e)),i.endIf()):jU(e,d),a||i.if((0,pt._)`${Dt.default.errors} === ${r||0}`))}}function jU(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,o3e.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,b3.shouldUseRule)(r,s)&&Ene(e,s.keyword,s.definition,t.type)})}function w3e(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(E3e(e,t),e.opts.allowUnionTypes||S3e(e,t),T3e(e,e.dataTypes))}function E3e(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{bne(e.dataTypes,n)||w3(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),I3e(e,t)}}function S3e(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&w3(e,"use allowUnionTypes to allow union type keyword")}function T3e(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,b3.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>x3e(t,o))&&w3(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function x3e(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function bne(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function I3e(e,t){const n=[];for(const r of e.dataTypes)bne(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function w3(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,Wl.checkStrictMode)(e,t,e.opts.strictTypes)}class wne{constructor(t,n,r){if((0,Py.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Wl.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",Sne(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Py.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Dt.default.errors))}result(t,n,r){this.failResult((0,pt.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,pt.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,pt._)`${n} !== undefined && (${(0,pt.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?T0.reportExtraError:T0.reportError)(this,this.def.error,n)}$dataError(){(0,T0.reportError)(this,this.def.$dataError||T0.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,T0.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=pt.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=pt.nil,n=pt.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,pt.or)((0,pt._)`${i} === undefined`,n)),t!==pt.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==pt.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,pt.or)(o(),a());function o(){if(r.length){if(!(n instanceof pt.Name))throw new Error("ajv implementation error");const u=Array.isArray(r)?r:[r];return(0,pt._)`${(0,AT.checkDataTypes)(u,n,s.opts.strictNumbers,AT.DataType.Wrong)}`}return pt.nil}function a(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,pt._)`!${u}(${n})`}return pt.nil}}subschema(t,n){const r=(0,sO.getSubschema)(this.it,t);(0,sO.extendSubschemaData)(r,this.it,t),(0,sO.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return h3e(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=Wl.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=Wl.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,pt.Name)),!0}}Ga.KeywordCxt=wne;function Ene(e,t,n,r){const i=new wne(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,Py.funcKeywordCode)(i,n):"macro"in n?(0,Py.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,Py.funcKeywordCode)(i,n)}const C3e=/^\/(?:[^~]|~0|~1)*$/,P3e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Sne(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return Dt.default.rootData;if(e[0]==="/"){if(!C3e.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=Dt.default.rootData}else{const l=P3e.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+l[1];if(i=l[2],i==="#"){if(c>=t)throw new Error(u("property/index",c));return r[t-c]}if(c>t)throw new Error(u("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,pt._)`${s}${(0,pt.getProperty)((0,Wl.unescapeJsonPointer)(l))}`,o=(0,pt._)`${o} && ${s}`);return o;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}Ga.getData=Sne;var W_={};Object.defineProperty(W_,"__esModule",{value:!0});class A3e extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}W_.default=A3e;var q_={};Object.defineProperty(q_,"__esModule",{value:!0});const oO=ki;class O3e extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,oO.resolveUrl)(t,n,r),this.missingSchema=(0,oO.normalizeId)((0,oO.getFullPath)(t,this.missingRef))}}q_.default=O3e;var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.resolveSchema=Gs.getCompilingSchema=Gs.resolveRef=Gs.compileSchema=Gs.SchemaEnv=void 0;const Ia=Zt,R3e=W_,hd=yl,Fa=ki,BU=En,N3e=Ga;class cC{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,Fa.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Gs.SchemaEnv=cC;function E3(e){const t=Tne.call(this,e);if(t)return t;const n=(0,Fa.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new Ia.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:R3e.default,code:(0,Ia._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const l={gen:o,allErrors:this.opts.allErrors,data:hd.default.data,parentData:hd.default.parentData,parentDataProperty:hd.default.parentDataProperty,dataNames:[hd.default.data],dataPathArr:[Ia.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ia.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:Ia.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ia._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,N3e.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(hd.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${hd.default.self}`,`${hd.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:m}=l;h.evaluated={props:p instanceof Ia.Name?void 0:p,items:m instanceof Ia.Name?void 0:m,dynamicProps:p instanceof Ia.Name,dynamicItems:m instanceof Ia.Name},h.source&&(h.source.evaluated=(0,Ia.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Gs.compileSchema=E3;function k3e(e,t,n){var r;n=(0,Fa.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=L3e.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new cC({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=D3e.call(this,s)}Gs.resolveRef=k3e;function D3e(e){return(0,Fa.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:E3.call(this,e)}function Tne(e){for(const t of this._compilations)if($3e(t,e))return t}Gs.getCompilingSchema=Tne;function $3e(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function L3e(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||fC.call(this,e,t)}function fC(e,t){const n=this.opts.uriResolver.parse(t),r=(0,Fa._getFullPath)(this.opts.uriResolver,n);let i=(0,Fa.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return aO.call(this,n,e);const s=(0,Fa.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=fC.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:aO.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||E3.call(this,o),s===(0,Fa.normalizeId)(t)){const{schema:a}=o,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,Fa.resolveUrl)(this.opts.uriResolver,i,l)),new cC({schema:a,schemaId:u,root:e,baseId:i})}return aO.call(this,n,o)}}Gs.resolveSchema=fC;const M3e=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function aO(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,BU.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!M3e.has(a)&&l&&(t=(0,Fa.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,BU.schemaHasRulesButRef)(n,this.RULES)){const a=(0,Fa.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=fC.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new cC({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const F3e="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",j3e="Meta-schema for $data reference (JSON AnySchema extension proposal)",B3e="object",U3e=["$data"],V3e={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},z3e=!1,H3e={$id:F3e,description:j3e,type:B3e,required:U3e,properties:V3e,additionalProperties:z3e};var S3={},fN={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(So,function(n){function r(){for(var Z=arguments.length,z=Array(Z),ee=0;ee<Z;ee++)z[ee]=arguments[ee];if(z.length>1){z[0]=z[0].slice(0,-1);for(var we=z.length-1,Ee=1;Ee<we;++Ee)z[Ee]=z[Ee].slice(1,-1);return z[we]=z[we].slice(1),z.join("")}else return z[0]}function i(Z){return"(?:"+Z+")"}function s(Z){return Z===void 0?"undefined":Z===null?"null":Object.prototype.toString.call(Z).split(" ").pop().split("]").shift().toLowerCase()}function o(Z){return Z.toUpperCase()}function a(Z){return Z!=null?Z instanceof Array?Z:typeof Z.length!="number"||Z.split||Z.setInterval||Z.call?[Z]:Array.prototype.slice.call(Z):[]}function u(Z,z){var ee=Z;if(z)for(var we in z)ee[we]=z[we];return ee}function l(Z){var z="[A-Za-z]",ee="[0-9]",we=r(ee,"[A-Fa-f]"),Ee=i(i("%[EFef]"+we+"%"+we+we+"%"+we+we)+"|"+i("%[89A-Fa-f]"+we+"%"+we+we)+"|"+i("%"+we+we)),it="[\\:\\/\\?\\#\\[\\]\\@]",ot="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ke=r(it,ot),ut=Z?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ut=Z?"[\\uE000-\\uF8FF]":"[]",qe=r(z,ee,"[\\-\\.\\_\\~]",ut);i(z+r(z,ee,"[\\+\\-\\.]")+"*"),i(i(Ee+"|"+r(qe,ot,"[\\:]"))+"*");var en=i(i("25[0-5]")+"|"+i("2[0-4]"+ee)+"|"+i("1"+ee+ee)+"|"+i("0?[1-9]"+ee)+"|0?0?"+ee),tn=i(en+"\\."+en+"\\."+en+"\\."+en),bt=i(we+"{1,4}"),Dn=i(i(bt+"\\:"+bt)+"|"+tn),zn=i(i(bt+"\\:")+"{6}"+Dn),Pt=i("\\:\\:"+i(bt+"\\:")+"{5}"+Dn),Er=i(i(bt)+"?\\:\\:"+i(bt+"\\:")+"{4}"+Dn),Sr=i(i(i(bt+"\\:")+"{0,1}"+bt)+"?\\:\\:"+i(bt+"\\:")+"{3}"+Dn),Dr=i(i(i(bt+"\\:")+"{0,2}"+bt)+"?\\:\\:"+i(bt+"\\:")+"{2}"+Dn),hs=i(i(i(bt+"\\:")+"{0,3}"+bt)+"?\\:\\:"+bt+"\\:"+Dn),Ti=i(i(i(bt+"\\:")+"{0,4}"+bt)+"?\\:\\:"+Dn),Vr=i(i(i(bt+"\\:")+"{0,5}"+bt)+"?\\:\\:"+bt),Hi=i(i(i(bt+"\\:")+"{0,6}"+bt)+"?\\:\\:"),Wi=i([zn,Pt,Er,Sr,Dr,hs,Ti,Vr,Hi].join("|")),et=i(i(qe+"|"+Ee)+"+");i("[vV]"+we+"+\\."+r(qe,ot,"[\\:]")+"+"),i(i(Ee+"|"+r(qe,ot))+"*");var nn=i(Ee+"|"+r(qe,ot,"[\\:\\@]"));return i(i(Ee+"|"+r(qe,ot,"[\\@]"))+"+"),i(i(nn+"|"+r("[\\/\\?]",Ut))+"*"),{NOT_SCHEME:new RegExp(r("[^]",z,ee,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",qe,ot),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",qe,ot),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",qe,ot),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",qe,ot),"g"),NOT_QUERY:new RegExp(r("[^\\%]",qe,ot,"[\\:\\@\\/\\?]",Ut),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",qe,ot,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",qe,ot),"g"),UNRESERVED:new RegExp(qe,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",qe,ke),"g"),PCT_ENCODED:new RegExp(Ee,"g"),IPV4ADDRESS:new RegExp("^("+tn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Wi+")"+i(i("\\%25|\\%(?!"+we+"{2})")+"("+et+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function Z(z,ee){var we=[],Ee=!0,it=!1,ot=void 0;try{for(var ke=z[Symbol.iterator](),ut;!(Ee=(ut=ke.next()).done)&&(we.push(ut.value),!(ee&&we.length===ee));Ee=!0);}catch(Ut){it=!0,ot=Ut}finally{try{!Ee&&ke.return&&ke.return()}finally{if(it)throw ot}}return we}return function(z,ee){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return Z(z,ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(Z){if(Array.isArray(Z)){for(var z=0,ee=Array(Z.length);z<Z.length;z++)ee[z]=Z[z];return ee}else return Array.from(Z)},p=2147483647,m=36,y=1,g=26,v=38,_=700,S=72,T=128,E="-",x=/^xn--/,P=/[^\0-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=m-y,V=Math.floor,oe=String.fromCharCode;function U(Z){throw new RangeError(L[Z])}function te(Z,z){for(var ee=[],we=Z.length;we--;)ee[we]=z(Z[we]);return ee}function ue(Z,z){var ee=Z.split("@"),we="";ee.length>1&&(we=ee[0]+"@",Z=ee[1]),Z=Z.replace(M,".");var Ee=Z.split("."),it=te(Ee,z).join(".");return we+it}function ne(Z){for(var z=[],ee=0,we=Z.length;ee<we;){var Ee=Z.charCodeAt(ee++);if(Ee>=55296&&Ee<=56319&&ee<we){var it=Z.charCodeAt(ee++);(it&64512)==56320?z.push(((Ee&1023)<<10)+(it&1023)+65536):(z.push(Ee),ee--)}else z.push(Ee)}return z}var q=function(z){return String.fromCodePoint.apply(String,h(z))},fe=function(z){return z-48<10?z-22:z-65<26?z-65:z-97<26?z-97:m},A=function(z,ee){return z+22+75*(z<26)-((ee!=0)<<5)},W=function(z,ee,we){var Ee=0;for(z=we?V(z/_):z>>1,z+=V(z/ee);z>F*g>>1;Ee+=m)z=V(z/F);return V(Ee+(F+1)*z/(z+v))},Y=function(z){var ee=[],we=z.length,Ee=0,it=T,ot=S,ke=z.lastIndexOf(E);ke<0&&(ke=0);for(var ut=0;ut<ke;++ut)z.charCodeAt(ut)>=128&&U("not-basic"),ee.push(z.charCodeAt(ut));for(var Ut=ke>0?ke+1:0;Ut<we;){for(var qe=Ee,en=1,tn=m;;tn+=m){Ut>=we&&U("invalid-input");var bt=fe(z.charCodeAt(Ut++));(bt>=m||bt>V((p-Ee)/en))&&U("overflow"),Ee+=bt*en;var Dn=tn<=ot?y:tn>=ot+g?g:tn-ot;if(bt<Dn)break;var zn=m-Dn;en>V(p/zn)&&U("overflow"),en*=zn}var Pt=ee.length+1;ot=W(Ee-qe,Pt,qe==0),V(Ee/Pt)>p-it&&U("overflow"),it+=V(Ee/Pt),Ee%=Pt,ee.splice(Ee++,0,it)}return String.fromCodePoint.apply(String,ee)},C=function(z){var ee=[];z=ne(z);var we=z.length,Ee=T,it=0,ot=S,ke=!0,ut=!1,Ut=void 0;try{for(var qe=z[Symbol.iterator](),en;!(ke=(en=qe.next()).done);ke=!0){var tn=en.value;tn<128&&ee.push(oe(tn))}}catch(Ce){ut=!0,Ut=Ce}finally{try{!ke&&qe.return&&qe.return()}finally{if(ut)throw Ut}}var bt=ee.length,Dn=bt;for(bt&&ee.push(E);Dn<we;){var zn=p,Pt=!0,Er=!1,Sr=void 0;try{for(var Dr=z[Symbol.iterator](),hs;!(Pt=(hs=Dr.next()).done);Pt=!0){var Ti=hs.value;Ti>=Ee&&Ti<zn&&(zn=Ti)}}catch(Ce){Er=!0,Sr=Ce}finally{try{!Pt&&Dr.return&&Dr.return()}finally{if(Er)throw Sr}}var Vr=Dn+1;zn-Ee>V((p-it)/Vr)&&U("overflow"),it+=(zn-Ee)*Vr,Ee=zn;var Hi=!0,Wi=!1,et=void 0;try{for(var nn=z[Symbol.iterator](),qi;!(Hi=(qi=nn.next()).done);Hi=!0){var N=qi.value;if(N<Ee&&++it>p&&U("overflow"),N==Ee){for(var J=it,j=m;;j+=m){var re=j<=ot?y:j>=ot+g?g:j-ot;if(J<re)break;var ce=J-re,ie=m-re;ee.push(oe(A(re+ce%ie,0))),J=V(ce/ie)}ee.push(oe(A(J,0))),ot=W(it,Vr,Dn==bt),it=0,++Dn}}}catch(Ce){Wi=!0,et=Ce}finally{try{!Hi&&nn.return&&nn.return()}finally{if(Wi)throw et}}++it,++Ee}return ee.join("")},O=function(z){return ue(z,function(ee){return x.test(ee)?Y(ee.slice(4).toLowerCase()):ee})},k=function(z){return ue(z,function(ee){return P.test(ee)?"xn--"+C(ee):ee})},G={version:"2.1.0",ucs2:{decode:ne,encode:q},decode:Y,encode:C,toASCII:k,toUnicode:O},de={};function he(Z){var z=Z.charCodeAt(0),ee=void 0;return z<16?ee="%0"+z.toString(16).toUpperCase():z<128?ee="%"+z.toString(16).toUpperCase():z<2048?ee="%"+(z>>6|192).toString(16).toUpperCase()+"%"+(z&63|128).toString(16).toUpperCase():ee="%"+(z>>12|224).toString(16).toUpperCase()+"%"+(z>>6&63|128).toString(16).toUpperCase()+"%"+(z&63|128).toString(16).toUpperCase(),ee}function ge(Z){for(var z="",ee=0,we=Z.length;ee<we;){var Ee=parseInt(Z.substr(ee+1,2),16);if(Ee<128)z+=String.fromCharCode(Ee),ee+=3;else if(Ee>=194&&Ee<224){if(we-ee>=6){var it=parseInt(Z.substr(ee+4,2),16);z+=String.fromCharCode((Ee&31)<<6|it&63)}else z+=Z.substr(ee,6);ee+=6}else if(Ee>=224){if(we-ee>=9){var ot=parseInt(Z.substr(ee+4,2),16),ke=parseInt(Z.substr(ee+7,2),16);z+=String.fromCharCode((Ee&15)<<12|(ot&63)<<6|ke&63)}else z+=Z.substr(ee,9);ee+=9}else z+=Z.substr(ee,3),ee+=3}return z}function Te(Z,z){function ee(we){var Ee=ge(we);return Ee.match(z.UNRESERVED)?Ee:we}return Z.scheme&&(Z.scheme=String(Z.scheme).replace(z.PCT_ENCODED,ee).toLowerCase().replace(z.NOT_SCHEME,"")),Z.userinfo!==void 0&&(Z.userinfo=String(Z.userinfo).replace(z.PCT_ENCODED,ee).replace(z.NOT_USERINFO,he).replace(z.PCT_ENCODED,o)),Z.host!==void 0&&(Z.host=String(Z.host).replace(z.PCT_ENCODED,ee).toLowerCase().replace(z.NOT_HOST,he).replace(z.PCT_ENCODED,o)),Z.path!==void 0&&(Z.path=String(Z.path).replace(z.PCT_ENCODED,ee).replace(Z.scheme?z.NOT_PATH:z.NOT_PATH_NOSCHEME,he).replace(z.PCT_ENCODED,o)),Z.query!==void 0&&(Z.query=String(Z.query).replace(z.PCT_ENCODED,ee).replace(z.NOT_QUERY,he).replace(z.PCT_ENCODED,o)),Z.fragment!==void 0&&(Z.fragment=String(Z.fragment).replace(z.PCT_ENCODED,ee).replace(z.NOT_FRAGMENT,he).replace(z.PCT_ENCODED,o)),Z}function Pe(Z){return Z.replace(/^0*(.*)/,"$1")||"0"}function Se(Z,z){var ee=Z.match(z.IPV4ADDRESS)||[],we=d(ee,2),Ee=we[1];return Ee?Ee.split(".").map(Pe).join("."):Z}function st(Z,z){var ee=Z.match(z.IPV6ADDRESS)||[],we=d(ee,3),Ee=we[1],it=we[2];if(Ee){for(var ot=Ee.toLowerCase().split("::").reverse(),ke=d(ot,2),ut=ke[0],Ut=ke[1],qe=Ut?Ut.split(":").map(Pe):[],en=ut.split(":").map(Pe),tn=z.IPV4ADDRESS.test(en[en.length-1]),bt=tn?7:8,Dn=en.length-bt,zn=Array(bt),Pt=0;Pt<bt;++Pt)zn[Pt]=qe[Pt]||en[Dn+Pt]||"";tn&&(zn[bt-1]=Se(zn[bt-1],z));var Er=zn.reduce(function(Vr,Hi,Wi){if(!Hi||Hi==="0"){var et=Vr[Vr.length-1];et&&et.index+et.length===Wi?et.length++:Vr.push({index:Wi,length:1})}return Vr},[]),Sr=Er.sort(function(Vr,Hi){return Hi.length-Vr.length})[0],Dr=void 0;if(Sr&&Sr.length>1){var hs=zn.slice(0,Sr.index),Ti=zn.slice(Sr.index+Sr.length);Dr=hs.join(":")+"::"+Ti.join(":")}else Dr=zn.join(":");return it&&(Dr+="%"+it),Dr}else return Z}var Je=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,vt="".match(/(){0}/)[1]===void 0;function Ve(Z){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee={},we=z.iri!==!1?f:c;z.reference==="suffix"&&(Z=(z.scheme?z.scheme+":":"")+"//"+Z);var Ee=Z.match(Je);if(Ee){vt?(ee.scheme=Ee[1],ee.userinfo=Ee[3],ee.host=Ee[4],ee.port=parseInt(Ee[5],10),ee.path=Ee[6]||"",ee.query=Ee[7],ee.fragment=Ee[8],isNaN(ee.port)&&(ee.port=Ee[5])):(ee.scheme=Ee[1]||void 0,ee.userinfo=Z.indexOf("@")!==-1?Ee[3]:void 0,ee.host=Z.indexOf("//")!==-1?Ee[4]:void 0,ee.port=parseInt(Ee[5],10),ee.path=Ee[6]||"",ee.query=Z.indexOf("?")!==-1?Ee[7]:void 0,ee.fragment=Z.indexOf("#")!==-1?Ee[8]:void 0,isNaN(ee.port)&&(ee.port=Z.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Ee[4]:void 0)),ee.host&&(ee.host=st(Se(ee.host,we),we)),ee.scheme===void 0&&ee.userinfo===void 0&&ee.host===void 0&&ee.port===void 0&&!ee.path&&ee.query===void 0?ee.reference="same-document":ee.scheme===void 0?ee.reference="relative":ee.fragment===void 0?ee.reference="absolute":ee.reference="uri",z.reference&&z.reference!=="suffix"&&z.reference!==ee.reference&&(ee.error=ee.error||"URI is not a "+z.reference+" reference.");var it=de[(z.scheme||ee.scheme||"").toLowerCase()];if(!z.unicodeSupport&&(!it||!it.unicodeSupport)){if(ee.host&&(z.domainHost||it&&it.domainHost))try{ee.host=G.toASCII(ee.host.replace(we.PCT_ENCODED,ge).toLowerCase())}catch(ot){ee.error=ee.error||"Host's domain name can not be converted to ASCII via punycode: "+ot}Te(ee,c)}else Te(ee,we);it&&it.parse&&it.parse(ee,z)}else ee.error=ee.error||"URI can not be parsed.";return ee}function ct(Z,z){var ee=z.iri!==!1?f:c,we=[];return Z.userinfo!==void 0&&(we.push(Z.userinfo),we.push("@")),Z.host!==void 0&&we.push(st(Se(String(Z.host),ee),ee).replace(ee.IPV6ADDRESS,function(Ee,it,ot){return"["+it+(ot?"%25"+ot:"")+"]"})),(typeof Z.port=="number"||typeof Z.port=="string")&&(we.push(":"),we.push(String(Z.port))),we.length?we.join(""):void 0}var gt=/^\.\.?\//,rn=/^\/\.(\/|$)/,hn=/^\/\.\.(\/|$)/,ae=/^\/?(?:.|\n)*?(?=\/|$)/;function ye(Z){for(var z=[];Z.length;)if(Z.match(gt))Z=Z.replace(gt,"");else if(Z.match(rn))Z=Z.replace(rn,"/");else if(Z.match(hn))Z=Z.replace(hn,"/"),z.pop();else if(Z==="."||Z==="..")Z="";else{var ee=Z.match(ae);if(ee){var we=ee[0];Z=Z.slice(we.length),z.push(we)}else throw new Error("Unexpected dot segment condition")}return z.join("")}function ve(Z){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=z.iri?f:c,we=[],Ee=de[(z.scheme||Z.scheme||"").toLowerCase()];if(Ee&&Ee.serialize&&Ee.serialize(Z,z),Z.host&&!ee.IPV6ADDRESS.test(Z.host)){if(z.domainHost||Ee&&Ee.domainHost)try{Z.host=z.iri?G.toUnicode(Z.host):G.toASCII(Z.host.replace(ee.PCT_ENCODED,ge).toLowerCase())}catch(ke){Z.error=Z.error||"Host's domain name can not be converted to "+(z.iri?"Unicode":"ASCII")+" via punycode: "+ke}}Te(Z,ee),z.reference!=="suffix"&&Z.scheme&&(we.push(Z.scheme),we.push(":"));var it=ct(Z,z);if(it!==void 0&&(z.reference!=="suffix"&&we.push("//"),we.push(it),Z.path&&Z.path.charAt(0)!=="/"&&we.push("/")),Z.path!==void 0){var ot=Z.path;!z.absolutePath&&(!Ee||!Ee.absolutePath)&&(ot=ye(ot)),it===void 0&&(ot=ot.replace(/^\/\//,"/%2F")),we.push(ot)}return Z.query!==void 0&&(we.push("?"),we.push(Z.query)),Z.fragment!==void 0&&(we.push("#"),we.push(Z.fragment)),we.join("")}function se(Z,z){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},we=arguments[3],Ee={};return we||(Z=Ve(ve(Z,ee),ee),z=Ve(ve(z,ee),ee)),ee=ee||{},!ee.tolerant&&z.scheme?(Ee.scheme=z.scheme,Ee.userinfo=z.userinfo,Ee.host=z.host,Ee.port=z.port,Ee.path=ye(z.path||""),Ee.query=z.query):(z.userinfo!==void 0||z.host!==void 0||z.port!==void 0?(Ee.userinfo=z.userinfo,Ee.host=z.host,Ee.port=z.port,Ee.path=ye(z.path||""),Ee.query=z.query):(z.path?(z.path.charAt(0)==="/"?Ee.path=ye(z.path):((Z.userinfo!==void 0||Z.host!==void 0||Z.port!==void 0)&&!Z.path?Ee.path="/"+z.path:Z.path?Ee.path=Z.path.slice(0,Z.path.lastIndexOf("/")+1)+z.path:Ee.path=z.path,Ee.path=ye(Ee.path)),Ee.query=z.query):(Ee.path=Z.path,z.query!==void 0?Ee.query=z.query:Ee.query=Z.query),Ee.userinfo=Z.userinfo,Ee.host=Z.host,Ee.port=Z.port),Ee.scheme=Z.scheme),Ee.fragment=z.fragment,Ee}function be(Z,z,ee){var we=u({scheme:"null"},ee);return ve(se(Ve(Z,we),Ve(z,we),we,!0),we)}function $e(Z,z){return typeof Z=="string"?Z=ve(Ve(Z,z),z):s(Z)==="object"&&(Z=Ve(ve(Z,z),z)),Z}function X(Z,z,ee){return typeof Z=="string"?Z=ve(Ve(Z,ee),ee):s(Z)==="object"&&(Z=ve(Z,ee)),typeof z=="string"?z=ve(Ve(z,ee),ee):s(z)==="object"&&(z=ve(z,ee)),Z===z}function me(Z,z){return Z&&Z.toString().replace(!z||!z.iri?c.ESCAPE:f.ESCAPE,he)}function _e(Z,z){return Z&&Z.toString().replace(!z||!z.iri?c.PCT_ENCODED:f.PCT_ENCODED,ge)}var Oe={scheme:"http",domainHost:!0,parse:function(z,ee){return z.host||(z.error=z.error||"HTTP URIs must have a host."),z},serialize:function(z,ee){var we=String(z.scheme).toLowerCase()==="https";return(z.port===(we?443:80)||z.port==="")&&(z.port=void 0),z.path||(z.path="/"),z}},We={scheme:"https",domainHost:Oe.domainHost,parse:Oe.parse,serialize:Oe.serialize};function _t(Z){return typeof Z.secure=="boolean"?Z.secure:String(Z.scheme).toLowerCase()==="wss"}var Be={scheme:"ws",domainHost:!0,parse:function(z,ee){var we=z;return we.secure=_t(we),we.resourceName=(we.path||"/")+(we.query?"?"+we.query:""),we.path=void 0,we.query=void 0,we},serialize:function(z,ee){if((z.port===(_t(z)?443:80)||z.port==="")&&(z.port=void 0),typeof z.secure=="boolean"&&(z.scheme=z.secure?"wss":"ws",z.secure=void 0),z.resourceName){var we=z.resourceName.split("?"),Ee=d(we,2),it=Ee[0],ot=Ee[1];z.path=it&&it!=="/"?it:void 0,z.query=ot,z.resourceName=void 0}return z.fragment=void 0,z}},Qe={scheme:"wss",domainHost:Be.domainHost,parse:Be.parse,serialize:Be.serialize},Xe={},Ct="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ht="[0-9A-Fa-f]",Yn=i(i("%[EFef]"+ht+"%"+ht+ht+"%"+ht+ht)+"|"+i("%[89A-Fa-f]"+ht+"%"+ht+ht)+"|"+i("%"+ht+ht)),Qt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",vn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",li=r(vn,'[\\"\\\\]'),Os="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ci=new RegExp(Ct,"g"),kn=new RegExp(Yn,"g"),Ta=new RegExp(r("[^]",Qt,"[\\.]",'[\\"]',li),"g"),kr=new RegExp(r("[^]",Ct,Os),"g"),wr=kr;function Ln(Z){var z=ge(Z);return z.match(ci)?z:Z}var pn={scheme:"mailto",parse:function(z,ee){var we=z,Ee=we.to=we.path?we.path.split(","):[];if(we.path=void 0,we.query){for(var it=!1,ot={},ke=we.query.split("&"),ut=0,Ut=ke.length;ut<Ut;++ut){var qe=ke[ut].split("=");switch(qe[0]){case"to":for(var en=qe[1].split(","),tn=0,bt=en.length;tn<bt;++tn)Ee.push(en[tn]);break;case"subject":we.subject=_e(qe[1],ee);break;case"body":we.body=_e(qe[1],ee);break;default:it=!0,ot[_e(qe[0],ee)]=_e(qe[1],ee);break}}it&&(we.headers=ot)}we.query=void 0;for(var Dn=0,zn=Ee.length;Dn<zn;++Dn){var Pt=Ee[Dn].split("@");if(Pt[0]=_e(Pt[0]),ee.unicodeSupport)Pt[1]=_e(Pt[1],ee).toLowerCase();else try{Pt[1]=G.toASCII(_e(Pt[1],ee).toLowerCase())}catch(Er){we.error=we.error||"Email address's domain name can not be converted to ASCII via punycode: "+Er}Ee[Dn]=Pt.join("@")}return we},serialize:function(z,ee){var we=z,Ee=a(z.to);if(Ee){for(var it=0,ot=Ee.length;it<ot;++it){var ke=String(Ee[it]),ut=ke.lastIndexOf("@"),Ut=ke.slice(0,ut).replace(kn,Ln).replace(kn,o).replace(Ta,he),qe=ke.slice(ut+1);try{qe=ee.iri?G.toUnicode(qe):G.toASCII(_e(qe,ee).toLowerCase())}catch(Dn){we.error=we.error||"Email address's domain name can not be converted to "+(ee.iri?"Unicode":"ASCII")+" via punycode: "+Dn}Ee[it]=Ut+"@"+qe}we.path=Ee.join(",")}var en=z.headers=z.headers||{};z.subject&&(en.subject=z.subject),z.body&&(en.body=z.body);var tn=[];for(var bt in en)en[bt]!==Xe[bt]&&tn.push(bt.replace(kn,Ln).replace(kn,o).replace(kr,he)+"="+en[bt].replace(kn,Ln).replace(kn,o).replace(wr,he));return tn.length&&(we.query=tn.join("&")),we}},Qn=/^([^\:]+)\:(.*)/,ds={scheme:"urn",parse:function(z,ee){var we=z.path&&z.path.match(Qn),Ee=z;if(we){var it=ee.scheme||Ee.scheme||"urn",ot=we[1].toLowerCase(),ke=we[2],ut=it+":"+(ee.nid||ot),Ut=de[ut];Ee.nid=ot,Ee.nss=ke,Ee.path=void 0,Ut&&(Ee=Ut.parse(Ee,ee))}else Ee.error=Ee.error||"URN can not be parsed.";return Ee},serialize:function(z,ee){var we=ee.scheme||z.scheme||"urn",Ee=z.nid,it=we+":"+(ee.nid||Ee),ot=de[it];ot&&(z=ot.serialize(z,ee));var ke=z,ut=z.nss;return ke.path=(Ee||ee.nid)+":"+ut,ke}},Qr=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ur={scheme:"urn:uuid",parse:function(z,ee){var we=z;return we.uuid=we.nss,we.nss=void 0,!ee.tolerant&&(!we.uuid||!we.uuid.match(Qr))&&(we.error=we.error||"UUID is not valid."),we},serialize:function(z,ee){var we=z;return we.nss=(z.uuid||"").toLowerCase(),we}};de[Oe.scheme]=Oe,de[We.scheme]=We,de[Be.scheme]=Be,de[Qe.scheme]=Qe,de[pn.scheme]=pn,de[ds.scheme]=ds,de[Ur.scheme]=Ur,n.SCHEMES=de,n.pctEncChar=he,n.pctDecChars=ge,n.parse=Ve,n.removeDotSegments=ye,n.serialize=ve,n.resolveComponents=se,n.resolve=be,n.normalize=$e,n.equal=X,n.escapeComponent=me,n.unescapeComponent=_e,Object.defineProperty(n,"__esModule",{value:!0})})})(fN,fN.exports);var W3e=fN.exports;Object.defineProperty(S3,"__esModule",{value:!0});const xne=W3e;xne.code='require("ajv/dist/runtime/uri").default';S3.default=xne;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ga;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Zt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=W_,i=q_,s=ph,o=Gs,a=Zt,u=ki,l=H_,c=En,f=H3e,d=S3,h=(A,W)=>new RegExp(A,W);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function _(A){var W,Y,C,O,k,G,de,he,ge,Te,Pe,Se,st,Je,vt,Ve,ct,gt,rn,hn,ae,ye,ve,se,be;const $e=A.strict,X=(W=A.code)===null||W===void 0?void 0:W.optimize,me=X===!0||X===void 0?1:X||0,_e=(C=(Y=A.code)===null||Y===void 0?void 0:Y.regExp)!==null&&C!==void 0?C:h,Oe=(O=A.uriResolver)!==null&&O!==void 0?O:d.default;return{strictSchema:(G=(k=A.strictSchema)!==null&&k!==void 0?k:$e)!==null&&G!==void 0?G:!0,strictNumbers:(he=(de=A.strictNumbers)!==null&&de!==void 0?de:$e)!==null&&he!==void 0?he:!0,strictTypes:(Te=(ge=A.strictTypes)!==null&&ge!==void 0?ge:$e)!==null&&Te!==void 0?Te:"log",strictTuples:(Se=(Pe=A.strictTuples)!==null&&Pe!==void 0?Pe:$e)!==null&&Se!==void 0?Se:"log",strictRequired:(Je=(st=A.strictRequired)!==null&&st!==void 0?st:$e)!==null&&Je!==void 0?Je:!1,code:A.code?{...A.code,optimize:me,regExp:_e}:{optimize:me,regExp:_e},loopRequired:(vt=A.loopRequired)!==null&&vt!==void 0?vt:v,loopEnum:(Ve=A.loopEnum)!==null&&Ve!==void 0?Ve:v,meta:(ct=A.meta)!==null&&ct!==void 0?ct:!0,messages:(gt=A.messages)!==null&&gt!==void 0?gt:!0,inlineRefs:(rn=A.inlineRefs)!==null&&rn!==void 0?rn:!0,schemaId:(hn=A.schemaId)!==null&&hn!==void 0?hn:"$id",addUsedSchema:(ae=A.addUsedSchema)!==null&&ae!==void 0?ae:!0,validateSchema:(ye=A.validateSchema)!==null&&ye!==void 0?ye:!0,validateFormats:(ve=A.validateFormats)!==null&&ve!==void 0?ve:!0,unicodeRegExp:(se=A.unicodeRegExp)!==null&&se!==void 0?se:!0,int32range:(be=A.int32range)!==null&&be!==void 0?be:!0,uriResolver:Oe}}class S{constructor(W={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,W=this.opts={...W,..._(W)};const{es5:Y,lines:C}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:Y,lines:C}),this.logger=V(W.logger);const O=W.validateFormats;W.validateFormats=!1,this.RULES=(0,s.getRules)(),T.call(this,y,W,"NOT SUPPORTED"),T.call(this,g,W,"DEPRECATED","warn"),this._metaOpts=L.call(this),W.formats&&P.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),W.keywords&&M.call(this,W.keywords),typeof W.meta=="object"&&this.addMetaSchema(W.meta),x.call(this),W.validateFormats=O}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:W,meta:Y,schemaId:C}=this.opts;let O=f;C==="id"&&(O={...f},O.id=O.$id,delete O.$id),Y&&W&&this.addMetaSchema(O,O[C],!1)}defaultMeta(){const{meta:W,schemaId:Y}=this.opts;return this.opts.defaultMeta=typeof W=="object"?W[Y]||W:void 0}validate(W,Y){let C;if(typeof W=="string"){if(C=this.getSchema(W),!C)throw new Error(`no schema with key or ref "${W}"`)}else C=this.compile(W);const O=C(Y);return"$async"in C||(this.errors=C.errors),O}compile(W,Y){const C=this._addSchema(W,Y);return C.validate||this._compileSchemaEnv(C)}compileAsync(W,Y){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:C}=this.opts;return O.call(this,W,Y);async function O(Te,Pe){await k.call(this,Te.$schema);const Se=this._addSchema(Te,Pe);return Se.validate||G.call(this,Se)}async function k(Te){Te&&!this.getSchema(Te)&&await O.call(this,{$ref:Te},!0)}async function G(Te){try{return this._compileSchemaEnv(Te)}catch(Pe){if(!(Pe instanceof i.default))throw Pe;return de.call(this,Pe),await he.call(this,Pe.missingSchema),G.call(this,Te)}}function de({missingSchema:Te,missingRef:Pe}){if(this.refs[Te])throw new Error(`AnySchema ${Te} is loaded but ${Pe} cannot be resolved`)}async function he(Te){const Pe=await ge.call(this,Te);this.refs[Te]||await k.call(this,Pe.$schema),this.refs[Te]||this.addSchema(Pe,Te,Y)}async function ge(Te){const Pe=this._loading[Te];if(Pe)return Pe;try{return await(this._loading[Te]=C(Te))}finally{delete this._loading[Te]}}}addSchema(W,Y,C,O=this.opts.validateSchema){if(Array.isArray(W)){for(const G of W)this.addSchema(G,void 0,C,O);return this}let k;if(typeof W=="object"){const{schemaId:G}=this.opts;if(k=W[G],k!==void 0&&typeof k!="string")throw new Error(`schema ${G} must be string`)}return Y=(0,u.normalizeId)(Y||k),this._checkUnique(Y),this.schemas[Y]=this._addSchema(W,C,Y,O,!0),this}addMetaSchema(W,Y,C=this.opts.validateSchema){return this.addSchema(W,Y,!0,C),this}validateSchema(W,Y){if(typeof W=="boolean")return!0;let C;if(C=W.$schema,C!==void 0&&typeof C!="string")throw new Error("$schema must be a string");if(C=C||this.opts.defaultMeta||this.defaultMeta(),!C)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const O=this.validate(C,W);if(!O&&Y){const k="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(k);else throw new Error(k)}return O}getSchema(W){let Y;for(;typeof(Y=E.call(this,W))=="string";)W=Y;if(Y===void 0){const{schemaId:C}=this.opts,O=new o.SchemaEnv({schema:{},schemaId:C});if(Y=o.resolveSchema.call(this,O,W),!Y)return;this.refs[W]=Y}return Y.validate||this._compileSchemaEnv(Y)}removeSchema(W){if(W instanceof RegExp)return this._removeAllSchemas(this.schemas,W),this._removeAllSchemas(this.refs,W),this;switch(typeof W){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const Y=E.call(this,W);return typeof Y=="object"&&this._cache.delete(Y.schema),delete this.schemas[W],delete this.refs[W],this}case"object":{const Y=W;this._cache.delete(Y);let C=W[this.opts.schemaId];return C&&(C=(0,u.normalizeId)(C),delete this.schemas[C],delete this.refs[C]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(W){for(const Y of W)this.addKeyword(Y);return this}addKeyword(W,Y){let C;if(typeof W=="string")C=W,typeof Y=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),Y.keyword=C);else if(typeof W=="object"&&Y===void 0){if(Y=W,C=Y.keyword,Array.isArray(C)&&!C.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(U.call(this,C,Y),!Y)return(0,c.eachItem)(C,k=>te.call(this,k)),this;ne.call(this,Y);const O={...Y,type:(0,l.getJSONTypes)(Y.type),schemaType:(0,l.getJSONTypes)(Y.schemaType)};return(0,c.eachItem)(C,O.type.length===0?k=>te.call(this,k,O):k=>O.type.forEach(G=>te.call(this,k,O,G))),this}getKeyword(W){const Y=this.RULES.all[W];return typeof Y=="object"?Y.definition:!!Y}removeKeyword(W){const{RULES:Y}=this;delete Y.keywords[W],delete Y.all[W];for(const C of Y.rules){const O=C.rules.findIndex(k=>k.keyword===W);O>=0&&C.rules.splice(O,1)}return this}addFormat(W,Y){return typeof Y=="string"&&(Y=new RegExp(Y)),this.formats[W]=Y,this}errorsText(W=this.errors,{separator:Y=", ",dataVar:C="data"}={}){return!W||W.length===0?"No errors":W.map(O=>`${C}${O.instancePath} ${O.message}`).reduce((O,k)=>O+Y+k)}$dataMetaSchema(W,Y){const C=this.RULES.all;W=JSON.parse(JSON.stringify(W));for(const O of Y){const k=O.split("/").slice(1);let G=W;for(const de of k)G=G[de];for(const de in C){const he=C[de];if(typeof he!="object")continue;const{$data:ge}=he.definition,Te=G[de];ge&&Te&&(G[de]=fe(Te))}}return W}_removeAllSchemas(W,Y){for(const C in W){const O=W[C];(!Y||Y.test(C))&&(typeof O=="string"?delete W[C]:O&&!O.meta&&(this._cache.delete(O.schema),delete W[C]))}}_addSchema(W,Y,C,O=this.opts.validateSchema,k=this.opts.addUsedSchema){let G;const{schemaId:de}=this.opts;if(typeof W=="object")G=W[de];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof W!="boolean")throw new Error("schema must be object or boolean")}let he=this._cache.get(W);if(he!==void 0)return he;C=(0,u.normalizeId)(G||C);const ge=u.getSchemaRefs.call(this,W,C);return he=new o.SchemaEnv({schema:W,schemaId:de,meta:Y,baseId:C,localRefs:ge}),this._cache.set(he.schema,he),k&&!C.startsWith("#")&&(C&&this._checkUnique(C),this.refs[C]=he),O&&this.validateSchema(W,!0),he}_checkUnique(W){if(this.schemas[W]||this.refs[W])throw new Error(`schema with key or id "${W}" already exists`)}_compileSchemaEnv(W){if(W.meta?this._compileMetaSchema(W):o.compileSchema.call(this,W),!W.validate)throw new Error("ajv implementation error");return W.validate}_compileMetaSchema(W){const Y=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,W)}finally{this.opts=Y}}}e.default=S,S.ValidationError=r.default,S.MissingRefError=i.default;function T(A,W,Y,C="error"){for(const O in A){const k=O;k in W&&this.logger[C](`${Y}: option ${O}. ${A[k]}`)}}function E(A){return A=(0,u.normalizeId)(A),this.schemas[A]||this.refs[A]}function x(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const W in A)this.addSchema(A[W],W)}function P(){for(const A in this.opts.formats){const W=this.opts.formats[A];W&&this.addFormat(A,W)}}function M(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const W in A){const Y=A[W];Y.keyword||(Y.keyword=W),this.addKeyword(Y)}}function L(){const A={...this.opts};for(const W of p)delete A[W];return A}const F={log(){},warn(){},error(){}};function V(A){if(A===!1)return F;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const oe=/^[a-z_$][a-z0-9_$:-]*$/i;function U(A,W){const{RULES:Y}=this;if((0,c.eachItem)(A,C=>{if(Y.keywords[C])throw new Error(`Keyword ${C} is already defined`);if(!oe.test(C))throw new Error(`Keyword ${C} has invalid name`)}),!!W&&W.$data&&!("code"in W||"validate"in W))throw new Error('$data keyword must have "code" or "validate" function')}function te(A,W,Y){var C;const O=W==null?void 0:W.post;if(Y&&O)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:k}=this;let G=O?k.post:k.rules.find(({type:he})=>he===Y);if(G||(G={type:Y,rules:[]},k.rules.push(G)),k.keywords[A]=!0,!W)return;const de={keyword:A,definition:{...W,type:(0,l.getJSONTypes)(W.type),schemaType:(0,l.getJSONTypes)(W.schemaType)}};W.before?ue.call(this,G,de,W.before):G.rules.push(de),k.all[A]=de,(C=W.implements)===null||C===void 0||C.forEach(he=>this.addKeyword(he))}function ue(A,W,Y){const C=A.rules.findIndex(O=>O.keyword===Y);C>=0?A.rules.splice(C,0,W):(A.rules.push(W),this.logger.warn(`rule ${Y} is not defined`))}function ne(A){let{metaSchema:W}=A;W!==void 0&&(A.$data&&this.opts.$data&&(W=fe(W)),A.validateSchema=this.compile(W,!0))}const q={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function fe(A){return{anyOf:[A,q]}}})(tne);var T3={},x3={},I3={};Object.defineProperty(I3,"__esModule",{value:!0});const q3e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};I3.default=q3e;var mh={};Object.defineProperty(mh,"__esModule",{value:!0});mh.callRef=mh.getValidate=void 0;const G3e=q_,UU=Jt,Ms=Zt,sp=yl,VU=Gs,Tb=En,Y3e={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=r,{root:l}=s;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=VU.resolveRef.call(u,l,i,n);if(c===void 0)throw new G3e.default(r.opts.uriResolver,i,n);if(c instanceof VU.SchemaEnv)return d(c);return h(c);function f(){if(s===l)return Dw(e,o,s,s.$async);const p=t.scopeValue("root",{ref:l});return Dw(e,(0,Ms._)`${p}.validate`,l,l.$async)}function d(p){const m=Ine(e,p);Dw(e,m,p,p.$async)}function h(p){const m=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,Ms.stringify)(p)}:{ref:p}),y=t.name("valid"),g=e.subschema({schema:p,dataTypes:[],schemaPath:Ms.nil,topSchemaRef:m,errSchemaPath:n},y);e.mergeEvaluated(g),e.ok(y)}}};function Ine(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,Ms._)`${n.scopeValue("wrapper",{ref:t})}.validate`}mh.getValidate=Ine;function Dw(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:u}=s,l=u.passContext?sp.default.this:Ms.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,Ms._)`await ${(0,UU.callValidateCode)(e,t,l)}`),h(t),o||i.assign(p,!0)},m=>{i.if((0,Ms._)`!(${m} instanceof ${s.ValidationError})`,()=>i.throw(m)),d(m),o||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,UU.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const m=(0,Ms._)`${p}.errors`;i.assign(sp.default.vErrors,(0,Ms._)`${sp.default.vErrors} === null ? ${m} : ${sp.default.vErrors}.concat(${m})`),i.assign(sp.default.errors,(0,Ms._)`${sp.default.vErrors}.length`)}function h(p){var m;if(!s.opts.unevaluated)return;const y=(m=n==null?void 0:n.validate)===null||m===void 0?void 0:m.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=Tb.mergeEvaluated.props(i,y.props,s.props));else{const g=i.var("props",(0,Ms._)`${p}.evaluated.props`);s.props=Tb.mergeEvaluated.props(i,g,s.props,Ms.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=Tb.mergeEvaluated.items(i,y.items,s.items));else{const g=i.var("items",(0,Ms._)`${p}.evaluated.items`);s.items=Tb.mergeEvaluated.items(i,g,s.items,Ms.Name)}}}mh.callRef=Dw;mh.default=Y3e;Object.defineProperty(x3,"__esModule",{value:!0});const K3e=I3,Q3e=mh,X3e=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",K3e.default,Q3e.default];x3.default=X3e;var C3={},P3={};Object.defineProperty(P3,"__esModule",{value:!0});const OT=Zt,Oc=OT.operators,RT={maximum:{okStr:"<=",ok:Oc.LTE,fail:Oc.GT},minimum:{okStr:">=",ok:Oc.GTE,fail:Oc.LT},exclusiveMaximum:{okStr:"<",ok:Oc.LT,fail:Oc.GTE},exclusiveMinimum:{okStr:">",ok:Oc.GT,fail:Oc.LTE}},J3e={message:({keyword:e,schemaCode:t})=>(0,OT.str)`must be ${RT[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,OT._)`{comparison: ${RT[e].okStr}, limit: ${t}}`},Z3e={keyword:Object.keys(RT),type:"number",schemaType:"number",$data:!0,error:J3e,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,OT._)`${n} ${RT[t].fail} ${r} || isNaN(${n})`)}};P3.default=Z3e;var A3={};Object.defineProperty(A3,"__esModule",{value:!0});const Ay=Zt,e6e={message:({schemaCode:e})=>(0,Ay.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Ay._)`{multipleOf: ${e}}`},t6e={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:e6e,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Ay._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Ay._)`${o} !== parseInt(${o})`;e.fail$data((0,Ay._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};A3.default=t6e;var O3={},R3={};Object.defineProperty(R3,"__esModule",{value:!0});function Cne(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}R3.default=Cne;Cne.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(O3,"__esModule",{value:!0});const Pd=Zt,n6e=En,r6e=R3,i6e={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,Pd.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,Pd._)`{limit: ${e}}`},s6e={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i6e,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?Pd.operators.GT:Pd.operators.LT,o=i.opts.unicode===!1?(0,Pd._)`${n}.length`:(0,Pd._)`${(0,n6e.useFunc)(e.gen,r6e.default)}(${n})`;e.fail$data((0,Pd._)`${o} ${s} ${r}`)}};O3.default=s6e;var N3={};Object.defineProperty(N3,"__esModule",{value:!0});const o6e=Jt,NT=Zt,a6e={message:({schemaCode:e})=>(0,NT.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,NT._)`{pattern: ${e}}`},u6e={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:a6e,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,NT._)`(new RegExp(${i}, ${o}))`:(0,o6e.usePattern)(e,r);e.fail$data((0,NT._)`!${a}.test(${t})`)}};N3.default=u6e;var k3={};Object.defineProperty(k3,"__esModule",{value:!0});const Oy=Zt,l6e={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,Oy.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,Oy._)`{limit: ${e}}`},c6e={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:l6e,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?Oy.operators.GT:Oy.operators.LT;e.fail$data((0,Oy._)`Object.keys(${n}).length ${i} ${r}`)}};k3.default=c6e;var D3={};Object.defineProperty(D3,"__esModule",{value:!0});const x0=Jt,Ry=Zt,f6e=En,d6e={message:({params:{missingProperty:e}})=>(0,Ry.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ry._)`{missingProperty: ${e}}`},h6e={keyword:"required",type:"object",schemaType:"array",$data:!0,error:d6e,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const u=n.length>=a.loopRequired;if(o.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const m of n)if((h==null?void 0:h[m])===void 0&&!p.has(m)){const y=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${m}" is not defined at "${y}" (strictRequired)`;(0,f6e.checkStrictMode)(o,g,o.opts.strictRequired)}}function l(){if(u||s)e.block$data(Ry.nil,f);else for(const h of n)(0,x0.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||s){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,x0.checkMissingProp)(e,n,h)),(0,x0.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,x0.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,x0.propertyInData)(t,i,h,a.ownProperties)),t.if((0,Ry.not)(p),()=>{e.error(),t.break()})},Ry.nil)}}};D3.default=h6e;var $3={};Object.defineProperty($3,"__esModule",{value:!0});const Ny=Zt,p6e={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,Ny.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,Ny._)`{limit: ${e}}`},m6e={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:p6e,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?Ny.operators.GT:Ny.operators.LT;e.fail$data((0,Ny._)`${n}.length ${i} ${r}`)}};$3.default=m6e;var L3={},G_={};Object.defineProperty(G_,"__esModule",{value:!0});const Pne=_3;Pne.code='require("ajv/dist/runtime/equal").default';G_.default=Pne;Object.defineProperty(L3,"__esModule",{value:!0});const uO=H_,Pi=Zt,g6e=En,y6e=G_,v6e={message:({params:{i:e,j:t}})=>(0,Pi.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Pi._)`{i: ${e}, j: ${t}}`},_6e={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:v6e,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=s.items?(0,uO.getSchemaTypes)(s.items):[];e.block$data(u,c,(0,Pi._)`${o} === false`),e.ok(u);function c(){const p=t.let("i",(0,Pi._)`${n}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(u,!0),t.if((0,Pi._)`${p} > 1`,()=>(f()?d:h)(p,m))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,m){const y=t.name("item"),g=(0,uO.checkDataTypes)(l,y,a.opts.strictNumbers,uO.DataType.Wrong),v=t.const("indices",(0,Pi._)`{}`);t.for((0,Pi._)`;${p}--;`,()=>{t.let(y,(0,Pi._)`${n}[${p}]`),t.if(g,(0,Pi._)`continue`),l.length>1&&t.if((0,Pi._)`typeof ${y} == "string"`,(0,Pi._)`${y} += "_"`),t.if((0,Pi._)`typeof ${v}[${y}] == "number"`,()=>{t.assign(m,(0,Pi._)`${v}[${y}]`),e.error(),t.assign(u,!1).break()}).code((0,Pi._)`${v}[${y}] = ${p}`)})}function h(p,m){const y=(0,g6e.useFunc)(t,y6e.default),g=t.name("outer");t.label(g).for((0,Pi._)`;${p}--;`,()=>t.for((0,Pi._)`${m} = ${p}; ${m}--;`,()=>t.if((0,Pi._)`${y}(${n}[${p}], ${n}[${m}])`,()=>{e.error(),t.assign(u,!1).break(g)})))}}};L3.default=_6e;var M3={};Object.defineProperty(M3,"__esModule",{value:!0});const dN=Zt,b6e=En,w6e=G_,E6e={message:"must be equal to constant",params:({schemaCode:e})=>(0,dN._)`{allowedValue: ${e}}`},S6e={keyword:"const",$data:!0,error:E6e,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,dN._)`!${(0,b6e.useFunc)(t,w6e.default)}(${n}, ${i})`):e.fail((0,dN._)`${s} !== ${n}`)}};M3.default=S6e;var F3={};Object.defineProperty(F3,"__esModule",{value:!0});const ey=Zt,T6e=En,x6e=G_,I6e={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,ey._)`{allowedValues: ${e}}`},C6e={keyword:"enum",schemaType:"array",$data:!0,error:I6e,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let u;const l=()=>u??(u=(0,T6e.useFunc)(t,x6e.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,ey.or)(...i.map((p,m)=>d(h,m)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,ey._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const m=i[p];return typeof m=="object"&&m!==null?(0,ey._)`${l()}(${n}, ${h}[${p}])`:(0,ey._)`${n} === ${m}`}}};F3.default=C6e;Object.defineProperty(C3,"__esModule",{value:!0});const P6e=P3,A6e=A3,O6e=O3,R6e=N3,N6e=k3,k6e=D3,D6e=$3,$6e=L3,L6e=M3,M6e=F3,F6e=[P6e.default,A6e.default,O6e.default,R6e.default,N6e.default,k6e.default,D6e.default,$6e.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},L6e.default,M6e.default];C3.default=F6e;var j3={},Ig={};Object.defineProperty(Ig,"__esModule",{value:!0});Ig.validateAdditionalItems=void 0;const Ad=Zt,hN=En,j6e={message:({params:{len:e}})=>(0,Ad.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Ad._)`{limit: ${e}}`},B6e={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:j6e,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,hN.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ane(e,r)}};function Ane(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,Ad._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,Ad._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,hN.alwaysValidSchema)(o,r)){const l=n.var("valid",(0,Ad._)`${a} <= ${t.length}`);n.if((0,Ad.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:hN.Type.Num},l),o.allErrors||n.if((0,Ad.not)(l),()=>n.break())})}}Ig.validateAdditionalItems=Ane;Ig.default=B6e;var B3={},Cg={};Object.defineProperty(Cg,"__esModule",{value:!0});Cg.validateTuple=void 0;const zU=Zt,$w=En,U6e=Jt,V6e={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return One(e,"additionalItems",t);n.items=!0,!(0,$w.alwaysValidSchema)(n,t)&&e.ok((0,U6e.validateArray)(e))}};function One(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=$w.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,zU._)`${s}.length`);n.forEach((f,d)=>{(0,$w.alwaysValidSchema)(a,f)||(r.if((0,zU._)`${l} > ${d}`,()=>e.subschema({keyword:o,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,m=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!m){const y=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,$w.checkStrictMode)(a,y,d.strictTuples)}}}Cg.validateTuple=One;Cg.default=V6e;Object.defineProperty(B3,"__esModule",{value:!0});const z6e=Cg,H6e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,z6e.validateTuple)(e,"items")};B3.default=H6e;var U3={};Object.defineProperty(U3,"__esModule",{value:!0});const HU=Zt,W6e=En,q6e=Jt,G6e=Ig,Y6e={message:({params:{len:e}})=>(0,HU.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,HU._)`{limit: ${e}}`},K6e={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Y6e,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,W6e.alwaysValidSchema)(r,t)&&(i?(0,G6e.validateAdditionalItems)(e,i):e.ok((0,q6e.validateArray)(e)))}};U3.default=K6e;var V3={};Object.defineProperty(V3,"__esModule",{value:!0});const Go=Zt,xb=En,Q6e={message:({params:{min:e,max:t}})=>t===void 0?(0,Go.str)`must contain at least ${e} valid item(s)`:(0,Go.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Go._)`{minContains: ${e}}`:(0,Go._)`{minContains: ${e}, maxContains: ${t}}`},X6e={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Q6e,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:u,maxContains:l}=r;s.opts.next?(o=u===void 0?1:u,a=l):o=1;const c=t.const("len",(0,Go._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,xb.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,xb.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,xb.alwaysValidSchema)(s,n)){let m=(0,Go._)`${c} >= ${o}`;a!==void 0&&(m=(0,Go._)`${m} && ${c} <= ${a}`),e.pass(m);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,Go._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const m=t.name("_valid"),y=t.let("count",0);h(m,()=>t.if(m,()=>p(y)))}function h(m,y){t.forRange("i",0,c,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:xb.Type.Num,compositeRule:!0},m),y()})}function p(m){t.code((0,Go._)`${m}++`),a===void 0?t.if((0,Go._)`${m} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,Go._)`${m} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,Go._)`${m} >= ${o}`,()=>t.assign(f,!0)))}}};V3.default=X6e;var Rne={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Zt,n=En,r=Jt;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=s(u);o(u,l),a(u,c)}};function s({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function o(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const m=l[p];if(m.length===0)continue;const y=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),d.allErrors?c.if(y,()=>{for(const g of m)(0,r.checkReportMissingProp)(u,g)}):(c.if((0,t._)`${y} && (${(0,r.checkMissingProp)(u,m,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=o;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const m in l)(0,n.alwaysValidSchema)(h,l[m])||(c.if((0,r.propertyInData)(c,f,m,h.opts.ownProperties),()=>{const y=u.subschema({keyword:d,schemaProp:m},p);u.mergeValidEvaluated(y,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(Rne);var z3={};Object.defineProperty(z3,"__esModule",{value:!0});const Nne=Zt,J6e=En,Z6e={message:"property name must be valid",params:({params:e})=>(0,Nne._)`{propertyName: ${e.propertyName}}`},eLe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Z6e,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,J6e.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,Nne.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};z3.default=eLe;var dC={};Object.defineProperty(dC,"__esModule",{value:!0});const Ib=Jt,Pa=Zt,tLe=yl,Cb=En,nLe={message:"must NOT have additional properties",params:({params:e})=>(0,Pa._)`{additionalProperty: ${e.additionalProperty}}`},rLe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:nLe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,Cb.alwaysValidSchema)(o,n))return;const l=(0,Ib.allSchemaProperties)(r.properties),c=(0,Ib.allSchemaProperties)(r.patternProperties);f(),e.ok((0,Pa._)`${s} === ${tLe.default.errors}`);function f(){t.forIn("key",i,y=>{!l.length&&!c.length?p(y):t.if(d(y),()=>p(y))})}function d(y){let g;if(l.length>8){const v=(0,Cb.schemaRefOrVal)(o,r.properties,"properties");g=(0,Ib.isOwnProperty)(t,v,y)}else l.length?g=(0,Pa.or)(...l.map(v=>(0,Pa._)`${y} === ${v}`)):g=Pa.nil;return c.length&&(g=(0,Pa.or)(g,...c.map(v=>(0,Pa._)`${(0,Ib.usePattern)(e,v)}.test(${y})`))),(0,Pa.not)(g)}function h(y){t.code((0,Pa._)`delete ${i}[${y}]`)}function p(y){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(y);return}if(n===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,Cb.alwaysValidSchema)(o,n)){const g=t.name("valid");u.removeAdditional==="failing"?(m(y,g,!1),t.if((0,Pa.not)(g),()=>{e.reset(),h(y)})):(m(y,g),a||t.if((0,Pa.not)(g),()=>t.break()))}}function m(y,g,v){const _={keyword:"additionalProperties",dataProp:y,dataPropType:Cb.Type.Str};v===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(_,g)}}};dC.default=rLe;var H3={};Object.defineProperty(H3,"__esModule",{value:!0});const iLe=Ga,WU=Jt,lO=En,qU=dC,sLe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&qU.default.code(new iLe.KeywordCxt(s,qU.default,"additionalProperties"));const o=(0,WU.allSchemaProperties)(n);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=lO.mergeEvaluated.props(t,(0,lO.toHash)(o),s.props));const a=o.filter(f=>!(0,lO.alwaysValidSchema)(s,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,WU.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};H3.default=sLe;var W3={};Object.defineProperty(W3,"__esModule",{value:!0});const GU=Jt,Pb=Zt,YU=En,KU=En,oLe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,GU.allSchemaProperties)(n),u=a.filter(m=>(0,YU.alwaysValidSchema)(s,n[m]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof Pb.Name)&&(s.props=(0,KU.evaluatedPropsToName)(t,s.props));const{props:f}=s;d();function d(){for(const m of a)l&&h(m),s.allErrors?p(m):(t.var(c,!0),p(m),t.if(c))}function h(m){for(const y in l)new RegExp(m).test(y)&&(0,YU.checkStrictMode)(s,`property ${y} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",r,y=>{t.if((0,Pb._)`${(0,GU.usePattern)(e,m)}.test(${y})`,()=>{const g=u.includes(m);g||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:y,dataPropType:KU.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,Pb._)`${f}[${y}]`,!0):!g&&!s.allErrors&&t.if((0,Pb.not)(c),()=>t.break())})})}}};W3.default=oLe;var q3={};Object.defineProperty(q3,"__esModule",{value:!0});const aLe=En,uLe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,aLe.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};q3.default=uLe;var G3={};Object.defineProperty(G3,"__esModule",{value:!0});const lLe=Jt,cLe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:lLe.validateUnion,error:{message:"must match a schema in anyOf"}};G3.default=cLe;var Y3={};Object.defineProperty(Y3,"__esModule",{value:!0});const Lw=Zt,fLe=En,dLe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Lw._)`{passingSchemas: ${e.passing}}`},hLe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:dLe,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((c,f)=>{let d;(0,fLe.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,Lw._)`${u} && ${o}`).assign(o,!1).assign(a,(0,Lw._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(a,f),d&&e.mergeEvaluated(d,Lw.Name)})})}}};Y3.default=hLe;var K3={};Object.defineProperty(K3,"__esModule",{value:!0});const pLe=En,mLe={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,pLe.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};K3.default=mLe;var Q3={};Object.defineProperty(Q3,"__esModule",{value:!0});const kT=Zt,kne=En,gLe={message:({params:e})=>(0,kT.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,kT._)`{failingKeyword: ${e.ifClause}}`},yLe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:gLe,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,kne.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=QU(r,"then"),s=QU(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,kT.not)(a),l("else"));e.pass(o,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(d,o),f?t.assign(f,(0,kT._)`${c}`):e.setParams({ifClause:c})}}}};function QU(e,t){const n=e.schema[t];return n!==void 0&&!(0,kne.alwaysValidSchema)(e,n)}Q3.default=yLe;var X3={};Object.defineProperty(X3,"__esModule",{value:!0});const vLe=En,_Le={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,vLe.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};X3.default=_Le;Object.defineProperty(j3,"__esModule",{value:!0});const bLe=Ig,wLe=B3,ELe=Cg,SLe=U3,TLe=V3,xLe=Rne,ILe=z3,CLe=dC,PLe=H3,ALe=W3,OLe=q3,RLe=G3,NLe=Y3,kLe=K3,DLe=Q3,$Le=X3;function LLe(e=!1){const t=[OLe.default,RLe.default,NLe.default,kLe.default,DLe.default,$Le.default,ILe.default,CLe.default,xLe.default,PLe.default,ALe.default];return e?t.push(wLe.default,SLe.default):t.push(bLe.default,ELe.default),t.push(TLe.default),t}j3.default=LLe;var J3={},Z3={};Object.defineProperty(Z3,"__esModule",{value:!0});const Lr=Zt,MLe={message:({schemaCode:e})=>(0,Lr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Lr._)`{format: ${e}}`},FLe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:MLe,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),m=n.const("fDef",(0,Lr._)`${p}[${o}]`),y=n.let("fType"),g=n.let("format");n.if((0,Lr._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>n.assign(y,(0,Lr._)`${m}.type || "string"`).assign(g,(0,Lr._)`${m}.validate`),()=>n.assign(y,(0,Lr._)`"string"`).assign(g,m)),e.fail$data((0,Lr.or)(v(),_()));function v(){return u.strictSchema===!1?Lr.nil:(0,Lr._)`${o} && !${g}`}function _(){const S=c.$async?(0,Lr._)`(${m}.async ? await ${g}(${r}) : ${g}(${r}))`:(0,Lr._)`${g}(${r})`,T=(0,Lr._)`(typeof ${g} == "function" ? ${S} : ${g}.test(${r}))`;return(0,Lr._)`${g} && ${g} !== true && ${y} === ${t} && !${T}`}}function h(){const p=f.formats[s];if(!p){v();return}if(p===!0)return;const[m,y,g]=_(p);m===t&&e.pass(S());function v(){if(u.strictSchema===!1){f.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function _(T){const E=T instanceof RegExp?(0,Lr.regexpCode)(T):u.code.formats?(0,Lr._)`${u.code.formats}${(0,Lr.getProperty)(s)}`:void 0,x=n.scopeValue("formats",{key:s,ref:T,code:E});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,Lr._)`${x}.validate`]:["string",T,x]}function S(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Lr._)`await ${g}(${r})`}return typeof y=="function"?(0,Lr._)`${g}(${r})`:(0,Lr._)`${g}.test(${r})`}}}};Z3.default=FLe;Object.defineProperty(J3,"__esModule",{value:!0});const jLe=Z3,BLe=[jLe.default];J3.default=BLe;var qm={};Object.defineProperty(qm,"__esModule",{value:!0});qm.contentVocabulary=qm.metadataVocabulary=void 0;qm.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];qm.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(T3,"__esModule",{value:!0});const ULe=x3,VLe=C3,zLe=j3,HLe=J3,XU=qm,WLe=[ULe.default,VLe.default,(0,zLe.default)(),HLe.default,XU.metadataVocabulary,XU.contentVocabulary];T3.default=WLe;var e6={},Dne={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Dne);Object.defineProperty(e6,"__esModule",{value:!0});const gp=Zt,pN=Dne,JU=Gs,qLe=En,GLe={message:({params:{discrError:e,tagName:t}})=>e===pN.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,gp._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},YLe={keyword:"discriminator",type:"object",schemaType:"object",error:GLe,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,gp._)`${n}${(0,gp.getProperty)(a)}`);t.if((0,gp._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:pN.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,gp._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:pN.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(m,gp.Name),p}function d(){var h;const p={},m=g(i);let y=!0;for(let S=0;S<o.length;S++){let T=o[S];T!=null&&T.$ref&&!(0,qLe.schemaHasRulesButRef)(T,s.self.RULES)&&(T=JU.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,T==null?void 0:T.$ref),T instanceof JU.SchemaEnv&&(T=T.schema));const E=(h=T==null?void 0:T.properties)===null||h===void 0?void 0:h[a];if(typeof E!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(m||g(T)),v(E,S)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return p;function g({required:S}){return Array.isArray(S)&&S.includes(a)}function v(S,T){if(S.const)_(S.const,T);else if(S.enum)for(const E of S.enum)_(E,T);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function _(S,T){if(typeof S!="string"||S in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[S]=T}}}};e6.default=YLe;const KLe="http://json-schema.org/draft-07/schema#",QLe="http://json-schema.org/draft-07/schema#",XLe="Core schema meta-schema",JLe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ZLe=["object","boolean"],eMe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},tMe={$schema:KLe,$id:QLe,title:XLe,definitions:JLe,type:ZLe,properties:eMe,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=tne,r=T3,i=e6,s=tMe,o=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=Ga;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Zt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=W_;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=q_;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(uN,uN.exports);var nMe=uN.exports;const $ne=su(nMe),rMe="#/definitions/StudyConfig",iMe="http://json-schema.org/draft-07/schema#",sMe={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed as checkboxes.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},preset:{description:"The number of options to render.",type:"number"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,description:"The OrderObject interface is used to define the properties of an order object. This is used to define the order of components in a study. It supports random assignment of trials using a pure random assignment and a latin square.",properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"This define the steps in the slider and the extent of the slider.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.json.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},baseComponents:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{additionalProperties:!1,properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"}]},description:"The components that are used in the study (baseComponents allow PartialComponents which allows for inheriting from them in components).",type:"object"},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},recordStudyAudio:{type:"boolean"},sequence:{$ref:"#/definitions/OrderObject",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},tasksToNotRecordAudio:{items:{type:"string"},type:"array"},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study, shown on the landing page and attached to participant data. This might be useful for seeing which version of the study a participant saw.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},numSequences:{description:"The number of sequences to generate for the study. This is used to generate the random sequences for the study. The default is 1000.",type:"number"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},oMe={$ref:rMe,$schema:iMe,definitions:sMe},aMe="#/definitions/GlobalConfig",uMe="http://json-schema.org/draft-07/schema#",lMe={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},cMe={$ref:aMe,$schema:uMe,definitions:lMe},Lne=new $ne;Lne.addSchema(cMe);const ZU=Lne.getSchema("#/definitions/GlobalConfig"),Mne=new $ne;Mne.addSchema(oMe);const eV=Mne.getSchema("#/definitions/StudyConfig");function fMe(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function hC(e){return e.baseComponent!==void 0}function dMe(e){const t=m3.parse(e),n=ZU(t),r=fMe(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...ZU.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function hMe(e){const t=[];return[Object.values(e.components).every(r=>{var i;return hC(r)?!!((i=e.baseComponents)!=null&&i[r.baseComponent]):!0}),t]}function Fne(e,t){const n=m3.parse(e),r=eV(n),i=hMe(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...eV.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function ja(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function $f(e){return!!e&&!!e[hr]}function Zl(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===EMe}(e)||Array.isArray(e)||!!e[aV]||!!(!((t=e.constructor)===null||t===void 0)&&t[aV])||t6(e)||n6(e))}function gh(e,t,n){n===void 0&&(n=!1),Pg(e)===0?(n?Object.keys:am)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Pg(e){var t=e[hr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:t6(e)?2:n6(e)?3:0}function om(e,t){return Pg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function pMe(e,t){return Pg(e)===2?e.get(t):e[t]}function jne(e,t,n){var r=Pg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Bne(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function t6(e){return bMe&&e instanceof Map}function n6(e){return wMe&&e instanceof Set}function _d(e){return e.o||e.t}function r6(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Vne(e);delete t[hr];for(var n=am(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function i6(e,t){return t===void 0&&(t=!1),s6(e)||$f(e)||!Zl(e)||(Pg(e)>1&&(e.set=e.add=e.clear=e.delete=mMe),Object.freeze(e),t&&gh(e,function(n,r){return i6(r,!0)},!0)),e}function mMe(){ja(2)}function s6(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Hu(e){var t=vN[e];return t||ja(18,e),t}function gMe(e,t){vN[e]||(vN[e]=t)}function mN(){return Cv}function cO(e,t){t&&(Hu("Patches"),e.u=[],e.s=[],e.v=t)}function DT(e){gN(e),e.p.forEach(yMe),e.p=null}function gN(e){e===Cv&&(Cv=e.l)}function tV(e){return Cv={p:[],l:Cv,h:e,m:!0,_:0}}function yMe(e){var t=e[hr];t.i===0||t.i===1?t.j():t.g=!0}function fO(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Hu("ES5").S(t,e,r),r?(n[hr].P&&(DT(t),ja(4)),Zl(e)&&(e=$T(t,e),t.l||LT(t,e)),t.u&&Hu("Patches").M(n[hr].t,e,t.u,t.s)):e=$T(t,n,[]),DT(t),t.u&&t.v(t.u,t.s),e!==Une?e:void 0}function $T(e,t,n){if(s6(t))return t;var r=t[hr];if(!r)return gh(t,function(a,u){return nV(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return LT(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=r6(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),gh(s,function(a,u){return nV(e,r,i,a,u,n,o)}),LT(e,i,!1),n&&e.u&&Hu("Patches").N(r,n,e.u,e.s)}return r.o}function nV(e,t,n,r,i,s,o){if($f(i)){var a=$T(e,i,s&&t&&t.i!==3&&!om(t.R,r)?s.concat(r):void 0);if(jne(n,r,a),!$f(a))return;e.m=!1}else o&&n.add(i);if(Zl(i)&&!s6(i)){if(!e.h.D&&e._<1)return;$T(e,i),t&&t.A.l||LT(e,i)}}function LT(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&i6(t,n)}function dO(e,t){var n=e[hr];return(n?_d(n):e)[t]}function rV(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Gc(e){e.P||(e.P=!0,e.l&&Gc(e.l))}function hO(e){e.o||(e.o=r6(e.t))}function yN(e,t,n){var r=t6(t)?Hu("MapSet").F(t,n):n6(t)?Hu("MapSet").T(t,n):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:mN(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=Pv;o&&(u=[a],l=ty);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Hu("ES5").J(t,n);return(n?n.A:mN()).p.push(r),r}function vMe(e){return $f(e)||ja(22,e),function t(n){if(!Zl(n))return n;var r,i=n[hr],s=Pg(n);if(i){if(!i.P&&(i.i<4||!Hu("ES5").K(i)))return i.t;i.I=!0,r=iV(n,s),i.I=!1}else r=iV(n,s);return gh(r,function(o,a){i&&pMe(i.t,o)===a||jne(r,o,t(a))}),s===3?new Set(r):r}(e)}function iV(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return r6(e)}function _Me(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[hr];return Pv.get(u,s)},set:function(u){var l=this[hr];Pv.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][hr];if(!a.P)switch(a.i){case 5:r(a)&&Gc(a);break;case 4:n(a)&&Gc(a)}}}function n(s){for(var o=s.t,a=s.k,u=am(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==hr){var f=o[c];if(f===void 0&&!om(o,c))return!0;var d=a[c],h=d&&d[hr];if(h?h.t!==f:!Bne(d,f))return!0}}var p=!!o[hr];return u.length!==am(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};gMe("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=Vne(f);delete p[hr];for(var m=am(p),y=0;y<m.length;y++){var g=m[y];p[g]=e(g,c||!!p[g].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,s),l={i:a?5:4,A:o?o.A:mN(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,hr,{value:l,writable:!0}),u},S:function(s,o,a){a?$f(o)&&o[hr].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[hr];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)gh(d,function(_){_!==hr&&(f[_]!==void 0||om(f,_)?h[_]||u(d[_]):(h[_]=!0,Gc(c)))}),gh(f,function(_){d[_]!==void 0||om(d,_)||(h[_]=!1,Gc(c))});else if(p===5){if(r(c)&&(Gc(c),h.length=!0),d.length<f.length)for(var m=d.length;m<f.length;m++)h[m]=!1;else for(var y=f.length;y<d.length;y++)h[y]=!0;for(var g=Math.min(d.length,f.length),v=0;v<g;v++)d.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&u(d[v])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var sV,Cv,o6=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",bMe=typeof Map<"u",wMe=typeof Set<"u",oV=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Une=o6?Symbol.for("immer-nothing"):((sV={})["immer-nothing"]=!0,sV),aV=o6?Symbol.for("immer-draftable"):"__$immer_draftable",hr=o6?Symbol.for("immer-state"):"__$immer_state",EMe=""+Object.prototype.constructor,am=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Vne=Object.getOwnPropertyDescriptors||function(e){var t={};return am(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},vN={},Pv={get:function(e,t){if(t===hr)return e;var n=_d(e);if(!om(n,t))return function(i,s,o){var a,u=rV(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Zl(r)?r:r===dO(e.t,t)?(hO(e),e.o[t]=yN(e.A.h,r,e)):r},has:function(e,t){return t in _d(e)},ownKeys:function(e){return Reflect.ownKeys(_d(e))},set:function(e,t,n){var r=rV(_d(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=dO(_d(e),t),s=i==null?void 0:i[hr];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Bne(n,i)&&(n!==void 0||om(e.t,t)))return!0;hO(e),Gc(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return dO(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,hO(e),Gc(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=_d(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ja(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ja(12)}},ty={};gh(Pv,function(e,t){ty[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ty.deleteProperty=function(e,t){return ty.set.call(this,e,t,void 0)},ty.set=function(e,t,n){return Pv.set.call(this,e[0],t,n,e[0])};var SMe=function(){function e(n){var r=this;this.O=oV,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var y=this;m===void 0&&(m=a);for(var g=arguments.length,v=Array(g>1?g-1:0),_=1;_<g;_++)v[_-1]=arguments[_];return u.produce(m,function(S){var T;return(T=s).call.apply(T,[y,S].concat(v))})}}var l;if(typeof s!="function"&&ja(6),o!==void 0&&typeof o!="function"&&ja(7),Zl(i)){var c=tV(r),f=yN(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?DT(c):gN(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return cO(c,o),fO(m,c)},function(m){throw DT(c),m}):(cO(c,o),fO(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===Une&&(l=void 0),r.D&&i6(l,!0),o){var h=[],p=[];Hu("Patches").M(i,l,h,p),o(h,p)}return l}ja(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Zl(n)||ja(8),$f(n)&&(n=vMe(n));var r=tV(this),i=yN(this,n,void 0);return i[hr].C=!0,gN(r),i},t.finishDraft=function(n,r){var i=n&&n[hr],s=i.A;return cO(s,r),fO(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!oV&&ja(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Hu("Patches").$;return $f(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),ko=new SMe,zne=ko.produce;ko.produceWithPatches.bind(ko);ko.setAutoFreeze.bind(ko);ko.setUseProxies.bind(ko);ko.applyPatches.bind(ko);ko.createDraft.bind(ko);ko.finishDraft.bind(ko);function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}function TMe(e,t){if(Av(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Av(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xMe(e){var t=TMe(e,"string");return Av(t)=="symbol"?t:String(t)}function IMe(e,t,n){return t=xMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uV(Object(n),!0).forEach(function(r){IMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zi(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var cV=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),pO=function(){return Math.random().toString(36).substring(7).split("").join(".")},MT={INIT:"@@redux/INIT"+pO(),REPLACE:"@@redux/REPLACE"+pO(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+pO()}};function CMe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Hne(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Zi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Zi(1));return n(Hne)(e,t)}if(typeof e!="function")throw new Error(Zi(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(Zi(3));return s}function f(m){if(typeof m!="function")throw new Error(Zi(4));if(u)throw new Error(Zi(5));var y=!0;return l(),a.push(m),function(){if(y){if(u)throw new Error(Zi(6));y=!1,l();var v=a.indexOf(m);a.splice(v,1),o=null}}}function d(m){if(!CMe(m))throw new Error(Zi(7));if(typeof m.type>"u")throw new Error(Zi(8));if(u)throw new Error(Zi(9));try{u=!0,s=i(s,m)}finally{u=!1}for(var y=o=a,g=0;g<y.length;g++){var v=y[g];v()}return m}function h(m){if(typeof m!="function")throw new Error(Zi(10));i=m,d({type:MT.REPLACE})}function p(){var m,y=f;return m={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Zi(11));function _(){v.next&&v.next(c())}_();var S=y(_);return{unsubscribe:S}}},m[cV]=function(){return this},m}return d({type:MT.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[cV]=p,r}function PMe(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:MT.INIT});if(typeof r>"u")throw new Error(Zi(12));if(typeof n(void 0,{type:MT.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zi(13))})}function AMe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{PMe(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],p=n[h],m=u[h],y=p(m,l);if(typeof y>"u")throw l&&l.type,new Error(Zi(14));f[h]=y,c=c||y!==m}return c=c||s.length!==Object.keys(u).length,c?f:u}}function FT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function OMe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Zi(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=FT.apply(void 0,a)(i.dispatch),lV(lV({},i),{},{dispatch:s})}}}function Wne(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var qne=Wne();qne.withExtraArgument=Wne;const fV=qne;var Gne=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Y_=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},yh=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},RMe=Object.defineProperty,NMe=Object.defineProperties,kMe=Object.getOwnPropertyDescriptors,dV=Object.getOwnPropertySymbols,DMe=Object.prototype.hasOwnProperty,$Me=Object.prototype.propertyIsEnumerable,hV=function(e,t,n){return t in e?RMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ef=function(e,t){for(var n in t||(t={}))DMe.call(t,n)&&hV(e,n,t[n]);if(dV)for(var r=0,i=dV(t);r<i.length;r++){var n=i[r];$Me.call(t,n)&&hV(e,n,t[n])}return e},mO=function(e,t){return NMe(e,kMe(t))},K_=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},LMe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?FT:FT.apply(null,arguments)};function Yne(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var MMe=function(e){return e&&typeof e.match=="function"};function Wu(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Ef(Ef({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function FMe(e){return Yne(e)&&"type"in e}var jMe=function(e){Gne(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,yh([void 0],n[0].concat(this)))):new(t.bind.apply(t,yh([void 0],n.concat(this))))},t}(Array),BMe=function(e){Gne(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,yh([void 0],n[0].concat(this)))):new(t.bind.apply(t,yh([void 0],n.concat(this))))},t}(Array);function _N(e){return Zl(e)?zne(e,function(){}):e}function UMe(e){return typeof e=="boolean"}function VMe(){return function(t){return zMe(t)}}function zMe(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new jMe;return n&&(UMe(n)?r.push(fV):r.push(fV.withExtraArgument(n.extraArgument))),r}var HMe=!0;function Kne(e){var t=VMe(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(Yne(i))h=AMe(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var m=OMe.apply(void 0,p),y=FT;u&&(y=LMe(Ef({trace:!HMe},typeof u=="object"&&u)));var g=new BMe(m),v=g;Array.isArray(d)?v=yh([m],d):typeof d=="function"&&(v=d(g));var _=y.apply(void 0,v);return Hne(h,c,_)}function Qne(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function WMe(e){return typeof e=="function"}function qMe(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?Qne(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(WMe(e))u=function(){return _N(e())};else{var l=_N(e);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var h=yh([s[d.type]],o.filter(function(p){var m=p.matcher;return m(d)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if($f(p)){var y=p,g=m(y,d);return g===void 0?p:g}else{if(Zl(p))return zne(p,function(v){return m(v,d)});var g=m(p,d);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return p},f)}return c.getInitialState=u,c}function GMe(e,t){return e+"/"+t}function Xne(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:_N(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],d=GMe(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,s[c]=h,o[d]=h,a[c]=p?Wu(d,p):Wu(d)});function u(){var c=typeof e.extraReducers=="function"?Qne(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,m=c[2],y=m===void 0?void 0:m,g=Ef(Ef({},d),o);return qMe(n,function(v){for(var _ in g)v.addCase(_,g[_]);for(var S=0,T=p;S<T.length;S++){var E=T[S];v.addMatcher(E.matcher,E.reducer)}y&&v.addDefaultCase(y)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var YMe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Jne=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=YMe[Math.random()*64|0];return t},KMe=["name","message","stack","code"],gO=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),pV=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),QMe=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=KMe;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Wu(t+"/fulfilled",function(l,c,f,d){return{payload:l,meta:mO(Ef({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=Wu(t+"/pending",function(l,c,f){return{payload:void 0,meta:mO(Ef({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=Wu(t+"/rejected",function(l,c,f,d,h){return{payload:d,error:(r&&r.serializeError||QMe)(l||"Rejected"),meta:mO(Ef({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(l):Jne(),p=new a,m;function y(v){m=v,p.abort()}var g=function(){return K_(this,null,function(){var v,_,S,T,E,x,P;return Y_(this,function(M){switch(M.label){case 0:return M.trys.push([0,4,,5]),T=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,l,{getState:f,extra:d}),JMe(T)?[4,T]:[3,2];case 1:T=M.sent(),M.label=2;case 2:if(T===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(L,F){return p.signal.addEventListener("abort",function(){return F({name:"AbortError",message:m||"Aborted"})})}),c(s(h,l,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:h,arg:l},{getState:f,extra:d}))),[4,Promise.race([E,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:y,rejectWithValue:function(L,F){return new gO(L,F)},fulfillWithValue:function(L,F){return new pV(L,F)}})).then(function(L){if(L instanceof gO)throw L;return L instanceof pV?i(L.payload,h,l,L.meta):i(L,h,l)})])];case 3:return S=M.sent(),[3,5];case 4:return x=M.sent(),S=x instanceof gO?o(null,h,l,x.payload,x.meta):o(x,h,l),[3,5];case 5:return P=r&&!r.dispatchConditionRejection&&o.match(S)&&S.meta.condition,P||c(S),[2,S]}})})}();return Object.assign(g,{abort:y,requestId:h,arg:l,unwrap:function(){return g.then(XMe)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function XMe(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function JMe(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var ZMe=function(e,t){return MMe(e)?e.match(t):e(t)};function mV(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return ZMe(r,n)})}}var a6=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},bN=function(){},Zne=function(e,t){return t===void 0&&(t=bN),e.catch(t),e},ere=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},um=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},e4e="task",tre="listener",nre="completed",u6="cancelled",t4e="task-"+u6,n4e="task-"+nre,rre=tre+"-"+u6,r4e=tre+"-"+nre,pC=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=e4e+" "+u6+" (reason: "+t+")"}return e}(),lm=function(e){if(e.aborted)throw new pC(e.reason)};function ire(e,t){var n=bN;return new Promise(function(r,i){var s=function(){return i(new pC(e.reason))};if(e.aborted){s();return}n=ere(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=bN})}var i4e=function(e,t){return K_(void 0,null,function(){var n,r;return Y_(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof pC?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},jT=function(e){return function(t){return Zne(ire(e,t).then(function(n){return lm(e),n}))}},sre=function(e){var t=jT(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},s4e=Object.assign,gV={},Q_="listenerMiddleware",o4e=function(e,t){var n=function(r){return ere(e,function(){return um(r,e.reason)})};return function(r,i){a6(r,"taskExecutor");var s=new AbortController;n(s);var o=i4e(function(){return K_(void 0,null,function(){var a;return Y_(this,function(u){switch(u.label){case 0:return lm(e),lm(s.signal),[4,r({pause:jT(s.signal),delay:sre(s.signal),signal:s.signal})];case 1:return a=u.sent(),lm(s.signal),[2,a]}})})},function(){return um(s,n4e)});return i!=null&&i.autoJoin&&t.push(o),{result:jT(e)(o),cancel:function(){um(s,t4e)}}}},a4e=function(e,t){var n=function(r,i){return K_(void 0,null,function(){var s,o,a,u;return Y_(this,function(l){switch(l.label){case 0:lm(t),s=function(){},o=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){d(),f()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,ire(t,Promise.race(a))];case 2:return u=l.sent(),lm(t),[2,u];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return Zne(n(r,i))}},ore=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=Wu(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return a6(s,"options.listener"),{predicate:i,type:t,effect:s}},u4e=function(e){var t=ore(e),n=t.type,r=t.predicate,i=t.effect,s=Jne(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},wN=function(e){e.pending.forEach(function(t){um(t,rre)})},l4e=function(e){return function(){e.forEach(wN),e.clear()}},yV=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},c4e=Wu(Q_+"/add"),f4e=Wu(Q_+"/removeAll"),d4e=Wu(Q_+"/remove"),h4e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,yh([Q_+"/error"],e))};function p4e(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?h4e:i;a6(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&wN(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var y=m[p];if(h(y))return y}},u=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=u4e(h)),o(p)},l=function(h){var p=ore(h),m=p.type,y=p.effect,g=p.predicate,v=a(function(_){var S=typeof m=="string"?_.type===m:_.predicate===g;return S&&_.effect===y});return v&&(v.unsubscribe(),h.cancelActive&&wN(v)),!!v},c=function(h,p,m,y){return K_(t,null,function(){var g,v,_,S;return Y_(this,function(T){switch(T.label){case 0:g=new AbortController,v=a4e(u,g.signal),_=[],T.label=1;case 1:return T.trys.push([1,3,4,6]),h.pending.add(g),[4,Promise.resolve(h.effect(p,s4e({},m,{getOriginalState:y,condition:function(E,x){return v(E,x).then(Boolean)},take:v,delay:sre(g.signal),pause:jT(g.signal),extra:r,signal:g.signal,fork:o4e(g.signal,_),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(E,x,P){E!==g&&(um(E,rre),P.delete(E))})}})))];case 2:return T.sent(),[3,6];case 3:return S=T.sent(),S instanceof pC||yV(s,S,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(_)];case 5:return T.sent(),um(g,r4e),h.pending.delete(g),[7];case 6:return[2]}})})},f=l4e(n),d=function(h){return function(p){return function(m){if(!FMe(m))return p(m);if(c4e.match(m))return u(m.payload);if(f4e.match(m)){f();return}if(d4e.match(m))return l(m.payload);var y=h.getState(),g=function(){if(y===gV)throw new Error(Q_+": getOriginalState can only be called synchronously");return y},v;try{if(v=p(m),n.size>0)for(var _=h.getState(),S=Array.from(n.values()),T=0,E=S;T<E.length;T++){var x=E[T],P=!1;try{P=x.predicate(m,_,y)}catch(M){P=!1,yV(s,M,{raisedBy:"predicate"})}P&&c(x,m,h,g)}}finally{y=gV}return v}}};return{middleware:d,startListening:u,stopListening:l,clearListeners:f}}var vV;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);_Me();async function m4e(e,t,n,r){const i={...n.map(c=>({[c]:{}}))},s=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),o=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),a={studyId:e,answers:r||i,isRecording:!1,sequence:n,config:t,showAdmin:!1,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:r?o:s,iframeAnswers:[]},u=Xne({name:"storeSlice",initialState:a,reducers:{setConfig(c,f){c.config=f.payload},setIsRecording(c,f){c.isRecording=f.payload},toggleShowAdmin:c=>{c.showAdmin=!c.showAdmin},toggleShowHelpText:c=>{c.showHelpText=!c.showHelpText},setAlertModal:(c,f)=>{c.alertModal=f.payload},setIframeAnswers:(c,f)=>{c.iframeAnswers=f.payload},updateResponseBlockValidation:(c,{payload:f})=>{!f.currentStep||f.currentStep.length===0||(c.trialValidation[f.currentStep]||(c.trialValidation[f.currentStep]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),c.trialValidation[f.currentStep][f.location]={valid:f.status,values:f.values},f.provenanceGraph&&(c.trialValidation[f.currentStep].provenanceGraph=f.provenanceGraph))},saveTrialAnswer(c,{payload:f}){const{currentStep:d,answer:h,startTime:p,endTime:m,provenanceGraph:y,windowEvents:g}=f;c.answers[d]={answer:h,startTime:p,endTime:m,provenanceGraph:y,windowEvents:g}}}});return{store:Kne({reducer:u.reducer,preloadedState:a}),actions:u.actions}}const are=w.createContext(null);function nl(){return w.useContext(are).actions}const rl=Xte,da=$De;function g4e(e){return da(t=>{if(e===void 0||e.length===0)return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}var BT={exports:{}};BT.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",y="[object Number]",g="[object Null]",v="[object Object]",_="[object Proxy]",S="[object RegExp]",T="[object Set]",E="[object String]",x="[object Undefined]",P="[object WeakMap]",M="[object ArrayBuffer]",L="[object DataView]",F="[object Float32Array]",V="[object Float64Array]",oe="[object Int8Array]",U="[object Int16Array]",te="[object Int32Array]",ue="[object Uint8Array]",ne="[object Uint8ClampedArray]",q="[object Uint16Array]",fe="[object Uint32Array]",A=/[\\^$.*+?()[\]{}|]/g,W=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,C={};C[F]=C[V]=C[oe]=C[U]=C[te]=C[ue]=C[ne]=C[q]=C[fe]=!0,C[a]=C[u]=C[M]=C[c]=C[L]=C[f]=C[d]=C[h]=C[m]=C[y]=C[v]=C[S]=C[T]=C[E]=C[P]=!1;var O=typeof So=="object"&&So&&So.Object===Object&&So,k=typeof self=="object"&&self&&self.Object===Object&&self,G=O||k||Function("return this")(),de=t&&!t.nodeType&&t,he=de&&!0&&e&&!e.nodeType&&e,ge=he&&he.exports===de,Te=ge&&O.process,Pe=function(){try{var H=he&&he.require&&he.require("util").types;return H||Te&&Te.binding&&Te.binding("util")}catch{}}(),Se=Pe&&Pe.isTypedArray;function st(H,le,xe){switch(xe.length){case 0:return H.call(le);case 1:return H.call(le,xe[0]);case 2:return H.call(le,xe[0],xe[1]);case 3:return H.call(le,xe[0],xe[1],xe[2])}return H.apply(le,xe)}function Je(H,le){for(var xe=-1,rt=Array(H);++xe<H;)rt[xe]=le(xe);return rt}function vt(H){return function(le){return H(le)}}function Ve(H,le){return H==null?void 0:H[le]}function ct(H,le){return function(xe){return H(le(xe))}}var gt=Array.prototype,rn=Function.prototype,hn=Object.prototype,ae=G["__core-js_shared__"],ye=rn.toString,ve=hn.hasOwnProperty,se=function(){var H=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),be=hn.toString,$e=ye.call(Object),X=RegExp("^"+ye.call(ve).replace(A,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=ge?G.Buffer:void 0,_e=G.Symbol,Oe=G.Uint8Array,We=me?me.allocUnsafe:void 0,_t=ct(Object.getPrototypeOf,Object),Be=Object.create,Qe=hn.propertyIsEnumerable,Xe=gt.splice,Ct=_e?_e.toStringTag:void 0,ht=function(){try{var H=Fe(Object,"defineProperty");return H({},"",{}),H}catch{}}(),Yn=me?me.isBuffer:void 0,Qt=Math.max,vn=Date.now,li=Fe(G,"Map"),Os=Fe(Object,"create"),ci=function(){function H(){}return function(le){if(!fd(le))return{};if(Be)return Be(le);H.prototype=le;var xe=new H;return H.prototype=void 0,xe}}();function kn(H){var le=-1,xe=H==null?0:H.length;for(this.clear();++le<xe;){var rt=H[le];this.set(rt[0],rt[1])}}function Ta(){this.__data__=Os?Os(null):{},this.size=0}function kr(H){var le=this.has(H)&&delete this.__data__[H];return this.size-=le?1:0,le}function wr(H){var le=this.__data__;if(Os){var xe=le[H];return xe===r?void 0:xe}return ve.call(le,H)?le[H]:void 0}function Ln(H){var le=this.__data__;return Os?le[H]!==void 0:ve.call(le,H)}function pn(H,le){var xe=this.__data__;return this.size+=this.has(H)?0:1,xe[H]=Os&&le===void 0?r:le,this}kn.prototype.clear=Ta,kn.prototype.delete=kr,kn.prototype.get=wr,kn.prototype.has=Ln,kn.prototype.set=pn;function Qn(H){var le=-1,xe=H==null?0:H.length;for(this.clear();++le<xe;){var rt=H[le];this.set(rt[0],rt[1])}}function ds(){this.__data__=[],this.size=0}function Qr(H){var le=this.__data__,xe=Er(le,H);if(xe<0)return!1;var rt=le.length-1;return xe==rt?le.pop():Xe.call(le,xe,1),--this.size,!0}function Ur(H){var le=this.__data__,xe=Er(le,H);return xe<0?void 0:le[xe][1]}function Z(H){return Er(this.__data__,H)>-1}function z(H,le){var xe=this.__data__,rt=Er(xe,H);return rt<0?(++this.size,xe.push([H,le])):xe[rt][1]=le,this}Qn.prototype.clear=ds,Qn.prototype.delete=Qr,Qn.prototype.get=Ur,Qn.prototype.has=Z,Qn.prototype.set=z;function ee(H){var le=-1,xe=H==null?0:H.length;for(this.clear();++le<xe;){var rt=H[le];this.set(rt[0],rt[1])}}function we(){this.size=0,this.__data__={hash:new kn,map:new(li||Qn),string:new kn}}function Ee(H){var le=Me(this,H).delete(H);return this.size-=le?1:0,le}function it(H){return Me(this,H).get(H)}function ot(H){return Me(this,H).has(H)}function ke(H,le){var xe=Me(this,H),rt=xe.size;return xe.set(H,le),this.size+=xe.size==rt?0:1,this}ee.prototype.clear=we,ee.prototype.delete=Ee,ee.prototype.get=it,ee.prototype.has=ot,ee.prototype.set=ke;function ut(H){var le=this.__data__=new Qn(H);this.size=le.size}function Ut(){this.__data__=new Qn,this.size=0}function qe(H){var le=this.__data__,xe=le.delete(H);return this.size=le.size,xe}function en(H){return this.__data__.get(H)}function tn(H){return this.__data__.has(H)}function bt(H,le){var xe=this.__data__;if(xe instanceof Qn){var rt=xe.__data__;if(!li||rt.length<n-1)return rt.push([H,le]),this.size=++xe.size,this;xe=this.__data__=new ee(rt)}return xe.set(H,le),this.size=xe.size,this}ut.prototype.clear=Ut,ut.prototype.delete=qe,ut.prototype.get=en,ut.prototype.has=tn,ut.prototype.set=bt;function Dn(H,le){var xe=ZP(H),rt=!xe&&Zh(H),mn=!xe&&!rt&&h5(H),Kn=!xe&&!rt&&!mn&&m5(H),lr=xe||rt||mn||Kn,un=lr?Je(H.length,String):[],cr=un.length;for(var Vo in H)(le||ve.call(H,Vo))&&!(lr&&(Vo=="length"||mn&&(Vo=="offset"||Vo=="parent")||Kn&&(Vo=="buffer"||Vo=="byteLength"||Vo=="byteOffset")||qt(Vo,cr)))&&un.push(Vo);return un}function zn(H,le,xe){(xe!==void 0&&!Jh(H[le],xe)||xe===void 0&&!(le in H))&&Sr(H,le,xe)}function Pt(H,le,xe){var rt=H[le];(!(ve.call(H,le)&&Jh(rt,xe))||xe===void 0&&!(le in H))&&Sr(H,le,xe)}function Er(H,le){for(var xe=H.length;xe--;)if(Jh(H[xe][0],le))return xe;return-1}function Sr(H,le,xe){le=="__proto__"&&ht?ht(H,le,{configurable:!0,enumerable:!0,value:xe,writable:!0}):H[le]=xe}var Dr=De();function hs(H){return H==null?H===void 0?x:g:Ct&&Ct in Object(H)?He(H):cd(H)}function Ti(H){return a0(H)&&hs(H)==a}function Vr(H){if(!fd(H)||Tr(H))return!1;var le=tA(H)?X:W;return le.test(JP(H))}function Hi(H){return a0(H)&&p5(H.length)&&!!C[hs(H)]}function Wi(H){if(!fd(H))return Rs(H);var le=ur(H),xe=[];for(var rt in H)rt=="constructor"&&(le||!ve.call(H,rt))||xe.push(rt);return xe}function et(H,le,xe,rt,mn){H!==le&&Dr(le,function(Kn,lr){if(mn||(mn=new ut),fd(Kn))nn(H,le,lr,xe,et,rt,mn);else{var un=rt?rt(s0(H,lr),Kn,lr+"",H,le,mn):void 0;un===void 0&&(un=Kn),zn(H,lr,un)}},g5)}function nn(H,le,xe,rt,mn,Kn,lr){var un=s0(H,xe),cr=s0(le,xe),Vo=lr.get(cr);if(Vo){zn(H,xe,Vo);return}var ho=Kn?Kn(un,cr,xe+"",H,le,lr):void 0,u0=ho===void 0;if(u0){var nA=ZP(cr),rA=!nA&&h5(cr),v5=!nA&&!rA&&m5(cr);ho=cr,nA||rA||v5?ZP(un)?ho=un:upe(un)?ho=ce(un):rA?(u0=!1,ho=J(cr,!0)):v5?(u0=!1,ho=re(cr,!0)):ho=[]:lpe(cr)||Zh(cr)?(ho=un,Zh(un)?ho=cpe(un):(!fd(un)||tA(un))&&(ho=lt(cr))):u0=!1}u0&&(lr.set(cr,ho),mn(ho,cr,rt,Kn,lr),lr.delete(cr)),zn(H,xe,ho)}function qi(H,le){return o0(i0(H,le,y5),H+"")}var N=ht?function(H,le){return ht(H,"toString",{configurable:!0,enumerable:!1,value:dpe(le),writable:!0})}:y5;function J(H,le){if(le)return H.slice();var xe=H.length,rt=We?We(xe):new H.constructor(xe);return H.copy(rt),rt}function j(H){var le=new H.constructor(H.byteLength);return new Oe(le).set(new Oe(H)),le}function re(H,le){var xe=le?j(H.buffer):H.buffer;return new H.constructor(xe,H.byteOffset,H.length)}function ce(H,le){var xe=-1,rt=H.length;for(le||(le=Array(rt));++xe<rt;)le[xe]=H[xe];return le}function ie(H,le,xe,rt){var mn=!xe;xe||(xe={});for(var Kn=-1,lr=le.length;++Kn<lr;){var un=le[Kn],cr=rt?rt(xe[un],H[un],un,xe,H):void 0;cr===void 0&&(cr=H[un]),mn?Sr(xe,un,cr):Pt(xe,un,cr)}return xe}function Ce(H){return qi(function(le,xe){var rt=-1,mn=xe.length,Kn=mn>1?xe[mn-1]:void 0,lr=mn>2?xe[2]:void 0;for(Kn=H.length>3&&typeof Kn=="function"?(mn--,Kn):void 0,lr&&Sn(xe[0],xe[1],lr)&&(Kn=mn<3?void 0:Kn,mn=1),le=Object(le);++rt<mn;){var un=xe[rt];un&&H(le,un,rt,Kn)}return le})}function De(H){return function(le,xe,rt){for(var mn=-1,Kn=Object(le),lr=rt(le),un=lr.length;un--;){var cr=lr[H?un:++mn];if(xe(Kn[cr],cr,Kn)===!1)break}return le}}function Me(H,le){var xe=H.__data__;return Cn(le)?xe[typeof le=="string"?"string":"hash"]:xe.map}function Fe(H,le){var xe=Ve(H,le);return Vr(xe)?xe:void 0}function He(H){var le=ve.call(H,Ct),xe=H[Ct];try{H[Ct]=void 0;var rt=!0}catch{}var mn=be.call(H);return rt&&(le?H[Ct]=xe:delete H[Ct]),mn}function lt(H){return typeof H.constructor=="function"&&!ur(H)?ci(_t(H)):{}}function qt(H,le){var xe=typeof H;return le=le??o,!!le&&(xe=="number"||xe!="symbol"&&Y.test(H))&&H>-1&&H%1==0&&H<le}function Sn(H,le,xe){if(!fd(xe))return!1;var rt=typeof le;return(rt=="number"?eA(xe)&&qt(le,xe.length):rt=="string"&&le in xe)?Jh(xe[le],H):!1}function Cn(H){var le=typeof H;return le=="string"||le=="number"||le=="symbol"||le=="boolean"?H!=="__proto__":H===null}function Tr(H){return!!se&&se in H}function ur(H){var le=H&&H.constructor,xe=typeof le=="function"&&le.prototype||hn;return H===xe}function Rs(H){var le=[];if(H!=null)for(var xe in Object(H))le.push(xe);return le}function cd(H){return be.call(H)}function i0(H,le,xe){return le=Qt(le===void 0?H.length-1:le,0),function(){for(var rt=arguments,mn=-1,Kn=Qt(rt.length-le,0),lr=Array(Kn);++mn<Kn;)lr[mn]=rt[le+mn];mn=-1;for(var un=Array(le+1);++mn<le;)un[mn]=rt[mn];return un[le]=xe(lr),st(H,this,un)}}function s0(H,le){if(!(le==="constructor"&&typeof H[le]=="function")&&le!="__proto__")return H[le]}var o0=d5(N);function d5(H){var le=0,xe=0;return function(){var rt=vn(),mn=s-(rt-xe);if(xe=rt,mn>0){if(++le>=i)return arguments[0]}else le=0;return H.apply(void 0,arguments)}}function JP(H){if(H!=null){try{return ye.call(H)}catch{}try{return H+""}catch{}}return""}function Jh(H,le){return H===le||H!==H&&le!==le}var Zh=Ti(function(){return arguments}())?Ti:function(H){return a0(H)&&ve.call(H,"callee")&&!Qe.call(H,"callee")},ZP=Array.isArray;function eA(H){return H!=null&&p5(H.length)&&!tA(H)}function upe(H){return a0(H)&&eA(H)}var h5=Yn||hpe;function tA(H){if(!fd(H))return!1;var le=hs(H);return le==h||le==p||le==l||le==_}function p5(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=o}function fd(H){var le=typeof H;return H!=null&&(le=="object"||le=="function")}function a0(H){return H!=null&&typeof H=="object"}function lpe(H){if(!a0(H)||hs(H)!=v)return!1;var le=_t(H);if(le===null)return!0;var xe=ve.call(le,"constructor")&&le.constructor;return typeof xe=="function"&&xe instanceof xe&&ye.call(xe)==$e}var m5=Se?vt(Se):Hi;function cpe(H){return ie(H,g5(H))}function g5(H){return eA(H)?Dn(H,!0):Wi(H)}var fpe=Ce(function(H,le,xe){et(H,le,xe)});function dpe(H){return function(){return H}}function y5(H){return H}function hpe(){return!1}e.exports=fpe})(BT,BT.exports);var y4e=BT.exports;const l6=su(y4e);function ure(){return Lh().pathname.split("/")[1]}function vl(){const{trialName:e}=fh();return e||""}function Ag(e){return structuredClone(e)}function c6(){const{answers:e}=da(n=>n),t=vl();return e[t]}const lre=w.createContext(null);function v4e(){const e=w.useContext(lre);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function _4e(){const e=vl(),{sequence:t,trialValidation:n}=da(g=>g),r=c6(),i=rl(),{saveTrialAnswer:s,setIframeAnswers:o}=nl(),{storageEngine:a}=la(),l=!g4e(e),c=r==null?void 0:r.answer,f=td(),d=w.useMemo(()=>{const g=t.indexOf(e);return t[g+1]||"end"},[e,t]),h=`/${ure()}/${d}`,p=w.useMemo(()=>Date.now(),[]),m=v4e(),y=w.useCallback(()=>{const g=Ag(n[e]),v=Object.values(g).reduce((E,x)=>Object.hasOwn(x,"values")?{...E,...x.values}:E,{}),{provenanceGraph:_}=g,S=Date.now(),T=m&&"current"in m&&m.current?m.current.splice(0,m.current.length):[];Object.keys(c||{}).length===0&&(i(s({currentStep:e,answer:v,startTime:p,endTime:S,provenanceGraph:_,windowEvents:T})),a&&a.saveAnswer(e,{answer:v,startTime:p,endTime:S,provenanceGraph:_,windowEvents:T}),i(o([]))),f(`${h}${window.location.search}`)},[o,a,i,c,n,f,p,e,s,h,m]);return{nextStep:d,isNextDisabled:l,goToNextStep:y}}function b4e({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>null,onClick:r}){const{isNextDisabled:i,goToNextStep:s}=_4e(),o=w.useCallback(()=>{n(!1),r&&r(),s()},[s,r,n]);return I.jsx(_s,{type:"submit",disabled:t||i,onClick:o,children:e})}function EN(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var w4e=Object.defineProperty,_V=Object.getOwnPropertySymbols,E4e=Object.prototype.hasOwnProperty,S4e=Object.prototype.propertyIsEnumerable,bV=(e,t,n)=>t in e?w4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T4e=(e,t)=>{for(var n in t||(t={}))E4e.call(t,n)&&bV(e,n,t[n]);if(_V)for(var n of _V(t))S4e.call(t,n)&&bV(e,n,t[n]);return e};function cre(e,t){if(t===null||typeof t!="object")return{};const n=T4e({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const x4e="__MANTINE_FORM_INDEX__";function wV(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${x4e}`)):!1:!1}function EV(e,t,n){typeof n.value=="object"&&(n.value=Mp(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Mp(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(Mp(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(Mp(a),Mp(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(Mp(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)EV(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||EV(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function fre(e){return typeof e!="string"?[]:e.split(".")}function mC(e,t,n){const r=fre(e);if(r.length===0)return n;const i=Mp(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function Al(e,t){const n=fre(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function SV(e){const t=EN(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function SN(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,u=Al(a,t);let l=!1;return typeof o=="function"&&(i[a]=o(u,t,a)),typeof o=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>SN(o,t,`${a}.${f}`,i))),typeof o=="object"&&typeof u=="object"&&u!==null&&(l||SN(o,t,a,i)),i},r)}function TN(e,t){return SV(typeof e=="function"?e(t):SN(e,t))}function Ab(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=TN(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function I4e(e,{from:t,to:n},r){const i=Al(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),mC(e,s,r)}var C4e=Object.defineProperty,TV=Object.getOwnPropertySymbols,P4e=Object.prototype.hasOwnProperty,A4e=Object.prototype.propertyIsEnumerable,xV=(e,t,n)=>t in e?C4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O4e=(e,t)=>{for(var n in t||(t={}))P4e.call(t,n)&&xV(e,n,t[n]);if(TV)for(var n of TV(t))A4e.call(t,n)&&xV(e,n,t[n]);return e};function R4e(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o=O4e({},r);return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,s)),a.startsWith(s)&&(u=a.replace(s,i),l=a),u&&l){const c=o[u],f=o[l];return f===void 0?delete o[u]:o[u]=f,c===void 0?delete o[l]:o[l]=c,!1}return!0}),o}function N4e(e,t,n){const r=Al(e,n);return Array.isArray(r)?mC(e,r.filter((i,s)=>s!==t),n):n}var k4e=Object.defineProperty,IV=Object.getOwnPropertySymbols,D4e=Object.prototype.hasOwnProperty,$4e=Object.prototype.propertyIsEnumerable,CV=(e,t,n)=>t in e?k4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L4e=(e,t)=>{for(var n in t||(t={}))D4e.call(t,n)&&CV(e,n,t[n]);if(IV)for(var n of IV(t))$4e.call(t,n)&&CV(e,n,t[n]);return e};function PV(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function AV(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=cre(`${i}.${t}`,s));const o=L4e({},s),a=new Set;return Object.entries(s).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=PV(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=PV(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);o[f]=l,a.add(f),a.has(u)||delete o[u]}),o}function M4e(e,t,n,r){const i=Al(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),mC(e,s,r)}function OV(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function F4e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var j4e=Object.defineProperty,B4e=Object.defineProperties,U4e=Object.getOwnPropertyDescriptors,RV=Object.getOwnPropertySymbols,V4e=Object.prototype.hasOwnProperty,z4e=Object.prototype.propertyIsEnumerable,NV=(e,t,n)=>t in e?j4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rc=(e,t)=>{for(var n in t||(t={}))V4e.call(t,n)&&NV(e,n,t[n]);if(RV)for(var n of RV(t))z4e.call(t,n)&&NV(e,n,t[n]);return e},yO=(e,t)=>B4e(e,U4e(t));function H4e({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:o=!1,transformValues:a=l=>l,validate:u}={}){const[l,c]=w.useState(r),[f,d]=w.useState(n),[h,p]=w.useState(e),[m,y]=w.useState(EN(t)),g=w.useRef(e),v=k=>{g.current=k},_=w.useCallback(()=>c({}),[]),S=k=>{const G=k?Rc(Rc({},h),k):h;v(G),d({})},T=w.useCallback(k=>y(G=>EN(typeof k=="function"?k(G):k)),[]),E=w.useCallback(()=>y({}),[]),x=w.useCallback(()=>{p(e),E(),v(e),d({}),_()},[]),P=w.useCallback((k,G)=>T(de=>yO(Rc({},de),{[k]:G})),[]),M=w.useCallback(k=>T(G=>{if(typeof k!="string")return G;const de=Rc({},G);return delete de[k],de}),[]),L=w.useCallback(k=>d(G=>{if(typeof k!="string")return G;const de=cre(k,G);return delete de[k],de}),[]),F=w.useCallback((k,G)=>{const de=wV(k,s);L(k),c(he=>yO(Rc({},he),{[k]:!0})),p(he=>{const ge=mC(k,G,he);if(de){const Te=Ab(k,u,ge);Te.hasError?P(k,Te.error):M(k)}return ge}),!de&&i&&P(k,null)},[]),V=w.useCallback(k=>{p(G=>{const de=typeof k=="function"?k(G):k;return Rc(Rc({},G),de)}),i&&E()},[]),oe=w.useCallback((k,G)=>{L(k),p(de=>I4e(k,G,de)),y(de=>R4e(k,G,de))},[]),U=w.useCallback((k,G)=>{L(k),p(de=>N4e(k,G,de)),y(de=>AV(k,G,de,-1))},[]),te=w.useCallback((k,G,de)=>{L(k),p(he=>M4e(k,G,de,he)),y(he=>AV(k,de,he,1))},[]),ue=w.useCallback(()=>{const k=TN(u,h);return y(k.errors),k},[h,u]),ne=w.useCallback(k=>{const G=Ab(k,u,h);return G.hasError?P(k,G.error):M(k),G},[h,u]),q=(k,{type:G="input",withError:de=!0,withFocus:he=!0}={})=>{const Te={onChange:F4e(Pe=>F(k,Pe))};return de&&(Te.error=m[k]),G==="checkbox"?Te.checked=Al(k,h):Te.value=Al(k,h),he&&(Te.onFocus=()=>c(Pe=>yO(Rc({},Pe),{[k]:!0})),Te.onBlur=()=>{if(wV(k,o)){const Pe=Ab(k,u,h);Pe.hasError?P(k,Pe.error):M(k)}}),Te},fe=(k,G)=>de=>{de==null||de.preventDefault();const he=ue();he.hasErrors?G==null||G(he.errors,h,de):k==null||k(a(h),de)},A=k=>a(k||h),W=w.useCallback(k=>{k.preventDefault(),x()},[]),Y=k=>{if(k){const de=Al(k,f);if(typeof de=="boolean")return de;const he=Al(k,h),ge=Al(k,g.current);return!$U(he,ge)}return Object.keys(f).length>0?OV(f):!$U(h,g.current)},C=w.useCallback(k=>OV(l,k),[l]),O=w.useCallback(k=>k?!Ab(k,u,h).hasError:!TN(u,h).hasErrors,[h,u]);return{values:h,errors:m,setValues:V,setErrors:T,setFieldValue:F,setFieldError:P,clearFieldError:M,clearErrors:E,reset:x,validate:ue,validateField:ne,reorderListItem:oe,removeListItem:U,insertListItem:te,getInputProps:q,onSubmit:fe,onReset:W,isDirty:Y,isTouched:C,setTouched:c,setDirty:d,resetTouched:_,resetDirty:S,isValid:O,getTransformedValues:A}}const W4e=new URLSearchParams(window.location.search),q4e=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};if(i)n={...n,[r.id]:i};else{const s=r.paramCapture?W4e.get(r.paramCapture):"";n={...n,[r.id]:r.type==="iframe"?[]:s}}}),{...n}},G4e=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function Y4e(e,t,n){const[r,i]=w.useState(null),s=H4e({initialValues:q4e(e,n),validate:G4e(e)});return w.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function Bh(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}const kV=["http","https","mailto","tel"];function K4e(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<kV.length;){const s=kV[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Q4e=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const f6=su(Q4e);function cm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?DV(e.position):"start"in e||"end"in e?DV(e):"line"in e||"column"in e?xN(e):""}function xN(e){return $V(e&&e.line)+":"+$V(e&&e.column)}function DV(e){return xN(e&&e.start)+"-"+xN(e&&e.end)}function $V(e){return e&&typeof e=="number"?e:1}let va=class extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=cm(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};va.prototype.file="";va.prototype.name="";va.prototype.reason="";va.prototype.message="";va.prototype.stack="";va.prototype.fatal=null;va.prototype.column=null;va.prototype.line=null;va.prototype.source=null;va.prototype.ruleId=null;va.prototype.position=null;const pu={basename:X4e,dirname:J4e,extname:Z4e,join:e5e,sep:"/"};function X4e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');X_(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function J4e(e){if(X_(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function Z4e(e){X_(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function e5e(...e){let t=-1,n;for(;++t<e.length;)X_(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":t5e(n)}function t5e(e){X_(e);const t=e.charCodeAt(0)===47;let n=n5e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function n5e(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function X_(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const r5e={cwd:i5e};function i5e(){return"/"}function IN(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function s5e(e){if(typeof e=="string")e=new URL(e);else if(!IN(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return o5e(e)}function o5e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const vO=["history","path","basename","stem","extname","dirname"];let a5e=class{constructor(t){let n;t?typeof t=="string"||u5e(t)?n={value:t}:IN(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=r5e.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<vO.length;){const s=vO[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)vO.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){IN(t)&&(t=s5e(t)),bO(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?pu.dirname(this.path):void 0}set dirname(t){LV(this.basename,"dirname"),this.path=pu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?pu.basename(this.path):void 0}set basename(t){bO(t,"basename"),_O(t,"basename"),this.path=pu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?pu.extname(this.path):void 0}set extname(t){if(_O(t,"extname"),LV(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=pu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?pu.basename(this.path,this.extname):void 0}set stem(t){bO(t,"stem"),_O(t,"stem"),this.path=pu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new va(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}};function _O(e,t){if(e&&e.includes(pu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+pu.sep+"`")}function bO(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function LV(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function u5e(e){return f6(e)}function MV(e){if(e)throw e}var Mw=Object.prototype.hasOwnProperty,dre=Object.prototype.toString,FV=Object.defineProperty,jV=Object.getOwnPropertyDescriptor,BV=function(t){return typeof Array.isArray=="function"?Array.isArray(t):dre.call(t)==="[object Array]"},UV=function(t){if(!t||dre.call(t)!=="[object Object]")return!1;var n=Mw.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Mw.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Mw.call(t,i)},VV=function(t,n){FV&&n.name==="__proto__"?FV(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},zV=function(t,n){if(n==="__proto__")if(Mw.call(t,n)){if(jV)return jV(t,n).value}else return;return t[n]},l5e=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=zV(a,n),i=zV(t,n),a!==i&&(c&&i&&(UV(i)||(s=BV(i)))?(s?(s=!1,o=r&&BV(r)?r:[]):o=r&&UV(r)?r:{},VV(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&VV(a,{name:n,newValue:i}));return a};const HV=su(l5e);function CN(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function c5e(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?f5e(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function f5e(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class _a extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=cm(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}_a.prototype.file="";_a.prototype.name="";_a.prototype.reason="";_a.prototype.message="";_a.prototype.stack="";_a.prototype.fatal=null;_a.prototype.column=null;_a.prototype.line=null;_a.prototype.source=null;_a.prototype.ruleId=null;_a.prototype.position=null;const mu={basename:d5e,dirname:h5e,extname:p5e,join:m5e,sep:"/"};function d5e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');J_(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function h5e(e){if(J_(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function p5e(e){J_(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function m5e(...e){let t=-1,n;for(;++t<e.length;)J_(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":g5e(n)}function g5e(e){J_(e);const t=e.charCodeAt(0)===47;let n=y5e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function y5e(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function J_(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const v5e={cwd:_5e};function _5e(){return"/"}function PN(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function b5e(e){if(typeof e=="string")e=new URL(e);else if(!PN(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return w5e(e)}function w5e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const wO=["history","path","basename","stem","extname","dirname"];class E5e{constructor(t){let n;t?typeof t=="string"||S5e(t)?n={value:t}:PN(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=v5e.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<wO.length;){const s=wO[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)wO.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){PN(t)&&(t=b5e(t)),SO(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?mu.dirname(this.path):void 0}set dirname(t){WV(this.basename,"dirname"),this.path=mu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?mu.basename(this.path):void 0}set basename(t){SO(t,"basename"),EO(t,"basename"),this.path=mu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?mu.extname(this.path):void 0}set extname(t){if(EO(t,"extname"),WV(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=mu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?mu.basename(this.path,this.extname):void 0}set stem(t){SO(t,"stem"),EO(t,"stem"),this.path=mu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new _a(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function EO(e,t){if(e&&e.includes(mu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+mu.sep+"`")}function SO(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function WV(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function S5e(e){return f6(e)}const T5e=pre().freeze(),hre={}.hasOwnProperty;function pre(){const e=c5e(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=u,s.parse=l,s.stringify=c,s.run=f,s.runSync=d,s.process=h,s.processSync=p,s;function s(){const m=pre();let y=-1;for(;++y<t.length;)m.use(...t[y]);return m.data(HV(!0,{},n)),m}function o(m,y){return typeof m=="string"?arguments.length===2?(IO("data",r),n[m]=y,s):hre.call(n,m)&&n[m]||null:m?(IO("data",r),n=m,s):n}function a(){if(r)return s;for(;++i<t.length;){const[m,...y]=t[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const g=m.call(s,...y);typeof g=="function"&&e.use(g)}return r=!0,i=Number.POSITIVE_INFINITY,s}function u(m,...y){let g;if(IO("use",r),m!=null)if(typeof m=="function")T(m,...y);else if(typeof m=="object")Array.isArray(m)?S(m):_(m);else throw new TypeError("Expected usable value, not `"+m+"`");return g&&(n.settings=Object.assign(n.settings||{},g)),s;function v(E){if(typeof E=="function")T(E);else if(typeof E=="object")if(Array.isArray(E)){const[x,...P]=E;T(x,...P)}else _(E);else throw new TypeError("Expected usable value, not `"+E+"`")}function _(E){S(E.plugins),E.settings&&(g=Object.assign(g||{},E.settings))}function S(E){let x=-1;if(E!=null)if(Array.isArray(E))for(;++x<E.length;){const P=E[x];v(P)}else throw new TypeError("Expected a list of plugins, not `"+E+"`")}function T(E,x){let P=-1,M;for(;++P<t.length;)if(t[P][0]===E){M=t[P];break}M?(CN(M[1])&&CN(x)&&(x=HV(!0,M[1],x)),M[1]=x):t.push([...arguments])}}function l(m){s.freeze();const y=I0(m),g=s.Parser;return TO("parse",g),qV(g,"parse")?new g(String(y),y).parse():g(String(y),y)}function c(m,y){s.freeze();const g=I0(y),v=s.Compiler;return xO("stringify",v),GV(m),qV(v,"compile")?new v(m,g).compile():v(m,g)}function f(m,y,g){if(GV(m),s.freeze(),!g&&typeof y=="function"&&(g=y,y=void 0),!g)return new Promise(v);v(null,g);function v(_,S){e.run(m,I0(y),T);function T(E,x,P){x=x||m,E?S(E):_?_(x):g(null,x,P)}}}function d(m,y){let g,v;return s.run(m,y,_),YV("runSync","run",v),g;function _(S,T){MV(S),g=T,v=!0}}function h(m,y){if(s.freeze(),TO("process",s.Parser),xO("process",s.Compiler),!y)return new Promise(g);g(null,y);function g(v,_){const S=I0(m);s.run(s.parse(S),S,(E,x,P)=>{if(E||!x||!P)T(E);else{const M=s.stringify(x,P);M==null||(C5e(M)?P.value=M:P.result=M),T(E,P)}});function T(E,x){E||!x?_(E):v?v(x):y(null,x)}}}function p(m){let y;s.freeze(),TO("processSync",s.Parser),xO("processSync",s.Compiler);const g=I0(m);return s.process(g,v),YV("processSync","process",y),g;function v(_){y=!0,MV(_)}}}function qV(e,t){return typeof e=="function"&&e.prototype&&(x5e(e.prototype)||t in e.prototype)}function x5e(e){let t;for(t in e)if(hre.call(e,t))return!0;return!1}function TO(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function xO(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function IO(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function GV(e){if(!CN(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function YV(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function I0(e){return I5e(e)?e:new E5e(e)}function I5e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function C5e(e){return typeof e=="string"||f6(e)}const P5e={};function A5e(e,t){const n=t||P5e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return mre(e,r,i)}function mre(e,t,n){if(O5e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return KV(e.children,t,n)}return Array.isArray(e)?KV(e,t,n):""}function KV(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=mre(e[i],t,n);return r.join("")}function O5e(e){return!!(e&&typeof e=="object")}function il(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Qo(e,t){return e.length>0?(il(e,e.length,0,t),e):t}const QV={}.hasOwnProperty;function R5e(e){const t={};let n=-1;for(;++n<e.length;)N5e(t,e[n]);return t}function N5e(e,t){let n;for(n in t){const i=(QV.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){QV.call(i,o)||(i[o]=[]);const a=s[o];k5e(i[o],Array.isArray(a)?a:a?[a]:[])}}}function k5e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);il(e,0,0,r)}const D5e=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,xu=rd(/[A-Za-z]/),Io=rd(/[\dA-Za-z]/),$5e=rd(/[#-'*+\--9=?A-Z^-~]/);function AN(e){return e!==null&&(e<32||e===127)}const ON=rd(/\d/),L5e=rd(/[\dA-Fa-f]/),M5e=rd(/[!-/:-@[-`{-~]/);function Nt(e){return e!==null&&e<-2}function no(e){return e!==null&&(e<0||e===32)}function Rn(e){return e===-2||e===-1||e===32}const F5e=rd(D5e),j5e=rd(/\s/);function rd(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function er(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Rn(u)?(e.enter(n),a(u)):t(u)}function a(u){return Rn(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const B5e={tokenize:U5e};function U5e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),er(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Nt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const V5e={tokenize:z5e},XV={tokenize:H5e};function z5e(e){const t=this,n=[];let r=0,i,s,o;return a;function a(_){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,u,l)(_)}return l(_)}function u(_){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const S=t.events.length;let T=S,E;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){E=t.events[T][1].end;break}g(r);let x=S;for(;x<t.events.length;)t.events[x][1].end=Object.assign({},E),x++;return il(t.events,T+1,0,t.events.slice(S)),t.events.length=x,l(_)}return a(_)}function l(_){if(r===n.length){if(!i)return d(_);if(i.currentConstruct&&i.currentConstruct.concrete)return p(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(XV,c,f)(_)}function c(_){return i&&v(),g(r),d(_)}function f(_){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(_)}function d(_){return t.containerState={},e.attempt(XV,h,p)(_)}function h(_){return r++,n.push([t.currentConstruct,t.containerState]),d(_)}function p(_){if(_===null){i&&v(),g(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),m(_)}function m(_){if(_===null){y(e.exit("chunkFlow"),!0),g(0),e.consume(_);return}return Nt(_)?(e.consume(_),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(_),m)}function y(_,S){const T=t.sliceStream(_);if(S&&T.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(T),t.parser.lazy[_.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<o&&(!i.events[E][1].end||i.events[E][1].end.offset>o))return;const x=t.events.length;let P=x,M,L;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(M){L=t.events[P][1].end;break}M=!0}for(g(r),E=x;E<t.events.length;)t.events[E][1].end=Object.assign({},L),E++;il(t.events,P+1,0,t.events.slice(x)),t.events.length=E}}function g(_){let S=n.length;for(;S-- >_;){const T=n[S];t.containerState=T[1],T[0].exit.call(t,e)}n.length=_}function v(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function H5e(e,t,n){return er(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function JV(e){if(e===null||no(e)||j5e(e))return 1;if(F5e(e))return 2}function d6(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const RN={name:"attention",tokenize:q5e,resolveAll:W5e};function W5e(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);ZV(f,-u),ZV(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=Qo(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=Qo(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=Qo(l,d6(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=Qo(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=Qo(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,il(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function q5e(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=JV(r);let s;return o;function o(u){return s=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=JV(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?f:f&&(i||!d)),l._close=!!(s===42?d:d&&(c||!f)),t(u)}}function ZV(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const G5e={name:"autolink",tokenize:Y5e};function Y5e(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return xu(h)?(e.consume(h),o):l(h)}function o(h){return h===43||h===45||h===46||Io(h)?(r=1,a(h)):l(h)}function a(h){return h===58?(e.consume(h),r=0,u):(h===43||h===45||h===46||Io(h))&&r++<32?(e.consume(h),a):(r=0,l(h))}function u(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||AN(h)?n(h):(e.consume(h),u)}function l(h){return h===64?(e.consume(h),c):$5e(h)?(e.consume(h),l):n(h)}function c(h){return Io(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):d(h)}function d(h){if((h===45||Io(h))&&r++<63){const p=h===45?d:f;return e.consume(h),p}return n(h)}}const gC={tokenize:K5e,partial:!0};function K5e(e,t,n){return r;function r(s){return Rn(s)?er(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Nt(s)?t(s):n(s)}}const gre={name:"blockQuote",tokenize:Q5e,continuation:{tokenize:X5e},exit:J5e};function Q5e(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Rn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function X5e(e,t,n){const r=this;return i;function i(o){return Rn(o)?er(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(gre,t,n)(o)}}function J5e(e){e.exit("blockQuote")}const yre={name:"characterEscape",tokenize:Z5e};function Z5e(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return M5e(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const e7=document.createElement("i");function h6(e){const t="&"+e+";";e7.innerHTML=t;const n=e7.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const vre={name:"characterReference",tokenize:eFe};function eFe(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=Io,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=L5e,c):(e.enter("characterReferenceValue"),s=7,o=ON,c(f))}function c(f){if(f===59&&i){const d=e.exit("characterReferenceValue");return o===Io&&!h6(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),c):n(f)}}const t7={tokenize:nFe,partial:!0},n7={name:"codeFenced",tokenize:tFe,concrete:!0};function tFe(e,t,n){const r=this,i={tokenize:T,partial:!0};let s=0,o=0,a;return u;function u(E){return l(E)}function l(E){const x=r.events[r.events.length-1];return s=x&&x[1].type==="linePrefix"?x[2].sliceSerialize(x[1],!0).length:0,a=E,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(E)}function c(E){return E===a?(o++,e.consume(E),c):o<3?n(E):(e.exit("codeFencedFenceSequence"),Rn(E)?er(e,f,"whitespace")(E):f(E))}function f(E){return E===null||Nt(E)?(e.exit("codeFencedFence"),r.interrupt?t(E):e.check(t7,m,S)(E)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(E))}function d(E){return E===null||Nt(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(E)):Rn(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),er(e,h,"whitespace")(E)):E===96&&E===a?n(E):(e.consume(E),d)}function h(E){return E===null||Nt(E)?f(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(E))}function p(E){return E===null||Nt(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(E)):E===96&&E===a?n(E):(e.consume(E),p)}function m(E){return e.attempt(i,S,y)(E)}function y(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),g}function g(E){return s>0&&Rn(E)?er(e,v,"linePrefix",s+1)(E):v(E)}function v(E){return E===null||Nt(E)?e.check(t7,m,S)(E):(e.enter("codeFlowValue"),_(E))}function _(E){return E===null||Nt(E)?(e.exit("codeFlowValue"),v(E)):(e.consume(E),_)}function S(E){return e.exit("codeFenced"),t(E)}function T(E,x,P){let M=0;return L;function L(te){return E.enter("lineEnding"),E.consume(te),E.exit("lineEnding"),F}function F(te){return E.enter("codeFencedFence"),Rn(te)?er(E,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):V(te)}function V(te){return te===a?(E.enter("codeFencedFenceSequence"),oe(te)):P(te)}function oe(te){return te===a?(M++,E.consume(te),oe):M>=o?(E.exit("codeFencedFenceSequence"),Rn(te)?er(E,U,"whitespace")(te):U(te)):P(te)}function U(te){return te===null||Nt(te)?(E.exit("codeFencedFence"),x(te)):P(te)}}}function nFe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const CO={name:"codeIndented",tokenize:iFe},rFe={tokenize:sFe,partial:!0};function iFe(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),er(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):Nt(l)?e.attempt(rFe,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||Nt(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function sFe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Nt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):er(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Nt(o)?i(o):n(o)}}const oFe={name:"codeText",tokenize:lFe,resolve:aFe,previous:uFe};function aFe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function uFe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function lFe(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):Nt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||Nt(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",l(f))}}function _re(e){const t={};let n=-1,r,i,s,o,a,u,l;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,cFe(e,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),il(e,i,n-i+1,a))}}return!l}function cFe(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],l={};let c,f,d=-1,h=n,p=0,m=0;const y=[m];for(;h;){for(;e[++i][1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(m=d+1,y.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),d=y.length;d--;){const g=a.slice(y[d],y[d+1]),v=s.pop();u.unshift([v,v+g.length-1]),il(e,v,2,g)}for(d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const fFe={tokenize:pFe,resolve:hFe},dFe={tokenize:mFe,partial:!0};function hFe(e){return _re(e),e}function pFe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Nt(a)?e.check(dFe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function mFe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),er(e,s,"linePrefix")}function s(o){if(o===null||Nt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function bre(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(g){return g===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(g),e.exit(s),d):g===null||g===32||g===41||AN(g)?n(g):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(g))}function d(g){return g===62?(e.enter(s),e.consume(g),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===62?(e.exit("chunkString"),e.exit(a),d(g)):g===null||g===60||Nt(g)?n(g):(e.consume(g),g===92?p:h)}function p(g){return g===60||g===62||g===92?(e.consume(g),h):h(g)}function m(g){return!c&&(g===null||g===41||no(g))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(g)):c<l&&g===40?(e.consume(g),c++,m):g===41?(e.consume(g),c--,m):g===null||g===32||g===40||AN(g)?n(g):(e.consume(g),g===92?y:m)}function y(g){return g===40||g===41||g===92?(e.consume(g),m):m(g)}}function wre(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return a>999||h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):Nt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||Nt(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u||(u=!Rn(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function Ere(e,t,n,r,i,s){let o;return a;function a(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,u):n(d)}function u(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),l(d))}function l(d){return d===o?(e.exit(s),u(o)):d===null?n(d):Nt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),er(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||Nt(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function ky(e,t){let n;return r;function r(i){return Nt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Rn(i)?er(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function fm(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const gFe={name:"definition",tokenize:vFe},yFe={tokenize:_Fe,partial:!0};function vFe(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return wre.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=fm(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),u):n(h)}function u(h){return no(h)?ky(e,l)(h):l(h)}function l(h){return bre(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(yFe,f,f)(h)}function f(h){return Rn(h)?er(e,d,"whitespace")(h):d(h)}function d(h){return h===null||Nt(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function _Fe(e,t,n){return r;function r(a){return no(a)?ky(e,i)(a):n(a)}function i(a){return Ere(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Rn(a)?er(e,o,"whitespace")(a):o(a)}function o(a){return a===null||Nt(a)?t(a):n(a)}}const bFe={name:"hardBreakEscape",tokenize:wFe};function wFe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Nt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const EFe={name:"headingAtx",tokenize:TFe,resolve:SFe};function SFe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},il(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function TFe(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||no(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||Nt(c)?(e.exit("atxHeading"),t(c)):Rn(c)?er(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||no(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const xFe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],r7=["pre","script","style","textarea"],IFe={name:"htmlFlow",tokenize:OFe,resolveTo:AFe,concrete:!0},CFe={tokenize:NFe,partial:!0},PFe={tokenize:RFe,partial:!0};function AFe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function OFe(e,t,n){const r=this;let i,s,o,a,u;return l;function l(C){return c(C)}function c(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),f}function f(C){return C===33?(e.consume(C),d):C===47?(e.consume(C),s=!0,m):C===63?(e.consume(C),i=3,r.interrupt?t:A):xu(C)?(e.consume(C),o=String.fromCharCode(C),y):n(C)}function d(C){return C===45?(e.consume(C),i=2,h):C===91?(e.consume(C),i=5,a=0,p):xu(C)?(e.consume(C),i=4,r.interrupt?t:A):n(C)}function h(C){return C===45?(e.consume(C),r.interrupt?t:A):n(C)}function p(C){const O="CDATA[";return C===O.charCodeAt(a++)?(e.consume(C),a===O.length?r.interrupt?t:V:p):n(C)}function m(C){return xu(C)?(e.consume(C),o=String.fromCharCode(C),y):n(C)}function y(C){if(C===null||C===47||C===62||no(C)){const O=C===47,k=o.toLowerCase();return!O&&!s&&r7.includes(k)?(i=1,r.interrupt?t(C):V(C)):xFe.includes(o.toLowerCase())?(i=6,O?(e.consume(C),g):r.interrupt?t(C):V(C)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):s?v(C):_(C))}return C===45||Io(C)?(e.consume(C),o+=String.fromCharCode(C),y):n(C)}function g(C){return C===62?(e.consume(C),r.interrupt?t:V):n(C)}function v(C){return Rn(C)?(e.consume(C),v):L(C)}function _(C){return C===47?(e.consume(C),L):C===58||C===95||xu(C)?(e.consume(C),S):Rn(C)?(e.consume(C),_):L(C)}function S(C){return C===45||C===46||C===58||C===95||Io(C)?(e.consume(C),S):T(C)}function T(C){return C===61?(e.consume(C),E):Rn(C)?(e.consume(C),T):_(C)}function E(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),u=C,x):Rn(C)?(e.consume(C),E):P(C)}function x(C){return C===u?(e.consume(C),u=null,M):C===null||Nt(C)?n(C):(e.consume(C),x)}function P(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||no(C)?T(C):(e.consume(C),P)}function M(C){return C===47||C===62||Rn(C)?_(C):n(C)}function L(C){return C===62?(e.consume(C),F):n(C)}function F(C){return C===null||Nt(C)?V(C):Rn(C)?(e.consume(C),F):n(C)}function V(C){return C===45&&i===2?(e.consume(C),ue):C===60&&i===1?(e.consume(C),ne):C===62&&i===4?(e.consume(C),W):C===63&&i===3?(e.consume(C),A):C===93&&i===5?(e.consume(C),fe):Nt(C)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(CFe,Y,oe)(C)):C===null||Nt(C)?(e.exit("htmlFlowData"),oe(C)):(e.consume(C),V)}function oe(C){return e.check(PFe,U,Y)(C)}function U(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),te}function te(C){return C===null||Nt(C)?oe(C):(e.enter("htmlFlowData"),V(C))}function ue(C){return C===45?(e.consume(C),A):V(C)}function ne(C){return C===47?(e.consume(C),o="",q):V(C)}function q(C){if(C===62){const O=o.toLowerCase();return r7.includes(O)?(e.consume(C),W):V(C)}return xu(C)&&o.length<8?(e.consume(C),o+=String.fromCharCode(C),q):V(C)}function fe(C){return C===93?(e.consume(C),A):V(C)}function A(C){return C===62?(e.consume(C),W):C===45&&i===2?(e.consume(C),A):V(C)}function W(C){return C===null||Nt(C)?(e.exit("htmlFlowData"),Y(C)):(e.consume(C),W)}function Y(C){return e.exit("htmlFlow"),t(C)}}function RFe(e,t,n){const r=this;return i;function i(o){return Nt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function NFe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(gC,t,n)}}const kFe={name:"htmlText",tokenize:DFe};function DFe(e,t,n){const r=this;let i,s,o;return a;function a(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),u}function u(A){return A===33?(e.consume(A),l):A===47?(e.consume(A),T):A===63?(e.consume(A),_):xu(A)?(e.consume(A),P):n(A)}function l(A){return A===45?(e.consume(A),c):A===91?(e.consume(A),s=0,p):xu(A)?(e.consume(A),v):n(A)}function c(A){return A===45?(e.consume(A),h):n(A)}function f(A){return A===null?n(A):A===45?(e.consume(A),d):Nt(A)?(o=f,ne(A)):(e.consume(A),f)}function d(A){return A===45?(e.consume(A),h):f(A)}function h(A){return A===62?ue(A):A===45?d(A):f(A)}function p(A){const W="CDATA[";return A===W.charCodeAt(s++)?(e.consume(A),s===W.length?m:p):n(A)}function m(A){return A===null?n(A):A===93?(e.consume(A),y):Nt(A)?(o=m,ne(A)):(e.consume(A),m)}function y(A){return A===93?(e.consume(A),g):m(A)}function g(A){return A===62?ue(A):A===93?(e.consume(A),g):m(A)}function v(A){return A===null||A===62?ue(A):Nt(A)?(o=v,ne(A)):(e.consume(A),v)}function _(A){return A===null?n(A):A===63?(e.consume(A),S):Nt(A)?(o=_,ne(A)):(e.consume(A),_)}function S(A){return A===62?ue(A):_(A)}function T(A){return xu(A)?(e.consume(A),E):n(A)}function E(A){return A===45||Io(A)?(e.consume(A),E):x(A)}function x(A){return Nt(A)?(o=x,ne(A)):Rn(A)?(e.consume(A),x):ue(A)}function P(A){return A===45||Io(A)?(e.consume(A),P):A===47||A===62||no(A)?M(A):n(A)}function M(A){return A===47?(e.consume(A),ue):A===58||A===95||xu(A)?(e.consume(A),L):Nt(A)?(o=M,ne(A)):Rn(A)?(e.consume(A),M):ue(A)}function L(A){return A===45||A===46||A===58||A===95||Io(A)?(e.consume(A),L):F(A)}function F(A){return A===61?(e.consume(A),V):Nt(A)?(o=F,ne(A)):Rn(A)?(e.consume(A),F):M(A)}function V(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),i=A,oe):Nt(A)?(o=V,ne(A)):Rn(A)?(e.consume(A),V):(e.consume(A),U)}function oe(A){return A===i?(e.consume(A),i=void 0,te):A===null?n(A):Nt(A)?(o=oe,ne(A)):(e.consume(A),oe)}function U(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||no(A)?M(A):(e.consume(A),U)}function te(A){return A===47||A===62||no(A)?M(A):n(A)}function ue(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):n(A)}function ne(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),q}function q(A){return Rn(A)?er(e,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):fe(A)}function fe(A){return e.enter("htmlTextData"),o(A)}}const p6={name:"labelEnd",tokenize:BFe,resolveTo:jFe,resolveAll:FFe},$Fe={tokenize:UFe},LFe={tokenize:VFe},MFe={tokenize:zFe};function FFe(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function jFe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=Qo(a,e.slice(s+1,s+r+3)),a=Qo(a,[["enter",c,t]]),a=Qo(a,d6(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Qo(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=Qo(a,e.slice(o+1)),a=Qo(a,[["exit",u,t]]),il(e,s,e.length,a),e}function BFe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(d){return s?s._inactive?f(d):(o=r.parser.defined.includes(fm(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),u):n(d)}function u(d){return d===40?e.attempt($Fe,c,o?c:f)(d):d===91?e.attempt(LFe,c,o?l:f)(d):o?c(d):f(d)}function l(d){return e.attempt(MFe,c,f)(d)}function c(d){return t(d)}function f(d){return s._balanced=!0,n(d)}}function UFe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return no(f)?ky(e,s)(f):s(f)}function s(f){return f===41?c(f):bre(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return no(f)?ky(e,u)(f):c(f)}function a(f){return n(f)}function u(f){return f===34||f===39||f===40?Ere(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function l(f){return no(f)?ky(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function VFe(e,t,n){const r=this;return i;function i(a){return wre.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(fm(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function zFe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const HFe={name:"labelStartImage",tokenize:WFe,resolveAll:p6.resolveAll};function WFe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const qFe={name:"labelStartLink",tokenize:GFe,resolveAll:p6.resolveAll};function GFe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const PO={name:"lineEnding",tokenize:YFe};function YFe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),er(e,t,"linePrefix")}}const Fw={name:"thematicBreak",tokenize:KFe};function KFe(e,t,n){let r=0,i;return s;function s(l){return e.enter("thematicBreak"),o(l)}function o(l){return i=l,a(l)}function a(l){return l===i?(e.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||Nt(l))?(e.exit("thematicBreak"),t(l)):n(l)}function u(l){return l===i?(e.consume(l),r++,u):(e.exit("thematicBreakSequence"),Rn(l)?er(e,a,"whitespace")(l):a(l))}}const $s={name:"list",tokenize:JFe,continuation:{tokenize:ZFe},exit:t8e},QFe={tokenize:n8e,partial:!0},XFe={tokenize:e8e,partial:!0};function JFe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:ON(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Fw,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return ON(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(gC,r.interrupt?n:c,e.attempt(QFe,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return Rn(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function ZFe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(gC,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,er(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Rn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(XFe,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,er(e,e.attempt($s,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function e8e(e,t,n){const r=this;return er(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function t8e(e){e.exit(this.containerState.type)}function n8e(e,t,n){const r=this;return er(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Rn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const i7={name:"setextUnderline",tokenize:i8e,resolveTo:r8e};function r8e(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function i8e(e,t,n){const r=this;let i;return s;function s(l){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=l,o(l)):n(l)}function o(l){return e.enter("setextHeadingLineSequence"),a(l)}function a(l){return l===i?(e.consume(l),a):(e.exit("setextHeadingLineSequence"),Rn(l)?er(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||Nt(l)?(e.exit("setextHeadingLine"),t(l)):n(l)}}const s8e={tokenize:o8e};function o8e(e){const t=this,n=e.attempt(gC,r,e.attempt(this.parser.constructs.flowInitial,i,er(e,e.attempt(this.parser.constructs.flow,i,e.attempt(fFe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const a8e={resolveAll:Tre()},u8e=Sre("string"),l8e=Sre("text");function Sre(e){return{tokenize:t,resolveAll:Tre(e==="text"?c8e:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Tre(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function c8e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function f8e(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:v,enter:_,exit:S,attempt:x(T),check:x(E),interrupt:x(E,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:m,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function f(F){return o=Qo(o,F),y(),o[o.length-1]!==null?[]:(P(t,0),l.events=d6(s,l.events,l),l.events)}function d(F,V){return h8e(h(F),V)}function h(F){return d8e(o,F)}function p(){const{line:F,column:V,offset:oe,_index:U,_bufferIndex:te}=r;return{line:F,column:V,offset:oe,_index:U,_bufferIndex:te}}function m(F){i[F.line]=F.column,L()}function y(){let F;for(;r._index<o.length;){const V=o[r._index];if(typeof V=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<V.length;)g(V.charCodeAt(r._bufferIndex));else g(V)}}function g(F){c=c(F)}function v(F){Nt(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,L()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=F}function _(F,V){const oe=V||{};return oe.type=F,oe.start=p(),l.events.push(["enter",oe,l]),a.push(oe),oe}function S(F){const V=a.pop();return V.end=p(),l.events.push(["exit",V,l]),V}function T(F,V){P(F,V.from)}function E(F,V){V.restore()}function x(F,V){return oe;function oe(U,te,ue){let ne,q,fe,A;return Array.isArray(U)?Y(U):"tokenize"in U?Y([U]):W(U);function W(G){return de;function de(he){const ge=he!==null&&G[he],Te=he!==null&&G.null,Pe=[...Array.isArray(ge)?ge:ge?[ge]:[],...Array.isArray(Te)?Te:Te?[Te]:[]];return Y(Pe)(he)}}function Y(G){return ne=G,q=0,G.length===0?ue:C(G[q])}function C(G){return de;function de(he){return A=M(),fe=G,G.partial||(l.currentConstruct=G),G.name&&l.parser.constructs.disable.null.includes(G.name)?k():G.tokenize.call(V?Object.assign(Object.create(l),V):l,u,O,k)(he)}}function O(G){return F(fe,A),te}function k(G){return A.restore(),++q<ne.length?C(ne[q]):ue}}}function P(F,V){F.resolveAll&&!s.includes(F)&&s.push(F),F.resolve&&il(l.events,V,l.events.length-V,F.resolve(l.events.slice(V),l)),F.resolveTo&&(l.events=F.resolveTo(l.events,l))}function M(){const F=p(),V=l.previous,oe=l.currentConstruct,U=l.events.length,te=Array.from(a);return{restore:ue,from:U};function ue(){r=F,l.previous=V,l.currentConstruct=oe,l.events.length=U,a=te,L()}}function L(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function d8e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function h8e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const p8e={42:$s,43:$s,45:$s,48:$s,49:$s,50:$s,51:$s,52:$s,53:$s,54:$s,55:$s,56:$s,57:$s,62:gre},m8e={91:gFe},g8e={[-2]:CO,[-1]:CO,32:CO},y8e={35:EFe,42:Fw,45:[i7,Fw],60:IFe,61:i7,95:Fw,96:n7,126:n7},v8e={38:vre,92:yre},_8e={[-5]:PO,[-4]:PO,[-3]:PO,33:HFe,38:vre,42:RN,60:[G5e,kFe],91:qFe,92:[bFe,yre],93:p6,95:RN,96:oFe},b8e={null:[RN,a8e]},w8e={null:[42,95]},E8e={null:[]},S8e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:w8e,contentInitial:m8e,disable:E8e,document:p8e,flow:y8e,flowInitial:g8e,insideSpan:b8e,string:v8e,text:_8e},Symbol.toStringTag,{value:"Module"}));function T8e(e){const n=R5e([S8e,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(B5e),document:i(V5e),flow:i(s8e),string:i(u8e),text:i(l8e)};return r;function i(s){return o;function o(a){return f8e(r,s,a)}}}const s7=/[\0\t\n\r]/g;function x8e(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,f,d,h;for(s=t+s.toString(o),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(s7.lastIndex=f,l=s7.exec(s),d=l&&l.index!==void 0?l.index:s.length,h=s.charCodeAt(d),!l){t=s.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(s.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}function I8e(e){for(;!_re(e););return e}function xre(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const C8e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function P8e(e){return e.replace(C8e,A8e)}function A8e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return xre(n.slice(s?2:1),s?16:10)}return h6(n)||e}const Ire={}.hasOwnProperty,O8e=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),R8e(n)(I8e(T8e(n).document().write(x8e()(e,t,!0))))};function R8e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(hn),autolinkProtocol:F,autolinkEmail:F,atxHeading:a(Ve),blockQuote:a(Pe),characterEscape:F,characterReference:F,codeFenced:a(Se),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:a(Se,u),codeText:a(st,u),codeTextData:F,data:F,codeFlowValue:F,definition:a(Je),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:a(vt),hardBreakEscape:a(ct),hardBreakTrailing:a(ct),htmlFlow:a(gt,u),htmlFlowData:F,htmlText:a(gt,u),htmlTextData:F,image:a(rn),label:u,link:a(hn),listItem:a(ye),listItemValue:p,listOrdered:a(ae,h),listUnordered:a(ae),paragraph:a(ve),reference:k,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:a(Ve),strong:a(se),thematicBreak:a($e)},exit:{atxHeading:c(),atxHeadingSequence:x,autolink:c(),autolinkEmail:Te,autolinkProtocol:ge,blockQuote:c(),characterEscapeValue:V,characterReferenceMarkerHexadecimal:de,characterReferenceMarkerNumeric:de,characterReferenceValue:he,codeFenced:c(v),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:V,codeIndented:c(_),codeText:c(ne),codeTextData:V,data:V,definition:c(),definitionDestinationString:E,definitionLabelString:S,definitionTitleString:T,emphasis:c(),hardBreakEscape:c(U),hardBreakTrailing:c(U),htmlFlow:c(te),htmlFlowData:V,htmlText:c(ue),htmlTextData:V,image:c(fe),label:W,labelText:A,lineEnding:oe,link:c(q),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:G,resourceDestinationString:Y,resourceTitleString:C,resource:O,setextHeading:c(L),setextHeadingLineSequence:M,setextHeadingText:P,strong:c(),thematicBreak:c()}};Cre(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(X){let me={type:"root",children:[]};const _e={stack:[me],tokenStack:[],config:t,enter:l,exit:f,buffer:u,resume:d,setData:s,getData:o},Oe=[];let We=-1;for(;++We<X.length;)if(X[We][1].type==="listOrdered"||X[We][1].type==="listUnordered")if(X[We][0]==="enter")Oe.push(We);else{const _t=Oe.pop();We=i(X,_t,We)}for(We=-1;++We<X.length;){const _t=t[X[We][0]];Ire.call(_t,X[We][1].type)&&_t[X[We][1].type].call(Object.assign({sliceSerialize:X[We][2].sliceSerialize},_e),X[We][1])}if(_e.tokenStack.length>0){const _t=_e.tokenStack[_e.tokenStack.length-1];(_t[1]||o7).call(_e,void 0,_t[0])}for(me.position={start:Nc(X.length>0?X[0][1].start:{line:1,column:1,offset:0}),end:Nc(X.length>0?X[X.length-2][1].end:{line:1,column:1,offset:0})},We=-1;++We<t.transforms.length;)me=t.transforms[We](me)||me;return me}function i(X,me,_e){let Oe=me-1,We=-1,_t=!1,Be,Qe,Xe,Ct;for(;++Oe<=_e;){const ht=X[Oe];if(ht[1].type==="listUnordered"||ht[1].type==="listOrdered"||ht[1].type==="blockQuote"?(ht[0]==="enter"?We++:We--,Ct=void 0):ht[1].type==="lineEndingBlank"?ht[0]==="enter"&&(Be&&!Ct&&!We&&!Xe&&(Xe=Oe),Ct=void 0):ht[1].type==="linePrefix"||ht[1].type==="listItemValue"||ht[1].type==="listItemMarker"||ht[1].type==="listItemPrefix"||ht[1].type==="listItemPrefixWhitespace"||(Ct=void 0),!We&&ht[0]==="enter"&&ht[1].type==="listItemPrefix"||We===-1&&ht[0]==="exit"&&(ht[1].type==="listUnordered"||ht[1].type==="listOrdered")){if(Be){let Yn=Oe;for(Qe=void 0;Yn--;){const Qt=X[Yn];if(Qt[1].type==="lineEnding"||Qt[1].type==="lineEndingBlank"){if(Qt[0]==="exit")continue;Qe&&(X[Qe][1].type="lineEndingBlank",_t=!0),Qt[1].type="lineEnding",Qe=Yn}else if(!(Qt[1].type==="linePrefix"||Qt[1].type==="blockQuotePrefix"||Qt[1].type==="blockQuotePrefixWhitespace"||Qt[1].type==="blockQuoteMarker"||Qt[1].type==="listItemIndent"))break}Xe&&(!Qe||Xe<Qe)&&(Be._spread=!0),Be.end=Object.assign({},Qe?X[Qe][1].start:ht[1].end),X.splice(Qe||Oe,0,["exit",Be,ht[2]]),Oe++,_e++}ht[1].type==="listItemPrefix"&&(Be={type:"listItem",_spread:!1,start:Object.assign({},ht[1].start),end:void 0},X.splice(Oe,0,["enter",Be,ht[2]]),Oe++,_e++,Xe=void 0,Ct=!0)}}return X[me][1]._spread=_t,_e}function s(X,me){n[X]=me}function o(X){return n[X]}function a(X,me){return _e;function _e(Oe){l.call(this,X(Oe),Oe),me&&me.call(this,Oe)}}function u(){this.stack.push({type:"fragment",children:[]})}function l(X,me,_e){return this.stack[this.stack.length-1].children.push(X),this.stack.push(X),this.tokenStack.push([me,_e]),X.position={start:Nc(me.start)},X}function c(X){return me;function me(_e){X&&X.call(this,_e),f.call(this,_e)}}function f(X,me){const _e=this.stack.pop(),Oe=this.tokenStack.pop();if(Oe)Oe[0].type!==X.type&&(me?me.call(this,X,Oe[0]):(Oe[1]||o7).call(this,X,Oe[0]));else throw new Error("Cannot close `"+X.type+"` ("+cm({start:X.start,end:X.end})+"): its not open");return _e.position.end=Nc(X.end),_e}function d(){return A5e(this.stack.pop())}function h(){s("expectingFirstListItemValue",!0)}function p(X){if(o("expectingFirstListItemValue")){const me=this.stack[this.stack.length-2];me.start=Number.parseInt(this.sliceSerialize(X),10),s("expectingFirstListItemValue")}}function m(){const X=this.resume(),me=this.stack[this.stack.length-1];me.lang=X}function y(){const X=this.resume(),me=this.stack[this.stack.length-1];me.meta=X}function g(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function v(){const X=this.resume(),me=this.stack[this.stack.length-1];me.value=X.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function _(){const X=this.resume(),me=this.stack[this.stack.length-1];me.value=X.replace(/(\r?\n|\r)$/g,"")}function S(X){const me=this.resume(),_e=this.stack[this.stack.length-1];_e.label=me,_e.identifier=fm(this.sliceSerialize(X)).toLowerCase()}function T(){const X=this.resume(),me=this.stack[this.stack.length-1];me.title=X}function E(){const X=this.resume(),me=this.stack[this.stack.length-1];me.url=X}function x(X){const me=this.stack[this.stack.length-1];if(!me.depth){const _e=this.sliceSerialize(X).length;me.depth=_e}}function P(){s("setextHeadingSlurpLineEnding",!0)}function M(X){const me=this.stack[this.stack.length-1];me.depth=this.sliceSerialize(X).charCodeAt(0)===61?1:2}function L(){s("setextHeadingSlurpLineEnding")}function F(X){const me=this.stack[this.stack.length-1];let _e=me.children[me.children.length-1];(!_e||_e.type!=="text")&&(_e=be(),_e.position={start:Nc(X.start)},me.children.push(_e)),this.stack.push(_e)}function V(X){const me=this.stack.pop();me.value+=this.sliceSerialize(X),me.position.end=Nc(X.end)}function oe(X){const me=this.stack[this.stack.length-1];if(o("atHardBreak")){const _e=me.children[me.children.length-1];_e.position.end=Nc(X.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(me.type)&&(F.call(this,X),V.call(this,X))}function U(){s("atHardBreak",!0)}function te(){const X=this.resume(),me=this.stack[this.stack.length-1];me.value=X}function ue(){const X=this.resume(),me=this.stack[this.stack.length-1];me.value=X}function ne(){const X=this.resume(),me=this.stack[this.stack.length-1];me.value=X}function q(){const X=this.stack[this.stack.length-1];if(o("inReference")){const me=o("referenceType")||"shortcut";X.type+="Reference",X.referenceType=me,delete X.url,delete X.title}else delete X.identifier,delete X.label;s("referenceType")}function fe(){const X=this.stack[this.stack.length-1];if(o("inReference")){const me=o("referenceType")||"shortcut";X.type+="Reference",X.referenceType=me,delete X.url,delete X.title}else delete X.identifier,delete X.label;s("referenceType")}function A(X){const me=this.sliceSerialize(X),_e=this.stack[this.stack.length-2];_e.label=P8e(me),_e.identifier=fm(me).toLowerCase()}function W(){const X=this.stack[this.stack.length-1],me=this.resume(),_e=this.stack[this.stack.length-1];if(s("inReference",!0),_e.type==="link"){const Oe=X.children;_e.children=Oe}else _e.alt=me}function Y(){const X=this.resume(),me=this.stack[this.stack.length-1];me.url=X}function C(){const X=this.resume(),me=this.stack[this.stack.length-1];me.title=X}function O(){s("inReference")}function k(){s("referenceType","collapsed")}function G(X){const me=this.resume(),_e=this.stack[this.stack.length-1];_e.label=me,_e.identifier=fm(this.sliceSerialize(X)).toLowerCase(),s("referenceType","full")}function de(X){s("characterReferenceType",X.type)}function he(X){const me=this.sliceSerialize(X),_e=o("characterReferenceType");let Oe;_e?(Oe=xre(me,_e==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):Oe=h6(me);const We=this.stack.pop();We.value+=Oe,We.position.end=Nc(X.end)}function ge(X){V.call(this,X);const me=this.stack[this.stack.length-1];me.url=this.sliceSerialize(X)}function Te(X){V.call(this,X);const me=this.stack[this.stack.length-1];me.url="mailto:"+this.sliceSerialize(X)}function Pe(){return{type:"blockquote",children:[]}}function Se(){return{type:"code",lang:null,meta:null,value:""}}function st(){return{type:"inlineCode",value:""}}function Je(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function vt(){return{type:"emphasis",children:[]}}function Ve(){return{type:"heading",depth:void 0,children:[]}}function ct(){return{type:"break"}}function gt(){return{type:"html",value:""}}function rn(){return{type:"image",title:null,url:"",alt:null}}function hn(){return{type:"link",title:null,url:"",children:[]}}function ae(X){return{type:"list",ordered:X.type==="listOrdered",start:null,spread:X._spread,children:[]}}function ye(X){return{type:"listItem",spread:X._spread,checked:null,children:[]}}function ve(){return{type:"paragraph",children:[]}}function se(){return{type:"strong",children:[]}}function be(){return{type:"text",value:""}}function $e(){return{type:"thematicBreak"}}}function Nc(e){return{line:e.line,column:e.column,offset:e.offset}}function Cre(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Cre(e,r):N8e(e,r)}}function N8e(e,t){let n;for(n in t)if(Ire.call(t,n)){if(n==="canContainEols"){const r=t[n];r&&e[n].push(...r)}else if(n==="transforms"){const r=t[n];r&&e[n].push(...r)}else if(n==="enter"||n==="exit"){const r=t[n];r&&Object.assign(e[n],r)}}}function o7(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+cm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+cm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+cm({start:t.start,end:t.end})+") is still open")}function k8e(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return O8e(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function D8e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function $8e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function L8e(e,t){const n=t.value?t.value+`
`:"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function M8e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function F8e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Og(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Io(e.charCodeAt(n+1))&&Io(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Pre(e,t){const n=String(t.identifier).toUpperCase(),r=Og(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n],a={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function j8e(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},Pre(e,{type:"footnoteReference",identifier:i,position:t.position})}function B8e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function U8e(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null}function Are(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+r};const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function V8e(e,t){const n=e.definition(t.identifier);if(!n)return Are(e,t);const r={src:Og(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)}function z8e(e,t){const n={src:Og(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function H8e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function W8e(e,t){const n=e.definition(t.identifier);if(!n)return Are(e,t);const r={href:Og(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function q8e(e,t){const n={href:Og(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function G8e(e,t,n){const r=e.all(t),i=n?Y8e(n):Ore(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,l),e.applyData(t,l)}function Y8e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Ore(n[r])}return t}function Ore(e){const t=e.spread;return t??e.children.length>1}function K8e(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function Q8e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function X8e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function J8e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const m6=Rre("start"),g6=Rre("end");function Z8e(e){return{start:m6(e),end:g6(e)}}function Rre(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function e9e(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=m6(t.children[1]),u=g6(t.children[t.children.length-1]);a.line&&u.line&&(o.position={start:a,end:u}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function t9e(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let u=-1;const l=[];for(;++u<a;){const f=t.children[u],d={},h=o?o[u]:void 0;h&&(d.align=h);let p={type:"element",tagName:s,properties:d,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(t,p)),l.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function n9e(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const a7=9,u7=32;function r9e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(l7(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(l7(t.slice(i),i>0,!1)),s.join("")}function l7(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===a7||s===u7;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===a7||s===u7;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function i9e(e,t){const n={type:"text",value:r9e(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function s9e(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const o9e={blockquote:D8e,break:$8e,code:L8e,delete:M8e,emphasis:F8e,footnoteReference:Pre,footnote:j8e,heading:B8e,html:U8e,imageReference:V8e,image:z8e,inlineCode:H8e,linkReference:W8e,link:q8e,listItem:G8e,list:K8e,paragraph:Q8e,root:X8e,strong:J8e,table:e9e,tableCell:n9e,tableRow:t9e,text:i9e,thematicBreak:s9e,toml:Ob,yaml:Ob,definition:Ob,footnoteDefinition:Ob};function Ob(){return null}const Nre=function(e){if(e==null)return c9e;if(typeof e=="string")return l9e(e);if(typeof e=="object")return Array.isArray(e)?a9e(e):u9e(e);if(typeof e=="function")return yC(e);throw new Error("Expected function, string, or object as test")};function a9e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Nre(e[n]);return yC(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function u9e(e){return yC(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function l9e(e){return yC(t);function t(n){return n&&n.type===e}}function yC(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function c9e(){return!0}const f9e=!0,c7=!1,d9e="skip",h9e=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=Nre(t),s=r?-1:1;o(e,void 0,[])();function o(a,u,l){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(a.type+(d?"<"+d+">":""))+")"})}return f;function f(){let d=[],h,p,m;if((!t||i(a,u,l[l.length-1]||null))&&(d=p9e(n(a,l)),d[0]===c7))return d;if(a.children&&d[0]!==d9e)for(p=(r?a.children.length:-1)+s,m=l.concat(a);p>-1&&p<a.children.length;){if(h=o(a.children[p],p,m)(),h[0]===c7)return h;p=typeof h[1]=="number"?h[1]:p+s}return d}}};function p9e(e){return Array.isArray(e)?e:typeof e=="number"?[f9e,e]:[e]}const y6=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),h9e(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}};function m9e(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const f7={}.hasOwnProperty;function g9e(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return y6(e,"definition",r=>{const i=d7(r.identifier);i&&!f7.call(t,i)&&(t[i]=r)}),n;function n(r){const i=d7(r);return i&&f7.call(t,i)?t[i]:null}}function d7(e){return String(e||"").toUpperCase()}const UT={}.hasOwnProperty;function y9e(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,o.handlers={...o9e,...n.handlers},o.definition=g9e(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.patch=v9e,o.applyData=_9e,o.one=a,o.all=u,o.wrap=w9e,o.augment=s,y6(e,"footnoteDefinition",l=>{const c=String(l.identifier).toUpperCase();UT.call(i,c)||(i[c]=l)}),o;function s(l,c){if(l&&"data"in l&&l.data){const f=l.data;f.hName&&(c.type!=="element"&&(c={type:"element",tagName:"",properties:{},children:[]}),c.tagName=f.hName),c.type==="element"&&f.hProperties&&(c.properties={...c.properties,...f.hProperties}),"children"in c&&c.children&&f.hChildren&&(c.children=f.hChildren)}if(l){const f="type"in l?l:{position:l};m9e(f)||(c.position={start:m6(f),end:g6(f)})}return c}function o(l,c,f,d){return Array.isArray(f)&&(d=f,f={}),s(l,{type:"element",tagName:c,properties:f||{},children:d||[]})}function a(l,c){return kre(o,l,c)}function u(l){return v6(o,l)}}function v9e(e,t){e.position&&(t.position=Z8e(e))}function _9e(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function kre(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return UT.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?{...t,children:v6(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,n):b9e(e,t)}function v6(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=kre(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function b9e(e,t){const n=t.data||{},r="value"in t&&!(UT.call(n,"hProperties")||UT.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:v6(e,t)};return e.patch(t,r),e.applyData(t,r)}function w9e(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function E9e(e){const t=[];let n=-1;for(;++n<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[n]];if(!r)continue;const i=e.all(r),s=String(r.identifier).toUpperCase(),o=Og(s.toLowerCase());let a=0;const u=[];for(;++a<=e.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(f)}const l=i[i.length-1];if(l&&l.type==="element"&&l.tagName==="p"){const f=l.children[l.children.length-1];f&&f.type==="text"?f.value+=" ":l.children.push({type:"text",value:" "}),l.children.push(...u)}else i.push(...u);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:e.wrap(i,!0)};e.patch(r,c),t.push(c)}if(t.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:`
`}]}}function Dre(e,t){const n=y9e(e,t),r=n.one(e,null),i=E9e(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const S9e=function(e,t){return e&&"run"in e?x9e(e,t):I9e(e||t)},T9e=S9e;function x9e(e,t){return(n,r,i)=>{e.run(Dre(n,t),r,s=>{i(s)})}}function I9e(e){return t=>Dre(t,e)}var $re={exports:{}},C9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",P9e=C9e,A9e=P9e;function Lre(){}function Mre(){}Mre.resetWarningCache=Lre;var O9e=function(){function e(r,i,s,o,a,u){if(u!==A9e){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Mre,resetWarningCache:Lre};return n.PropTypes=n,n};$re.exports=O9e();var R9e=$re.exports;const wt=su(R9e);let Z_=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};Z_.prototype.property={};Z_.prototype.normal={};Z_.prototype.space=null;function Fre(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Z_(n,r,t)}function Ov(e){return e.toLowerCase()}class ba{constructor(t,n){this.property=t,this.attribute=n}}ba.prototype.space=null;ba.prototype.boolean=!1;ba.prototype.booleanish=!1;ba.prototype.overloadedBoolean=!1;ba.prototype.number=!1;ba.prototype.commaSeparated=!1;ba.prototype.spaceSeparated=!1;ba.prototype.commaOrSpaceSeparated=!1;ba.prototype.mustUseProperty=!1;ba.prototype.defined=!1;let N9e=0;const Gt=Uh(),Hr=Uh(),jre=Uh(),Ue=Uh(),Jn=Uh(),dm=Uh(),go=Uh();function Uh(){return 2**++N9e}const NN=Object.freeze(Object.defineProperty({__proto__:null,boolean:Gt,booleanish:Hr,commaOrSpaceSeparated:go,commaSeparated:dm,number:Ue,overloadedBoolean:jre,spaceSeparated:Jn},Symbol.toStringTag,{value:"Module"})),AO=Object.keys(NN);class _6 extends ba{constructor(t,n,r,i){let s=-1;if(super(t,n),h7(this,"space",i),typeof r=="number")for(;++s<AO.length;){const o=AO[s];h7(this,AO[s],(r&NN[o])===NN[o])}}}_6.prototype.defined=!0;function h7(e,t,n){n&&(e[t]=n)}const k9e={}.hasOwnProperty;function Rg(e){const t={},n={};let r;for(r in e.properties)if(k9e.call(e.properties,r)){const i=e.properties[r],s=new _6(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Ov(r)]=r,n[Ov(s.attribute)]=r}return new Z_(t,n,e.space)}const Bre=Rg({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Ure=Rg({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Vre(e,t){return t in e?e[t]:t}function zre(e,t){return Vre(e,t.toLowerCase())}const Hre=Rg({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:zre,properties:{xmlns:null,xmlnsXLink:null}}),Wre=Rg({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Hr,ariaAutoComplete:null,ariaBusy:Hr,ariaChecked:Hr,ariaColCount:Ue,ariaColIndex:Ue,ariaColSpan:Ue,ariaControls:Jn,ariaCurrent:null,ariaDescribedBy:Jn,ariaDetails:null,ariaDisabled:Hr,ariaDropEffect:Jn,ariaErrorMessage:null,ariaExpanded:Hr,ariaFlowTo:Jn,ariaGrabbed:Hr,ariaHasPopup:null,ariaHidden:Hr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Jn,ariaLevel:Ue,ariaLive:null,ariaModal:Hr,ariaMultiLine:Hr,ariaMultiSelectable:Hr,ariaOrientation:null,ariaOwns:Jn,ariaPlaceholder:null,ariaPosInSet:Ue,ariaPressed:Hr,ariaReadOnly:Hr,ariaRelevant:null,ariaRequired:Hr,ariaRoleDescription:Jn,ariaRowCount:Ue,ariaRowIndex:Ue,ariaRowSpan:Ue,ariaSelected:Hr,ariaSetSize:Ue,ariaSort:null,ariaValueMax:Ue,ariaValueMin:Ue,ariaValueNow:Ue,ariaValueText:null,role:null}}),D9e=Rg({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:zre,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:dm,acceptCharset:Jn,accessKey:Jn,action:null,allow:null,allowFullScreen:Gt,allowPaymentRequest:Gt,allowUserMedia:Gt,alt:null,as:null,async:Gt,autoCapitalize:null,autoComplete:Jn,autoFocus:Gt,autoPlay:Gt,blocking:Jn,capture:null,charSet:null,checked:Gt,cite:null,className:Jn,cols:Ue,colSpan:null,content:null,contentEditable:Hr,controls:Gt,controlsList:Jn,coords:Ue|dm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Gt,defer:Gt,dir:null,dirName:null,disabled:Gt,download:jre,draggable:Hr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Gt,formTarget:null,headers:Jn,height:Ue,hidden:Gt,high:Ue,href:null,hrefLang:null,htmlFor:Jn,httpEquiv:Jn,id:null,imageSizes:null,imageSrcSet:null,inert:Gt,inputMode:null,integrity:null,is:null,isMap:Gt,itemId:null,itemProp:Jn,itemRef:Jn,itemScope:Gt,itemType:Jn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Gt,low:Ue,manifest:null,max:null,maxLength:Ue,media:null,method:null,min:null,minLength:Ue,multiple:Gt,muted:Gt,name:null,nonce:null,noModule:Gt,noValidate:Gt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Gt,optimum:Ue,pattern:null,ping:Jn,placeholder:null,playsInline:Gt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Gt,referrerPolicy:null,rel:Jn,required:Gt,reversed:Gt,rows:Ue,rowSpan:Ue,sandbox:Jn,scope:null,scoped:Gt,seamless:Gt,selected:Gt,shadowRootDelegatesFocus:Gt,shadowRootMode:null,shape:null,size:Ue,sizes:null,slot:null,span:Ue,spellCheck:Hr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ue,step:null,style:null,tabIndex:Ue,target:null,title:null,translate:null,type:null,typeMustMatch:Gt,useMap:null,value:Hr,width:Ue,wrap:null,align:null,aLink:null,archive:Jn,axis:null,background:null,bgColor:null,border:Ue,borderColor:null,bottomMargin:Ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Gt,declare:Gt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ue,leftMargin:Ue,link:null,longDesc:null,lowSrc:null,marginHeight:Ue,marginWidth:Ue,noResize:Gt,noHref:Gt,noShade:Gt,noWrap:Gt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ue,rules:null,scheme:null,scrolling:Hr,standby:null,summary:null,text:null,topMargin:Ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Gt,disableRemotePlayback:Gt,prefix:null,property:null,results:Ue,security:null,unselectable:null}}),$9e=Rg({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Vre,properties:{about:go,accentHeight:Ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ue,amplitude:Ue,arabicForm:null,ascent:Ue,attributeName:null,attributeType:null,azimuth:Ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ue,by:null,calcMode:null,capHeight:Ue,className:Jn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ue,diffuseConstant:Ue,direction:null,display:null,dur:null,divisor:Ue,dominantBaseline:null,download:Gt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ue,enableBackground:null,end:null,event:null,exponent:Ue,externalResourcesRequired:null,fill:null,fillOpacity:Ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:dm,g2:dm,glyphName:dm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ue,horizOriginX:Ue,horizOriginY:Ue,id:null,ideographic:Ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ue,k:Ue,k1:Ue,k2:Ue,k3:Ue,k4:Ue,kernelMatrix:go,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ue,overlineThickness:Ue,paintOrder:null,panose1:null,path:null,pathLength:Ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Jn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ue,pointsAtY:Ue,pointsAtZ:Ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:go,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:go,rev:go,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:go,requiredFeatures:go,requiredFonts:go,requiredFormats:go,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ue,specularExponent:Ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ue,strikethroughThickness:Ue,string:null,stroke:null,strokeDashArray:go,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ue,strokeOpacity:Ue,strokeWidth:null,style:null,surfaceScale:Ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:go,tabIndex:Ue,tableValues:null,target:null,targetX:Ue,targetY:Ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:go,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ue,underlineThickness:Ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ue,values:null,vAlphabetic:Ue,vMathematical:Ue,vectorEffect:null,vHanging:Ue,vIdeographic:Ue,version:null,vertAdvY:Ue,vertOriginX:Ue,vertOriginY:Ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),L9e=/^data[-\w.:]+$/i,p7=/-[a-z]/g,M9e=/[A-Z]/g;function vC(e,t){const n=Ov(t);let r=t,i=ba;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&L9e.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(p7,j9e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!p7.test(s)){let o=s.replace(M9e,F9e);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=_6}return new i(r,t)}function F9e(e){return"-"+e.toLowerCase()}function j9e(e){return e.charAt(1).toUpperCase()}const m7={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},e1=Fre([Ure,Bre,Hre,Wre,D9e],"html"),Ng=Fre([Ure,Bre,Hre,Wre,$9e],"svg");function B9e(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{y6(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var qre={exports:{}},Vn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b6=Symbol.for("react.element"),w6=Symbol.for("react.portal"),_C=Symbol.for("react.fragment"),bC=Symbol.for("react.strict_mode"),wC=Symbol.for("react.profiler"),EC=Symbol.for("react.provider"),SC=Symbol.for("react.context"),U9e=Symbol.for("react.server_context"),TC=Symbol.for("react.forward_ref"),xC=Symbol.for("react.suspense"),IC=Symbol.for("react.suspense_list"),CC=Symbol.for("react.memo"),PC=Symbol.for("react.lazy"),V9e=Symbol.for("react.offscreen"),Gre;Gre=Symbol.for("react.module.reference");function wa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case b6:switch(e=e.type,e){case _C:case wC:case bC:case xC:case IC:return e;default:switch(e=e&&e.$$typeof,e){case U9e:case SC:case TC:case PC:case CC:case EC:return e;default:return t}}case w6:return t}}}Vn.ContextConsumer=SC;Vn.ContextProvider=EC;Vn.Element=b6;Vn.ForwardRef=TC;Vn.Fragment=_C;Vn.Lazy=PC;Vn.Memo=CC;Vn.Portal=w6;Vn.Profiler=wC;Vn.StrictMode=bC;Vn.Suspense=xC;Vn.SuspenseList=IC;Vn.isAsyncMode=function(){return!1};Vn.isConcurrentMode=function(){return!1};Vn.isContextConsumer=function(e){return wa(e)===SC};Vn.isContextProvider=function(e){return wa(e)===EC};Vn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===b6};Vn.isForwardRef=function(e){return wa(e)===TC};Vn.isFragment=function(e){return wa(e)===_C};Vn.isLazy=function(e){return wa(e)===PC};Vn.isMemo=function(e){return wa(e)===CC};Vn.isPortal=function(e){return wa(e)===w6};Vn.isProfiler=function(e){return wa(e)===wC};Vn.isStrictMode=function(e){return wa(e)===bC};Vn.isSuspense=function(e){return wa(e)===xC};Vn.isSuspenseList=function(e){return wa(e)===IC};Vn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_C||e===wC||e===bC||e===xC||e===IC||e===V9e||typeof e=="object"&&e!==null&&(e.$$typeof===PC||e.$$typeof===CC||e.$$typeof===EC||e.$$typeof===SC||e.$$typeof===TC||e.$$typeof===Gre||e.getModuleId!==void 0)};Vn.typeOf=wa;qre.exports=Vn;var z9e=qre.exports;const H9e=su(z9e);function W9e(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function g7(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Yre(e){return e.join(" ").trim()}function y7(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function Kre(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var E6={exports:{}},v7=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,q9e=/\n/g,G9e=/^\s*/,Y9e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,K9e=/^:\s*/,Q9e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,X9e=/^[;\s]*/,J9e=/^\s+|\s+$/g,Z9e=`
`,_7="/",b7="*",Od="",eje="comment",tje="declaration",nje=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(q9e);m&&(n+=m.length);var y=p.lastIndexOf(Z9e);r=~y?p.length-y:r+p.length}function s(){var p={line:n,column:r};return function(m){return m.position=new o(p),l(),m}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function u(p){var m=p.exec(e);if(m){var y=m[0];return i(y),e=e.slice(y.length),m}}function l(){u(G9e)}function c(p){var m;for(p=p||[];m=f();)m!==!1&&p.push(m);return p}function f(){var p=s();if(!(_7!=e.charAt(0)||b7!=e.charAt(1))){for(var m=2;Od!=e.charAt(m)&&(b7!=e.charAt(m)||_7!=e.charAt(m+1));)++m;if(m+=2,Od===e.charAt(m-1))return a("End of comment missing");var y=e.slice(2,m-2);return r+=2,i(y),e=e.slice(m),r+=2,p({type:eje,comment:y})}}function d(){var p=s(),m=u(Y9e);if(m){if(f(),!u(K9e))return a("property missing ':'");var y=u(Q9e),g=p({type:tje,property:w7(m[0].replace(v7,Od)),value:y?w7(y[0].replace(v7,Od)):Od});return u(X9e),g}}function h(){var p=[];c(p);for(var m;m=d();)m!==!1&&(p.push(m),c(p));return p}return l(),h()};function w7(e){return e?e.replace(J9e,Od):Od}var rje=nje;function Qre(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=rje(e),s=typeof t=="function",o,a,u=0,l=i.length;u<l;u++)r=i[u],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}E6.exports=Qre;E6.exports.default=Qre;var ije=E6.exports;const sje=su(ije),kN={}.hasOwnProperty,oje=new Set(["table","thead","tbody","tfoot","tr"]);function Xre(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(aje(e,i,r,t)):i.type==="text"?(t.type!=="element"||!oje.has(t.tagName)||!W9e(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function aje(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?K4e:i.transformLinkUri,o=e.schema,a=t.tagName,u={};let l=o,c;if(o.space==="html"&&a==="svg"&&(l=Ng,e.schema=l),t.properties)for(c in t.properties)kN.call(t.properties,c)&&lje(u,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const f=Xre(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&kN.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===R.Fragment;if(!H9e.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(u.key=n,a==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),t.children,typeof u.title=="string"?u.title:null):i.linkTarget),a==="a"&&s&&(u.href=s(String(u.href||""),t.children,typeof u.title=="string"?u.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(u.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!p&&a==="li"&&r.type==="element"){const m=uje(t);u.checked=m&&m.properties?!!m.properties.checked:null,u.index=OO(r,t),u.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(u.ordered=a==="ol",u.depth=e.listDepth),(a==="td"||a==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),p||(u.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=dje(d)),!p&&i.rawSourcePos&&(u.sourcePosition=t.position),!p&&i.includeElementIndex&&(u.index=OO(r,t),u.siblingCount=OO(r)),p||(u.node=t),f.length>0?R.createElement(h,u,f):R.createElement(h,u)}function uje(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function OO(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function lje(e,t,n,r){const i=vC(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?Kre(s):Yre(s)),i.property==="style"&&typeof s=="string"&&(s=cje(s)),i.space&&i.property?e[kN.call(m7,i.property)?m7[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function cje(e){const t={};try{sje(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,fje)]=i}}function fje(e,t){return t.toUpperCase()}function dje(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const E7={}.hasOwnProperty,hje="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Rb={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function Jre(e){for(const s in Rb)if(E7.call(Rb,s)&&E7.call(e,s)){const o=Rb[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${hje}#${o.id}> for more info)`),delete Rb[s]}const t=T5e().use(k8e).use(e.remarkPlugins||[]).use(T9e,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(B9e,e),n=new a5e;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=R.createElement(R.Fragment,{},Xre({options:e,schema:e1,listDepth:0},r));return e.className&&(i=R.createElement("div",{className:e.className},i)),i}Jre.propTypes={children:wt.string,className:wt.string,allowElement:wt.func,allowedElements:wt.arrayOf(wt.string),disallowedElements:wt.arrayOf(wt.string),unwrapDisallowed:wt.bool,remarkPlugins:wt.arrayOf(wt.oneOfType([wt.object,wt.func,wt.arrayOf(wt.oneOfType([wt.bool,wt.string,wt.object,wt.func,wt.arrayOf(wt.any)]))])),rehypePlugins:wt.arrayOf(wt.oneOfType([wt.object,wt.func,wt.arrayOf(wt.oneOfType([wt.bool,wt.string,wt.object,wt.func,wt.arrayOf(wt.any)]))])),sourcePos:wt.bool,rawSourcePos:wt.bool,skipHtml:wt.bool,includeElementIndex:wt.bool,transformLinkUri:wt.oneOfType([wt.func,wt.bool]),linkTarget:wt.oneOfType([wt.func,wt.string]),transformImageUri:wt.func,components:wt.object};const Zre=-1,AC=0,VT=1,zT=2,S6=3,T6=4,x6=5,I6=6,eie=7,tie=8,S7=typeof self=="object"?self:globalThis,pje=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case AC:case Zre:return n(o,i);case VT:{const a=n([],i);for(const u of o)a.push(r(u));return a}case zT:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case S6:return n(new Date(o),i);case T6:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case x6:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case I6:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case eie:{const{name:a,message:u}=o;return n(new S7[a](u),i)}case tie:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new S7[s](o),i)};return r},T7=e=>pje(new Map,e)(0),op="",{toString:mje}={},{keys:gje}=Object,C0=e=>{const t=typeof e;if(t!=="object"||!e)return[AC,t];const n=mje.call(e).slice(8,-1);switch(n){case"Array":return[VT,op];case"Object":return[zT,op];case"Date":return[S6,op];case"RegExp":return[T6,op];case"Map":return[x6,op];case"Set":return[I6,op]}return n.includes("Array")?[VT,n]:n.includes("Error")?[eie,n]:[zT,n]},Nb=([e,t])=>e===AC&&(t==="function"||t==="symbol"),yje=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=C0(o);switch(a){case AC:{let c=o;switch(u){case"bigint":a=tie,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([Zre],o)}return i([a,c],o)}case VT:{if(u)return i([u,[...o]],o);const c=[],f=i([a,c],o);for(const d of o)c.push(s(d));return f}case zT:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const d of gje(o))(e||!Nb(C0(o[d])))&&c.push([s(d),s(o[d])]);return f}case S6:return i([a,o.toISOString()],o);case T6:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case x6:{const c=[],f=i([a,c],o);for(const[d,h]of o)(e||!(Nb(C0(d))||Nb(C0(h))))&&c.push([s(d),s(h)]);return f}case I6:{const c=[],f=i([a,c],o);for(const d of o)(e||!Nb(C0(d)))&&c.push(s(d));return f}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},x7=(e,{json:t,lossy:n}={})=>{const r=[];return yje(!(t||n),!!t,new Map,r)(e),r},I7=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?T7(x7(e,t)):structuredClone(e):(e,t)=>T7(x7(e,t));const C7=/[#.]/g;function vje(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){C7.lastIndex=i;const a=C7.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const _je=new Set(["button","menu","reset","submit"]),DN={}.hasOwnProperty;function nie(e,t,n){const r=n&&Sje(n);function i(s,o,...a){let u=-1,l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else if(l=vje(s,t),l.tagName=l.tagName.toLowerCase(),r&&DN.call(r,l.tagName)&&(l.tagName=r[l.tagName]),bje(o,l.tagName)){let c;for(c in o)DN.call(o,c)&&wje(e,l.properties,c,o[c])}else a.unshift(o);for(;++u<a.length;)$N(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function bje(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?_je.has(e.type.toLowerCase()):!("value"in e)}function wje(e,t,n,r){const i=vC(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=g7(r):i.commaSeparated?o=y7(r):i.commaOrSpaceSeparated?o=g7(y7(r).join(" ")):o=P7(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?Eje(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=P7(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function $N(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)$N(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?$N(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function P7(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Ov(n)===Ov(t)))return!0}return n}function Eje(e){const t=[];let n;for(n in e)DN.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function Sje(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const Tje=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],xje=nie(e1,"div"),Ije=nie(Ng,"g",Tje),RO=/\r?\n|\r/g;function Cje(e){const t=String(e),n=[];for(RO.lastIndex=0;RO.test(t);)n.push(RO.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const u=(n[o-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const Fd={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rie={}.hasOwnProperty,Pje=Object.prototype;function Aje(e,t){const n=t||{};return C6({file:n.file||void 0,location:!1,schema:n.space==="svg"?Ng:e1,verbose:n.verbose||!1},e)}function C6(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},jw(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:iie(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=Cje(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},jw(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},jw(e,r,n),n}default:return n=Oje(e,t),n}}function iie(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=C6(e,t[n]);r.push(i)}return r}function Oje(e,t){const n=e.schema;e.schema=t.namespaceURI===Fd.svg?Ng:e1;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;rie.call(Pje,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?Ije:xje)(t.tagName,i,iie(e,t.childNodes));if(jw(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&Fp(u.startTag),c=u&&u.endTag&&Fp(u.endTag),f=C6(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),o.content=f}return e.schema=n,o}function jw(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=Rje(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function Rje(e,t,n){const r=Fp(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)rie.call(n.attrs,o)&&(s[vC(e.schema,o).property]=Fp(n.attrs[o]));n.startTag;const a=Fp(n.startTag),u=n.endTag?Fp(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function Fp(e){const t=A7({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=A7({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function A7(e){return e.line&&e.column?e:void 0}const O7={}.hasOwnProperty;function sie(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&O7.call(i,e)){const u=String(i[e]);o=O7.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const Nje={},kje={}.hasOwnProperty,oie=sie("type",{handlers:{root:$je,element:Bje,text:Fje,comment:jje,doctype:Mje}});function Dje(e,t){const r=(t||Nje).space;return oie(e,r==="svg"?Ng:e1)}function $je(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=P6(e.children,n,t),kg(e,n),n}function Lje(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=P6(e.children,n,t),kg(e,n),n}function Mje(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return kg(e,t),t}function Fje(e){const t={nodeName:"#text",value:e.value,parentNode:null};return kg(e,t),t}function jje(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return kg(e,t),t}function Bje(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Ng);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&kje.call(e.properties,s)){const u=Uje(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Fd[o],childNodes:[],parentNode:null};return a.childNodes=P6(e.children,a,r),kg(e,a),e.tagName==="template"&&e.content&&(a.content=Lje(e.content,r)),a}function Uje(e,t,n){const r=vC(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Kre(n):Yre(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=Fd[r.space]}return i}function P6(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=oie(e[r],n);s.parentNode=t,i.push(s)}return i}function kg(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const Vje=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],zje=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),fr="";var $;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})($=$||($={}));const Ns={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function aie(e){return e>=55296&&e<=57343}function Hje(e){return e>=56320&&e<=57343}function Wje(e,t){return(e-55296)*1024+9216+t}function uie(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function lie(e){return e>=64976&&e<=65007||zje.has(e)}var Ie;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Ie=Ie||(Ie={}));const qje=65536;class Gje{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=qje,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(Hje(n))return this.pos++,this._addGap(),Wje(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,$.EOF;return this._err(Ie.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,$.EOF;const r=this.html.charCodeAt(n);return r===$.CARRIAGE_RETURN?$.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,$.EOF;let t=this.html.charCodeAt(this.pos);return t===$.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,$.LINE_FEED):t===$.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,aie(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===$.LINE_FEED||t===$.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){uie(t)?this._err(Ie.controlCharacterInInputStream):lie(t)&&this._err(Ie.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Xt;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Xt=Xt||(Xt={}));function cie(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const Mc=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Yje=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var NO;const Kje=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Qje=(NO=String.fromCodePoint)!==null&&NO!==void 0?NO:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function Xje(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Kje.get(e))!==null&&t!==void 0?t:e}var yi;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(yi||(yi={}));const Jje=32;var Lu;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Lu||(Lu={}));function LN(e){return e>=yi.ZERO&&e<=yi.NINE}function Zje(e){return e>=yi.UPPER_A&&e<=yi.UPPER_F||e>=yi.LOWER_A&&e<=yi.LOWER_F}function eBe(e){return e>=yi.UPPER_A&&e<=yi.UPPER_Z||e>=yi.LOWER_A&&e<=yi.LOWER_Z||LN(e)}function tBe(e){return e===yi.EQUALS||eBe(e)}var fi;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(fi||(fi={}));var Rd;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Rd||(Rd={}));class nBe{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=fi.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Rd.Strict}startEntity(t){this.decodeMode=t,this.state=fi.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case fi.EntityStart:return t.charCodeAt(n)===yi.NUM?(this.state=fi.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=fi.NamedEntity,this.stateNamedEntity(t,n));case fi.NumericStart:return this.stateNumericStart(t,n);case fi.NumericDecimal:return this.stateNumericDecimal(t,n);case fi.NumericHex:return this.stateNumericHex(t,n);case fi.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|Jje)===yi.LOWER_X?(this.state=fi.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=fi.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(LN(i)||Zje(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(LN(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===yi.SEMI)this.consumed+=1;else if(this.decodeMode===Rd.Strict)return 0;return this.emitCodePoint(Xje(this.result),this.consumed),this.errors&&(t!==yi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Lu.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=die(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===Rd.Attribute&&(s===0||tBe(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Lu.VALUE_LENGTH)>>14,s!==0){if(o===yi.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Rd.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Lu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Lu.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case fi.NamedEntity:return this.result!==0&&(this.decodeMode!==Rd.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case fi.NumericDecimal:return this.emitNumericEntity(0,2);case fi.NumericHex:return this.emitNumericEntity(0,3);case fi.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case fi.EntityStart:return 0}}}function fie(e){let t="";const n=new nBe(e,r=>t+=Qje(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const l=n.write(i,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const u=t+i.slice(o);return t="",u}}function die(e,t,n,r){const i=(t&Lu.BRANCH_LENGTH)>>7,s=t&Lu.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}fie(Mc);fie(Yje);var Ae;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Ae=Ae||(Ae={}));var Sf;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Sf=Sf||(Sf={}));var bo;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(bo=bo||(bo={}));var pe;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(pe=pe||(pe={}));var b;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(b=b||(b={}));const rBe=new Map([[pe.A,b.A],[pe.ADDRESS,b.ADDRESS],[pe.ANNOTATION_XML,b.ANNOTATION_XML],[pe.APPLET,b.APPLET],[pe.AREA,b.AREA],[pe.ARTICLE,b.ARTICLE],[pe.ASIDE,b.ASIDE],[pe.B,b.B],[pe.BASE,b.BASE],[pe.BASEFONT,b.BASEFONT],[pe.BGSOUND,b.BGSOUND],[pe.BIG,b.BIG],[pe.BLOCKQUOTE,b.BLOCKQUOTE],[pe.BODY,b.BODY],[pe.BR,b.BR],[pe.BUTTON,b.BUTTON],[pe.CAPTION,b.CAPTION],[pe.CENTER,b.CENTER],[pe.CODE,b.CODE],[pe.COL,b.COL],[pe.COLGROUP,b.COLGROUP],[pe.DD,b.DD],[pe.DESC,b.DESC],[pe.DETAILS,b.DETAILS],[pe.DIALOG,b.DIALOG],[pe.DIR,b.DIR],[pe.DIV,b.DIV],[pe.DL,b.DL],[pe.DT,b.DT],[pe.EM,b.EM],[pe.EMBED,b.EMBED],[pe.FIELDSET,b.FIELDSET],[pe.FIGCAPTION,b.FIGCAPTION],[pe.FIGURE,b.FIGURE],[pe.FONT,b.FONT],[pe.FOOTER,b.FOOTER],[pe.FOREIGN_OBJECT,b.FOREIGN_OBJECT],[pe.FORM,b.FORM],[pe.FRAME,b.FRAME],[pe.FRAMESET,b.FRAMESET],[pe.H1,b.H1],[pe.H2,b.H2],[pe.H3,b.H3],[pe.H4,b.H4],[pe.H5,b.H5],[pe.H6,b.H6],[pe.HEAD,b.HEAD],[pe.HEADER,b.HEADER],[pe.HGROUP,b.HGROUP],[pe.HR,b.HR],[pe.HTML,b.HTML],[pe.I,b.I],[pe.IMG,b.IMG],[pe.IMAGE,b.IMAGE],[pe.INPUT,b.INPUT],[pe.IFRAME,b.IFRAME],[pe.KEYGEN,b.KEYGEN],[pe.LABEL,b.LABEL],[pe.LI,b.LI],[pe.LINK,b.LINK],[pe.LISTING,b.LISTING],[pe.MAIN,b.MAIN],[pe.MALIGNMARK,b.MALIGNMARK],[pe.MARQUEE,b.MARQUEE],[pe.MATH,b.MATH],[pe.MENU,b.MENU],[pe.META,b.META],[pe.MGLYPH,b.MGLYPH],[pe.MI,b.MI],[pe.MO,b.MO],[pe.MN,b.MN],[pe.MS,b.MS],[pe.MTEXT,b.MTEXT],[pe.NAV,b.NAV],[pe.NOBR,b.NOBR],[pe.NOFRAMES,b.NOFRAMES],[pe.NOEMBED,b.NOEMBED],[pe.NOSCRIPT,b.NOSCRIPT],[pe.OBJECT,b.OBJECT],[pe.OL,b.OL],[pe.OPTGROUP,b.OPTGROUP],[pe.OPTION,b.OPTION],[pe.P,b.P],[pe.PARAM,b.PARAM],[pe.PLAINTEXT,b.PLAINTEXT],[pe.PRE,b.PRE],[pe.RB,b.RB],[pe.RP,b.RP],[pe.RT,b.RT],[pe.RTC,b.RTC],[pe.RUBY,b.RUBY],[pe.S,b.S],[pe.SCRIPT,b.SCRIPT],[pe.SECTION,b.SECTION],[pe.SELECT,b.SELECT],[pe.SOURCE,b.SOURCE],[pe.SMALL,b.SMALL],[pe.SPAN,b.SPAN],[pe.STRIKE,b.STRIKE],[pe.STRONG,b.STRONG],[pe.STYLE,b.STYLE],[pe.SUB,b.SUB],[pe.SUMMARY,b.SUMMARY],[pe.SUP,b.SUP],[pe.TABLE,b.TABLE],[pe.TBODY,b.TBODY],[pe.TEMPLATE,b.TEMPLATE],[pe.TEXTAREA,b.TEXTAREA],[pe.TFOOT,b.TFOOT],[pe.TD,b.TD],[pe.TH,b.TH],[pe.THEAD,b.THEAD],[pe.TITLE,b.TITLE],[pe.TR,b.TR],[pe.TRACK,b.TRACK],[pe.TT,b.TT],[pe.U,b.U],[pe.UL,b.UL],[pe.SVG,b.SVG],[pe.VAR,b.VAR],[pe.WBR,b.WBR],[pe.XMP,b.XMP]]);function Dg(e){var t;return(t=rBe.get(e))!==null&&t!==void 0?t:b.UNKNOWN}const Le=b,iBe={[Ae.HTML]:new Set([Le.ADDRESS,Le.APPLET,Le.AREA,Le.ARTICLE,Le.ASIDE,Le.BASE,Le.BASEFONT,Le.BGSOUND,Le.BLOCKQUOTE,Le.BODY,Le.BR,Le.BUTTON,Le.CAPTION,Le.CENTER,Le.COL,Le.COLGROUP,Le.DD,Le.DETAILS,Le.DIR,Le.DIV,Le.DL,Le.DT,Le.EMBED,Le.FIELDSET,Le.FIGCAPTION,Le.FIGURE,Le.FOOTER,Le.FORM,Le.FRAME,Le.FRAMESET,Le.H1,Le.H2,Le.H3,Le.H4,Le.H5,Le.H6,Le.HEAD,Le.HEADER,Le.HGROUP,Le.HR,Le.HTML,Le.IFRAME,Le.IMG,Le.INPUT,Le.LI,Le.LINK,Le.LISTING,Le.MAIN,Le.MARQUEE,Le.MENU,Le.META,Le.NAV,Le.NOEMBED,Le.NOFRAMES,Le.NOSCRIPT,Le.OBJECT,Le.OL,Le.P,Le.PARAM,Le.PLAINTEXT,Le.PRE,Le.SCRIPT,Le.SECTION,Le.SELECT,Le.SOURCE,Le.STYLE,Le.SUMMARY,Le.TABLE,Le.TBODY,Le.TD,Le.TEMPLATE,Le.TEXTAREA,Le.TFOOT,Le.TH,Le.THEAD,Le.TITLE,Le.TR,Le.TRACK,Le.UL,Le.WBR,Le.XMP]),[Ae.MATHML]:new Set([Le.MI,Le.MO,Le.MN,Le.MS,Le.MTEXT,Le.ANNOTATION_XML]),[Ae.SVG]:new Set([Le.TITLE,Le.FOREIGN_OBJECT,Le.DESC]),[Ae.XLINK]:new Set,[Ae.XML]:new Set,[Ae.XMLNS]:new Set};function hie(e){return e===Le.H1||e===Le.H2||e===Le.H3||e===Le.H4||e===Le.H5||e===Le.H6}pe.STYLE,pe.SCRIPT,pe.XMP,pe.IFRAME,pe.NOEMBED,pe.NOFRAMES,pe.PLAINTEXT;const sBe=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var B;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(B||(B={}));const Fr={DATA:B.DATA,RCDATA:B.RCDATA,RAWTEXT:B.RAWTEXT,SCRIPT_DATA:B.SCRIPT_DATA,PLAINTEXT:B.PLAINTEXT,CDATA_SECTION:B.CDATA_SECTION};function Dy(e){return e>=$.DIGIT_0&&e<=$.DIGIT_9}function ny(e){return e>=$.LATIN_CAPITAL_A&&e<=$.LATIN_CAPITAL_Z}function oBe(e){return e>=$.LATIN_SMALL_A&&e<=$.LATIN_SMALL_Z}function Fc(e){return oBe(e)||ny(e)}function MN(e){return Fc(e)||Dy(e)}function pie(e){return e>=$.LATIN_CAPITAL_A&&e<=$.LATIN_CAPITAL_F}function mie(e){return e>=$.LATIN_SMALL_A&&e<=$.LATIN_SMALL_F}function aBe(e){return Dy(e)||pie(e)||mie(e)}function kb(e){return e+32}function gie(e){return e===$.SPACE||e===$.LINE_FEED||e===$.TABULATION||e===$.FORM_FEED}function uBe(e){return e===$.EQUALS_SIGN||MN(e)}function R7(e){return gie(e)||e===$.SOLIDUS||e===$.GREATER_THAN_SIGN}class lBe{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=B.DATA,this.returnState=B.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Gje(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Xt.START_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Xt.END_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Xt.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Xt.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(cie(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Ie.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Dg(t.tagName),t.type===Xt.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(Ie.endTagWithAttributes),t.selfClosing&&this._err(Ie.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Xt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Xt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Xt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Xt.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=gie(t)?Xt.WHITESPACE_CHARACTER:t===$.NULL?Xt.NULL_CHARACTER:Xt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Xt.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=Mc[0];s>=0&&(s=die(Mc,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=Mc[s];const a=o&Lu.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==$.SEMICOLON&&this._isCharacterReferenceInAttribute()&&uBe(this.preprocessor.peek(1))?(n=[$.AMPERSAND],s+=u):(n=u===0?[Mc[s]&~Lu.VALUE_LENGTH]:u===1?[Mc[++s]]:[Mc[++s],Mc[++s]],r=0,i=t!==$.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(Ie.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===B.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===B.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===B.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case B.DATA:{this._stateData(t);break}case B.RCDATA:{this._stateRcdata(t);break}case B.RAWTEXT:{this._stateRawtext(t);break}case B.SCRIPT_DATA:{this._stateScriptData(t);break}case B.PLAINTEXT:{this._statePlaintext(t);break}case B.TAG_OPEN:{this._stateTagOpen(t);break}case B.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case B.TAG_NAME:{this._stateTagName(t);break}case B.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case B.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case B.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case B.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case B.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case B.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case B.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case B.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case B.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case B.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case B.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case B.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case B.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case B.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case B.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case B.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case B.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case B.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case B.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case B.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case B.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case B.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case B.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case B.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case B.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case B.BOGUS_COMMENT:{this._stateBogusComment(t);break}case B.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case B.COMMENT_START:{this._stateCommentStart(t);break}case B.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case B.COMMENT:{this._stateComment(t);break}case B.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case B.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case B.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case B.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case B.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case B.COMMENT_END:{this._stateCommentEnd(t);break}case B.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case B.DOCTYPE:{this._stateDoctype(t);break}case B.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case B.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case B.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case B.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case B.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case B.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case B.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case B.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case B.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case B.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case B.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case B.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case B.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case B.CDATA_SECTION:{this._stateCdataSection(t);break}case B.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case B.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case B.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case B.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case B.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case B.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case B.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case B.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case B.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case B.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case $.LESS_THAN_SIGN:{this.state=B.TAG_OPEN;break}case $.AMPERSAND:{this.returnState=B.DATA,this.state=B.CHARACTER_REFERENCE;break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),this._emitCodePoint(t);break}case $.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case $.AMPERSAND:{this.returnState=B.RCDATA,this.state=B.CHARACTER_REFERENCE;break}case $.LESS_THAN_SIGN:{this.state=B.RCDATA_LESS_THAN_SIGN;break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),this._emitChars(fr);break}case $.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case $.LESS_THAN_SIGN:{this.state=B.RAWTEXT_LESS_THAN_SIGN;break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),this._emitChars(fr);break}case $.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case $.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_LESS_THAN_SIGN;break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),this._emitChars(fr);break}case $.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case $.NULL:{this._err(Ie.unexpectedNullCharacter),this._emitChars(fr);break}case $.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Fc(t))this._createStartTagToken(),this.state=B.TAG_NAME,this._stateTagName(t);else switch(t){case $.EXCLAMATION_MARK:{this.state=B.MARKUP_DECLARATION_OPEN;break}case $.SOLIDUS:{this.state=B.END_TAG_OPEN;break}case $.QUESTION_MARK:{this._err(Ie.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=B.BOGUS_COMMENT,this._stateBogusComment(t);break}case $.EOF:{this._err(Ie.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Ie.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=B.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Fc(t))this._createEndTagToken(),this.state=B.TAG_NAME,this._stateTagName(t);else switch(t){case $.GREATER_THAN_SIGN:{this._err(Ie.missingEndTagName),this.state=B.DATA;break}case $.EOF:{this._err(Ie.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Ie.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=B.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this.state=B.BEFORE_ATTRIBUTE_NAME;break}case $.SOLIDUS:{this.state=B.SELF_CLOSING_START_TAG;break}case $.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentTagToken();break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),n.tagName+=fr;break}case $.EOF:{this._err(Ie.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(ny(t)?kb(t):t)}}_stateRcdataLessThanSign(t){t===$.SOLIDUS?this.state=B.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=B.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Fc(t)?(this.state=B.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=B.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=B.BEFORE_ATTRIBUTE_NAME,!1;case $.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=B.SELF_CLOSING_START_TAG,!1;case $.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=B.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===$.SOLIDUS?this.state=B.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=B.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Fc(t)?(this.state=B.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=B.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case $.SOLIDUS:{this.state=B.SCRIPT_DATA_END_TAG_OPEN;break}case $.EXCLAMATION_MARK:{this.state=B.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=B.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Fc(t)?(this.state=B.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===$.HYPHEN_MINUS?(this.state=B.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===$.HYPHEN_MINUS?(this.state=B.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case $.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case $.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),this._emitChars(fr);break}case $.EOF:{this._err(Ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case $.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case $.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_ESCAPED,this._emitChars(fr);break}case $.EOF:{this._err(Ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case $.HYPHEN_MINUS:{this._emitChars("-");break}case $.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case $.GREATER_THAN_SIGN:{this.state=B.SCRIPT_DATA,this._emitChars(">");break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_ESCAPED,this._emitChars(fr);break}case $.EOF:{this._err(Ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===$.SOLIDUS?this.state=B.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Fc(t)?(this._emitChars("<"),this.state=B.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Fc(t)?(this.state=B.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Ns.SCRIPT,!1)&&R7(this.preprocessor.peek(Ns.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ns.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case $.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case $.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),this._emitChars(fr);break}case $.EOF:{this._err(Ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case $.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case $.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(fr);break}case $.EOF:{this._err(Ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case $.HYPHEN_MINUS:{this._emitChars("-");break}case $.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case $.GREATER_THAN_SIGN:{this.state=B.SCRIPT_DATA,this._emitChars(">");break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(fr);break}case $.EOF:{this._err(Ie.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===$.SOLIDUS?(this.state=B.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Ns.SCRIPT,!1)&&R7(this.preprocessor.peek(Ns.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ns.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=B.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.SOLIDUS:case $.GREATER_THAN_SIGN:case $.EOF:{this.state=B.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case $.EQUALS_SIGN:{this._err(Ie.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=B.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=B.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:case $.SOLIDUS:case $.GREATER_THAN_SIGN:case $.EOF:{this._leaveAttrName(),this.state=B.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case $.EQUALS_SIGN:{this._leaveAttrName(),this.state=B.BEFORE_ATTRIBUTE_VALUE;break}case $.QUOTATION_MARK:case $.APOSTROPHE:case $.LESS_THAN_SIGN:{this._err(Ie.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),this.currentAttr.name+=fr;break}default:this.currentAttr.name+=String.fromCodePoint(ny(t)?kb(t):t)}}_stateAfterAttributeName(t){switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.SOLIDUS:{this.state=B.SELF_CLOSING_START_TAG;break}case $.EQUALS_SIGN:{this.state=B.BEFORE_ATTRIBUTE_VALUE;break}case $.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentTagToken();break}case $.EOF:{this._err(Ie.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=B.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.QUOTATION_MARK:{this.state=B.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case $.APOSTROPHE:{this.state=B.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case $.GREATER_THAN_SIGN:{this._err(Ie.missingAttributeValue),this.state=B.DATA,this.emitCurrentTagToken();break}default:this.state=B.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case $.QUOTATION_MARK:{this.state=B.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case $.AMPERSAND:{this.returnState=B.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=B.CHARACTER_REFERENCE;break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),this.currentAttr.value+=fr;break}case $.EOF:{this._err(Ie.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case $.APOSTROPHE:{this.state=B.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case $.AMPERSAND:{this.returnState=B.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=B.CHARACTER_REFERENCE;break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),this.currentAttr.value+=fr;break}case $.EOF:{this._err(Ie.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this._leaveAttrValue(),this.state=B.BEFORE_ATTRIBUTE_NAME;break}case $.AMPERSAND:{this.returnState=B.ATTRIBUTE_VALUE_UNQUOTED,this.state=B.CHARACTER_REFERENCE;break}case $.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=B.DATA,this.emitCurrentTagToken();break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),this.currentAttr.value+=fr;break}case $.QUOTATION_MARK:case $.APOSTROPHE:case $.LESS_THAN_SIGN:case $.EQUALS_SIGN:case $.GRAVE_ACCENT:{this._err(Ie.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case $.EOF:{this._err(Ie.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this._leaveAttrValue(),this.state=B.BEFORE_ATTRIBUTE_NAME;break}case $.SOLIDUS:{this._leaveAttrValue(),this.state=B.SELF_CLOSING_START_TAG;break}case $.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=B.DATA,this.emitCurrentTagToken();break}case $.EOF:{this._err(Ie.eofInTag),this._emitEOFToken();break}default:this._err(Ie.missingWhitespaceBetweenAttributes),this.state=B.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case $.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=B.DATA,this.emitCurrentTagToken();break}case $.EOF:{this._err(Ie.eofInTag),this._emitEOFToken();break}default:this._err(Ie.unexpectedSolidusInTag),this.state=B.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case $.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentComment(n);break}case $.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),n.data+=fr;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Ns.DASH_DASH,!0)?(this._createCommentToken(Ns.DASH_DASH.length+1),this.state=B.COMMENT_START):this._consumeSequenceIfMatch(Ns.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Ns.DOCTYPE.length+1),this.state=B.DOCTYPE):this._consumeSequenceIfMatch(Ns.CDATA_START,!0)?this.inForeignNode?this.state=B.CDATA_SECTION:(this._err(Ie.cdataInHtmlContent),this._createCommentToken(Ns.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=B.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Ie.incorrectlyOpenedComment),this._createCommentToken(2),this.state=B.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case $.HYPHEN_MINUS:{this.state=B.COMMENT_START_DASH;break}case $.GREATER_THAN_SIGN:{this._err(Ie.abruptClosingOfEmptyComment),this.state=B.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=B.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case $.HYPHEN_MINUS:{this.state=B.COMMENT_END;break}case $.GREATER_THAN_SIGN:{this._err(Ie.abruptClosingOfEmptyComment),this.state=B.DATA,this.emitCurrentComment(n);break}case $.EOF:{this._err(Ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=B.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case $.HYPHEN_MINUS:{this.state=B.COMMENT_END_DASH;break}case $.LESS_THAN_SIGN:{n.data+="<",this.state=B.COMMENT_LESS_THAN_SIGN;break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),n.data+=fr;break}case $.EOF:{this._err(Ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case $.EXCLAMATION_MARK:{n.data+="!",this.state=B.COMMENT_LESS_THAN_SIGN_BANG;break}case $.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=B.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===$.HYPHEN_MINUS?this.state=B.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=B.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===$.HYPHEN_MINUS?this.state=B.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=B.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==$.GREATER_THAN_SIGN&&t!==$.EOF&&this._err(Ie.nestedComment),this.state=B.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case $.HYPHEN_MINUS:{this.state=B.COMMENT_END;break}case $.EOF:{this._err(Ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=B.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case $.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentComment(n);break}case $.EXCLAMATION_MARK:{this.state=B.COMMENT_END_BANG;break}case $.HYPHEN_MINUS:{n.data+="-";break}case $.EOF:{this._err(Ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=B.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case $.HYPHEN_MINUS:{n.data+="--!",this.state=B.COMMENT_END_DASH;break}case $.GREATER_THAN_SIGN:{this._err(Ie.incorrectlyClosedComment),this.state=B.DATA,this.emitCurrentComment(n);break}case $.EOF:{this._err(Ie.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=B.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this.state=B.BEFORE_DOCTYPE_NAME;break}case $.GREATER_THAN_SIGN:{this.state=B.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case $.EOF:{this._err(Ie.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.missingWhitespaceBeforeDoctypeName),this.state=B.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(ny(t))this._createDoctypeToken(String.fromCharCode(kb(t))),this.state=B.DOCTYPE_NAME;else switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.NULL:{this._err(Ie.unexpectedNullCharacter),this._createDoctypeToken(fr),this.state=B.DOCTYPE_NAME;break}case $.GREATER_THAN_SIGN:{this._err(Ie.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=B.DATA;break}case $.EOF:{this._err(Ie.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=B.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this.state=B.AFTER_DOCTYPE_NAME;break}case $.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentDoctype(n);break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),n.name+=fr;break}case $.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(ny(t)?kb(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentDoctype(n);break}case $.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Ns.PUBLIC,!1)?this.state=B.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ns.SYSTEM,!1)?this.state=B.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Ie.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this.state=B.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case $.QUOTATION_MARK:{this._err(Ie.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case $.APOSTROPHE:{this._err(Ie.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case $.GREATER_THAN_SIGN:{this._err(Ie.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(n);break}case $.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.QUOTATION_MARK:{n.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case $.APOSTROPHE:{n.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case $.GREATER_THAN_SIGN:{this._err(Ie.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(n);break}case $.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case $.QUOTATION_MARK:{this.state=B.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),n.publicId+=fr;break}case $.GREATER_THAN_SIGN:{this._err(Ie.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=B.DATA;break}case $.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case $.APOSTROPHE:{this.state=B.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),n.publicId+=fr;break}case $.GREATER_THAN_SIGN:{this._err(Ie.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=B.DATA;break}case $.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this.state=B.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case $.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentDoctype(n);break}case $.QUOTATION_MARK:{this._err(Ie.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case $.APOSTROPHE:{this._err(Ie.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case $.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=B.DATA;break}case $.QUOTATION_MARK:{n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case $.APOSTROPHE:{n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case $.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this.state=B.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case $.QUOTATION_MARK:{this._err(Ie.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case $.APOSTROPHE:{this._err(Ie.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case $.GREATER_THAN_SIGN:{this._err(Ie.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(n);break}case $.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.QUOTATION_MARK:{n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case $.APOSTROPHE:{n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case $.GREATER_THAN_SIGN:{this._err(Ie.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(n);break}case $.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case $.QUOTATION_MARK:{this.state=B.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),n.systemId+=fr;break}case $.GREATER_THAN_SIGN:{this._err(Ie.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=B.DATA;break}case $.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case $.APOSTROPHE:{this.state=B.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case $.NULL:{this._err(Ie.unexpectedNullCharacter),n.systemId+=fr;break}case $.GREATER_THAN_SIGN:{this._err(Ie.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=B.DATA;break}case $.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=B.DATA;break}case $.EOF:{this._err(Ie.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ie.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case $.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=B.DATA;break}case $.NULL:{this._err(Ie.unexpectedNullCharacter);break}case $.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case $.RIGHT_SQUARE_BRACKET:{this.state=B.CDATA_SECTION_BRACKET;break}case $.EOF:{this._err(Ie.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===$.RIGHT_SQUARE_BRACKET?this.state=B.CDATA_SECTION_END:(this._emitChars("]"),this.state=B.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case $.GREATER_THAN_SIGN:{this.state=B.DATA;break}case $.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=B.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===$.NUMBER_SIGN?this.state=B.NUMERIC_CHARACTER_REFERENCE:MN(t)?(this.state=B.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference($.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference($.AMPERSAND),this.state=B.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){MN(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===$.SEMICOLON&&this._err(Ie.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===$.LATIN_SMALL_X||t===$.LATIN_CAPITAL_X?this.state=B.HEXADEMICAL_CHARACTER_REFERENCE_START:Dy(t)?(this.state=B.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(Ie.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference($.AMPERSAND),this._flushCodePointConsumedAsCharacterReference($.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){aBe(t)?(this.state=B.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(Ie.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference($.AMPERSAND),this._flushCodePointConsumedAsCharacterReference($.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){pie(t)?this.charRefCode=this.charRefCode*16+t-55:mie(t)?this.charRefCode=this.charRefCode*16+t-87:Dy(t)?this.charRefCode=this.charRefCode*16+t-48:t===$.SEMICOLON?this.state=B.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Ie.missingSemicolonAfterCharacterReference),this.state=B.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){Dy(t)?this.charRefCode=this.charRefCode*10+t-48:t===$.SEMICOLON?this.state=B.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Ie.missingSemicolonAfterCharacterReference),this.state=B.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===$.NULL)this._err(Ie.nullCharacterReference),this.charRefCode=$.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(Ie.characterReferenceOutsideUnicodeRange),this.charRefCode=$.REPLACEMENT_CHARACTER;else if(aie(this.charRefCode))this._err(Ie.surrogateCharacterReference),this.charRefCode=$.REPLACEMENT_CHARACTER;else if(lie(this.charRefCode))this._err(Ie.noncharacterCharacterReference);else if(uie(this.charRefCode)||this.charRefCode===$.CARRIAGE_RETURN){this._err(Ie.controlCharacterReference);const n=sBe.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const yie=new Set([b.DD,b.DT,b.LI,b.OPTGROUP,b.OPTION,b.P,b.RB,b.RP,b.RT,b.RTC]),N7=new Set([...yie,b.CAPTION,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]),Db=new Map([[b.APPLET,Ae.HTML],[b.CAPTION,Ae.HTML],[b.HTML,Ae.HTML],[b.MARQUEE,Ae.HTML],[b.OBJECT,Ae.HTML],[b.TABLE,Ae.HTML],[b.TD,Ae.HTML],[b.TEMPLATE,Ae.HTML],[b.TH,Ae.HTML],[b.ANNOTATION_XML,Ae.MATHML],[b.MI,Ae.MATHML],[b.MN,Ae.MATHML],[b.MO,Ae.MATHML],[b.MS,Ae.MATHML],[b.MTEXT,Ae.MATHML],[b.DESC,Ae.SVG],[b.FOREIGN_OBJECT,Ae.SVG],[b.TITLE,Ae.SVG]]),cBe=[b.H1,b.H2,b.H3,b.H4,b.H5,b.H6],fBe=[b.TR,b.TEMPLATE,b.HTML],dBe=[b.TBODY,b.TFOOT,b.THEAD,b.TEMPLATE,b.HTML],hBe=[b.TABLE,b.TEMPLATE,b.HTML],pBe=[b.TD,b.TH];class mBe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=b.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===b.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ae.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ae.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(cBe,Ae.HTML)}popUntilTableCellPopped(){this.popUntilPopped(pBe,Ae.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(hBe,Ae.HTML)}clearBackToTableBodyContext(){this.clearBackTo(dBe,Ae.HTML)}clearBackToTableRowContext(){this.clearBackTo(fBe,Ae.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===b.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===b.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ae.HTML)return!0;if(Db.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(hie(n)&&r===Ae.HTML)return!0;if(Db.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ae.HTML)return!0;if((r===b.UL||r===b.OL)&&i===Ae.HTML||Db.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ae.HTML)return!0;if(r===b.BUTTON&&i===Ae.HTML||Db.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ae.HTML){if(r===t)return!0;if(r===b.TABLE||r===b.TEMPLATE||r===b.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===Ae.HTML){if(n===b.TBODY||n===b.THEAD||n===b.TFOOT)return!0;if(n===b.TABLE||n===b.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ae.HTML){if(r===t)return!0;if(r!==b.OPTION&&r!==b.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;yie.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;N7.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&N7.has(this.currentTagId);)this.pop()}}const kO=3;var La;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(La=La||(La={}));const k7={type:La.Marker};class gBe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===La.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<kO)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<kO)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=kO&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(k7)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:La.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:La.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(k7);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===La.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===La.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===La.Element&&n.element===t)}}function D7(e){return{nodeName:"#text",value:e,parentNode:null}}const yp={createDocument(){return{nodeName:"#document",mode:bo.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};yp.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(yp.isTextNode(n)){n.value+=t;return}}yp.appendChild(e,D7(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&yp.isTextNode(r)?r.value+=t:yp.insertBefore(e,D7(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},vie="html",yBe="about:legacy-compat",vBe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",_ie=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],_Be=[..._ie,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],bBe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),bie=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],wBe=[...bie,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function $7(e,t){return t.some(n=>e.startsWith(n))}function EBe(e){return e.name===vie&&e.publicId===null&&(e.systemId===null||e.systemId===yBe)}function SBe(e){if(e.name!==vie)return bo.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===vBe)return bo.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),bBe.has(n))return bo.QUIRKS;let r=t===null?_Be:_ie;if($7(n,r))return bo.QUIRKS;if(r=t===null?bie:wBe,$7(n,r))return bo.LIMITED_QUIRKS}return bo.NO_QUIRKS}const L7={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},TBe="definitionurl",xBe="definitionURL",IBe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),CBe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ae.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ae.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ae.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ae.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ae.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ae.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ae.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Ae.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ae.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ae.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ae.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ae.XMLNS}]]),PBe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),ABe=new Set([b.B,b.BIG,b.BLOCKQUOTE,b.BODY,b.BR,b.CENTER,b.CODE,b.DD,b.DIV,b.DL,b.DT,b.EM,b.EMBED,b.H1,b.H2,b.H3,b.H4,b.H5,b.H6,b.HEAD,b.HR,b.I,b.IMG,b.LI,b.LISTING,b.MENU,b.META,b.NOBR,b.OL,b.P,b.PRE,b.RUBY,b.S,b.SMALL,b.SPAN,b.STRONG,b.STRIKE,b.SUB,b.SUP,b.TABLE,b.TT,b.U,b.UL,b.VAR]);function OBe(e){const t=e.tagID;return t===b.FONT&&e.attrs.some(({name:r})=>r===Sf.COLOR||r===Sf.SIZE||r===Sf.FACE)||ABe.has(t)}function wie(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===TBe){e.attrs[t].name=xBe;break}}function Eie(e){for(let t=0;t<e.attrs.length;t++){const n=IBe.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function A6(e){for(let t=0;t<e.attrs.length;t++){const n=CBe.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function RBe(e){const t=PBe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Dg(e.tagName))}function NBe(e,t){return t===Ae.MATHML&&(e===b.MI||e===b.MO||e===b.MN||e===b.MS||e===b.MTEXT)}function kBe(e,t,n){if(t===Ae.MATHML&&e===b.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Sf.ENCODING){const i=n[r].value.toLowerCase();return i===L7.TEXT_HTML||i===L7.APPLICATION_XML}}return t===Ae.SVG&&(e===b.FOREIGN_OBJECT||e===b.DESC||e===b.TITLE)}function DBe(e,t,n,r){return(!r||r===Ae.HTML)&&kBe(e,t,n)||(!r||r===Ae.MATHML)&&NBe(e,t)}const $Be="hidden",LBe=8,MBe=3;var Q;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Q||(Q={}));const FBe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Sie=new Set([b.TABLE,b.TBODY,b.TFOOT,b.THEAD,b.TR]),M7={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:yp,onParseError:null};let F7=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=Q.INITIAL,this.originalInsertionMode=Q.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...M7,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new lBe(this.options,this),this.activeFormattingElements=new gBe(this.treeAdapter),this.fragmentContextID=r?Dg(this.treeAdapter.getTagName(r)):b.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new mBe(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...M7,...n};t??(t=r.treeAdapter.createElement(pe.TEMPLATE,Ae.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Ae.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===b.TEMPLATE&&s.tmplInsertionModeStack.unshift(Q.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:FBe,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Ae.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Ae.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Q.TEXT}switchToPlaintextParsing(){this.insertionMode=Q.TEXT,this.originalInsertionMode=Q.IN_BODY,this.tokenizer.state=Fr.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===pe.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ae.HTML))switch(this.fragmentContextID){case b.TITLE:case b.TEXTAREA:{this.tokenizer.state=Fr.RCDATA;break}case b.STYLE:case b.XMP:case b.IFRAME:case b.NOEMBED:case b.NOFRAMES:case b.NOSCRIPT:{this.tokenizer.state=Fr.RAWTEXT;break}case b.SCRIPT:{this.tokenizer.state=Fr.SCRIPT_DATA;break}case b.PLAINTEXT:{this.tokenizer.state=Fr.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Ae.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Ae.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(pe.HTML,Ae.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,b.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Xt.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===b.SVG&&this.treeAdapter.getTagName(n)===pe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ae.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===b.MGLYPH||t.tagID===b.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Ae.HTML)}_processToken(t){switch(t.type){case Xt.CHARACTER:{this.onCharacter(t);break}case Xt.NULL_CHARACTER:{this.onNullCharacter(t);break}case Xt.COMMENT:{this.onComment(t);break}case Xt.DOCTYPE:{this.onDoctype(t);break}case Xt.START_TAG:{this._processStartTag(t);break}case Xt.END_TAG:{this.onEndTag(t);break}case Xt.EOF:{this.onEof(t);break}case Xt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return DBe(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===La.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Q.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(b.P),this.openElements.popUntilTagNamePopped(b.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case b.TR:{this.insertionMode=Q.IN_ROW;return}case b.TBODY:case b.THEAD:case b.TFOOT:{this.insertionMode=Q.IN_TABLE_BODY;return}case b.CAPTION:{this.insertionMode=Q.IN_CAPTION;return}case b.COLGROUP:{this.insertionMode=Q.IN_COLUMN_GROUP;return}case b.TABLE:{this.insertionMode=Q.IN_TABLE;return}case b.BODY:{this.insertionMode=Q.IN_BODY;return}case b.FRAMESET:{this.insertionMode=Q.IN_FRAMESET;return}case b.SELECT:{this._resetInsertionModeForSelect(t);return}case b.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case b.HTML:{this.insertionMode=this.headElement?Q.AFTER_HEAD:Q.BEFORE_HEAD;return}case b.TD:case b.TH:{if(t>0){this.insertionMode=Q.IN_CELL;return}break}case b.HEAD:{if(t>0){this.insertionMode=Q.IN_HEAD;return}break}}this.insertionMode=Q.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===b.TEMPLATE)break;if(r===b.TABLE){this.insertionMode=Q.IN_SELECT_IN_TABLE;return}}this.insertionMode=Q.IN_SELECT}_isElementCausesFosterParenting(t){return Sie.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case b.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ae.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case b.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return iBe[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){pVe(this,t);return}switch(this.insertionMode){case Q.INITIAL:{P0(this,t);break}case Q.BEFORE_HTML:{$y(this,t);break}case Q.BEFORE_HEAD:{Ly(this,t);break}case Q.IN_HEAD:{My(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{Fy(this,t);break}case Q.AFTER_HEAD:{jy(this,t);break}case Q.IN_BODY:case Q.IN_CAPTION:case Q.IN_CELL:case Q.IN_TEMPLATE:{xie(this,t);break}case Q.TEXT:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case Q.IN_TABLE:case Q.IN_TABLE_BODY:case Q.IN_ROW:{DO(this,t);break}case Q.IN_TABLE_TEXT:{Rie(this,t);break}case Q.IN_COLUMN_GROUP:{HT(this,t);break}case Q.AFTER_BODY:{WT(this,t);break}case Q.AFTER_AFTER_BODY:{Bw(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){hVe(this,t);return}switch(this.insertionMode){case Q.INITIAL:{P0(this,t);break}case Q.BEFORE_HTML:{$y(this,t);break}case Q.BEFORE_HEAD:{Ly(this,t);break}case Q.IN_HEAD:{My(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{Fy(this,t);break}case Q.AFTER_HEAD:{jy(this,t);break}case Q.TEXT:{this._insertCharacters(t);break}case Q.IN_TABLE:case Q.IN_TABLE_BODY:case Q.IN_ROW:{DO(this,t);break}case Q.IN_COLUMN_GROUP:{HT(this,t);break}case Q.AFTER_BODY:{WT(this,t);break}case Q.AFTER_AFTER_BODY:{Bw(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){FN(this,t);return}switch(this.insertionMode){case Q.INITIAL:case Q.BEFORE_HTML:case Q.BEFORE_HEAD:case Q.IN_HEAD:case Q.IN_HEAD_NO_SCRIPT:case Q.AFTER_HEAD:case Q.IN_BODY:case Q.IN_TABLE:case Q.IN_CAPTION:case Q.IN_COLUMN_GROUP:case Q.IN_TABLE_BODY:case Q.IN_ROW:case Q.IN_CELL:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:case Q.IN_TEMPLATE:case Q.IN_FRAMESET:case Q.AFTER_FRAMESET:{FN(this,t);break}case Q.IN_TABLE_TEXT:{A0(this,t);break}case Q.AFTER_BODY:{WBe(this,t);break}case Q.AFTER_AFTER_BODY:case Q.AFTER_AFTER_FRAMESET:{qBe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Q.INITIAL:{GBe(this,t);break}case Q.BEFORE_HEAD:case Q.IN_HEAD:case Q.IN_HEAD_NO_SCRIPT:case Q.AFTER_HEAD:{this._err(t,Ie.misplacedDoctype);break}case Q.IN_TABLE_TEXT:{A0(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,Ie.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?mVe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Q.INITIAL:{P0(this,t);break}case Q.BEFORE_HTML:{YBe(this,t);break}case Q.BEFORE_HEAD:{QBe(this,t);break}case Q.IN_HEAD:{ou(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{ZBe(this,t);break}case Q.AFTER_HEAD:{tUe(this,t);break}case Q.IN_BODY:{fs(this,t);break}case Q.IN_TABLE:{Gm(this,t);break}case Q.IN_TABLE_TEXT:{A0(this,t);break}case Q.IN_CAPTION:{XUe(this,t);break}case Q.IN_COLUMN_GROUP:{N6(this,t);break}case Q.IN_TABLE_BODY:{NC(this,t);break}case Q.IN_ROW:{kC(this,t);break}case Q.IN_CELL:{eVe(this,t);break}case Q.IN_SELECT:{Die(this,t);break}case Q.IN_SELECT_IN_TABLE:{nVe(this,t);break}case Q.IN_TEMPLATE:{iVe(this,t);break}case Q.AFTER_BODY:{oVe(this,t);break}case Q.IN_FRAMESET:{aVe(this,t);break}case Q.AFTER_FRAMESET:{lVe(this,t);break}case Q.AFTER_AFTER_BODY:{fVe(this,t);break}case Q.AFTER_AFTER_FRAMESET:{dVe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?gVe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Q.INITIAL:{P0(this,t);break}case Q.BEFORE_HTML:{KBe(this,t);break}case Q.BEFORE_HEAD:{XBe(this,t);break}case Q.IN_HEAD:{JBe(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{eUe(this,t);break}case Q.AFTER_HEAD:{nUe(this,t);break}case Q.IN_BODY:{RC(this,t);break}case Q.TEXT:{UUe(this,t);break}case Q.IN_TABLE:{Rv(this,t);break}case Q.IN_TABLE_TEXT:{A0(this,t);break}case Q.IN_CAPTION:{JUe(this,t);break}case Q.IN_COLUMN_GROUP:{ZUe(this,t);break}case Q.IN_TABLE_BODY:{jN(this,t);break}case Q.IN_ROW:{kie(this,t);break}case Q.IN_CELL:{tVe(this,t);break}case Q.IN_SELECT:{$ie(this,t);break}case Q.IN_SELECT_IN_TABLE:{rVe(this,t);break}case Q.IN_TEMPLATE:{sVe(this,t);break}case Q.AFTER_BODY:{Mie(this,t);break}case Q.IN_FRAMESET:{uVe(this,t);break}case Q.AFTER_FRAMESET:{cVe(this,t);break}case Q.AFTER_AFTER_BODY:{Bw(this,t);break}}}onEof(t){switch(this.insertionMode){case Q.INITIAL:{P0(this,t);break}case Q.BEFORE_HTML:{$y(this,t);break}case Q.BEFORE_HEAD:{Ly(this,t);break}case Q.IN_HEAD:{My(this,t);break}case Q.IN_HEAD_NO_SCRIPT:{Fy(this,t);break}case Q.AFTER_HEAD:{jy(this,t);break}case Q.IN_BODY:case Q.IN_TABLE:case Q.IN_CAPTION:case Q.IN_COLUMN_GROUP:case Q.IN_TABLE_BODY:case Q.IN_ROW:case Q.IN_CELL:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:{Aie(this,t);break}case Q.TEXT:{VUe(this,t);break}case Q.IN_TABLE_TEXT:{A0(this,t);break}case Q.IN_TEMPLATE:{Lie(this,t);break}case Q.AFTER_BODY:case Q.IN_FRAMESET:case Q.AFTER_FRAMESET:case Q.AFTER_AFTER_BODY:case Q.AFTER_AFTER_FRAMESET:{R6(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===$.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case Q.IN_HEAD:case Q.IN_HEAD_NO_SCRIPT:case Q.AFTER_HEAD:case Q.TEXT:case Q.IN_COLUMN_GROUP:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:case Q.IN_FRAMESET:case Q.AFTER_FRAMESET:{this._insertCharacters(t);break}case Q.IN_BODY:case Q.IN_CAPTION:case Q.IN_CELL:case Q.IN_TEMPLATE:case Q.AFTER_BODY:case Q.AFTER_AFTER_BODY:case Q.AFTER_AFTER_FRAMESET:{Tie(this,t);break}case Q.IN_TABLE:case Q.IN_TABLE_BODY:case Q.IN_ROW:{DO(this,t);break}case Q.IN_TABLE_TEXT:{Oie(this,t);break}}}};function jBe(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Pie(e,t),n}function BBe(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function UBe(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=MBe;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=VBe(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function VBe(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function zBe(e,t,n){const r=e.treeAdapter.getTagName(t),i=Dg(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===b.TEMPLATE&&s===Ae.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function HBe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function O6(e,t){for(let n=0;n<LBe;n++){const r=jBe(e,t);if(!r)break;const i=BBe(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=UBe(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&zBe(e,o,s),HBe(e,i,r)}}function FN(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function WBe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function qBe(e,t){e._appendCommentNode(t,e.document)}function R6(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function GBe(e,t){e._setDocumentType(t);const n=t.forceQuirks?bo.QUIRKS:SBe(t);EBe(t)||e._err(t,Ie.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=Q.BEFORE_HTML}function P0(e,t){e._err(t,Ie.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,bo.QUIRKS),e.insertionMode=Q.BEFORE_HTML,e._processToken(t)}function YBe(e,t){t.tagID===b.HTML?(e._insertElement(t,Ae.HTML),e.insertionMode=Q.BEFORE_HEAD):$y(e,t)}function KBe(e,t){const n=t.tagID;(n===b.HTML||n===b.HEAD||n===b.BODY||n===b.BR)&&$y(e,t)}function $y(e,t){e._insertFakeRootElement(),e.insertionMode=Q.BEFORE_HEAD,e._processToken(t)}function QBe(e,t){switch(t.tagID){case b.HTML:{fs(e,t);break}case b.HEAD:{e._insertElement(t,Ae.HTML),e.headElement=e.openElements.current,e.insertionMode=Q.IN_HEAD;break}default:Ly(e,t)}}function XBe(e,t){const n=t.tagID;n===b.HEAD||n===b.BODY||n===b.HTML||n===b.BR?Ly(e,t):e._err(t,Ie.endTagWithoutMatchingOpenElement)}function Ly(e,t){e._insertFakeElement(pe.HEAD,b.HEAD),e.headElement=e.openElements.current,e.insertionMode=Q.IN_HEAD,e._processToken(t)}function ou(e,t){switch(t.tagID){case b.HTML:{fs(e,t);break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:{e._appendElement(t,Ae.HTML),t.ackSelfClosing=!0;break}case b.TITLE:{e._switchToTextParsing(t,Fr.RCDATA);break}case b.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Fr.RAWTEXT):(e._insertElement(t,Ae.HTML),e.insertionMode=Q.IN_HEAD_NO_SCRIPT);break}case b.NOFRAMES:case b.STYLE:{e._switchToTextParsing(t,Fr.RAWTEXT);break}case b.SCRIPT:{e._switchToTextParsing(t,Fr.SCRIPT_DATA);break}case b.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Q.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Q.IN_TEMPLATE);break}case b.HEAD:{e._err(t,Ie.misplacedStartTagForHeadElement);break}default:My(e,t)}}function JBe(e,t){switch(t.tagID){case b.HEAD:{e.openElements.pop(),e.insertionMode=Q.AFTER_HEAD;break}case b.BODY:case b.BR:case b.HTML:{My(e,t);break}case b.TEMPLATE:{Vh(e,t);break}default:e._err(t,Ie.endTagWithoutMatchingOpenElement)}}function Vh(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==b.TEMPLATE&&e._err(t,Ie.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Ie.endTagWithoutMatchingOpenElement)}function My(e,t){e.openElements.pop(),e.insertionMode=Q.AFTER_HEAD,e._processToken(t)}function ZBe(e,t){switch(t.tagID){case b.HTML:{fs(e,t);break}case b.BASEFONT:case b.BGSOUND:case b.HEAD:case b.LINK:case b.META:case b.NOFRAMES:case b.STYLE:{ou(e,t);break}case b.NOSCRIPT:{e._err(t,Ie.nestedNoscriptInHead);break}default:Fy(e,t)}}function eUe(e,t){switch(t.tagID){case b.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Q.IN_HEAD;break}case b.BR:{Fy(e,t);break}default:e._err(t,Ie.endTagWithoutMatchingOpenElement)}}function Fy(e,t){const n=t.type===Xt.EOF?Ie.openElementsLeftAfterEof:Ie.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=Q.IN_HEAD,e._processToken(t)}function tUe(e,t){switch(t.tagID){case b.HTML:{fs(e,t);break}case b.BODY:{e._insertElement(t,Ae.HTML),e.framesetOk=!1,e.insertionMode=Q.IN_BODY;break}case b.FRAMESET:{e._insertElement(t,Ae.HTML),e.insertionMode=Q.IN_FRAMESET;break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{e._err(t,Ie.abandonedHeadElementChild),e.openElements.push(e.headElement,b.HEAD),ou(e,t),e.openElements.remove(e.headElement);break}case b.HEAD:{e._err(t,Ie.misplacedStartTagForHeadElement);break}default:jy(e,t)}}function nUe(e,t){switch(t.tagID){case b.BODY:case b.HTML:case b.BR:{jy(e,t);break}case b.TEMPLATE:{Vh(e,t);break}default:e._err(t,Ie.endTagWithoutMatchingOpenElement)}}function jy(e,t){e._insertFakeElement(pe.BODY,b.BODY),e.insertionMode=Q.IN_BODY,OC(e,t)}function OC(e,t){switch(t.type){case Xt.CHARACTER:{xie(e,t);break}case Xt.WHITESPACE_CHARACTER:{Tie(e,t);break}case Xt.COMMENT:{FN(e,t);break}case Xt.START_TAG:{fs(e,t);break}case Xt.END_TAG:{RC(e,t);break}case Xt.EOF:{Aie(e,t);break}}}function Tie(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function xie(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function rUe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function iUe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function sUe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Ae.HTML),e.insertionMode=Q.IN_FRAMESET)}function oUe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ae.HTML)}function aUe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),hie(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Ae.HTML)}function uUe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ae.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function lUe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ae.HTML),n||(e.formElement=e.openElements.current))}function cUe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===b.LI&&i===b.LI||(n===b.DD||n===b.DT)&&(i===b.DD||i===b.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==b.ADDRESS&&i!==b.DIV&&i!==b.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ae.HTML)}function fUe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ae.HTML),e.tokenizer.state=Fr.PLAINTEXT}function dUe(e,t){e.openElements.hasInScope(b.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ae.HTML),e.framesetOk=!1}function hUe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(pe.A);n&&(O6(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ae.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function pUe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ae.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function mUe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(b.NOBR)&&(O6(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Ae.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function gUe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ae.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function yUe(e,t){e.treeAdapter.getDocumentMode(e.document)!==bo.QUIRKS&&e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ae.HTML),e.framesetOk=!1,e.insertionMode=Q.IN_TABLE}function Iie(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ae.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Cie(e){const t=cie(e,Sf.TYPE);return t!=null&&t.toLowerCase()===$Be}function vUe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ae.HTML),Cie(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function _Ue(e,t){e._appendElement(t,Ae.HTML),t.ackSelfClosing=!0}function bUe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._appendElement(t,Ae.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function wUe(e,t){t.tagName=pe.IMG,t.tagID=b.IMG,Iie(e,t)}function EUe(e,t){e._insertElement(t,Ae.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Fr.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Q.TEXT}function SUe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Fr.RAWTEXT)}function TUe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Fr.RAWTEXT)}function j7(e,t){e._switchToTextParsing(t,Fr.RAWTEXT)}function xUe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ae.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Q.IN_TABLE||e.insertionMode===Q.IN_CAPTION||e.insertionMode===Q.IN_TABLE_BODY||e.insertionMode===Q.IN_ROW||e.insertionMode===Q.IN_CELL?Q.IN_SELECT_IN_TABLE:Q.IN_SELECT}function IUe(e,t){e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Ae.HTML)}function CUe(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Ae.HTML)}function PUe(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(b.RTC),e._insertElement(t,Ae.HTML)}function AUe(e,t){e._reconstructActiveFormattingElements(),wie(t),A6(t),t.selfClosing?e._appendElement(t,Ae.MATHML):e._insertElement(t,Ae.MATHML),t.ackSelfClosing=!0}function OUe(e,t){e._reconstructActiveFormattingElements(),Eie(t),A6(t),t.selfClosing?e._appendElement(t,Ae.SVG):e._insertElement(t,Ae.SVG),t.ackSelfClosing=!0}function B7(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ae.HTML)}function fs(e,t){switch(t.tagID){case b.I:case b.S:case b.B:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.SMALL:case b.STRIKE:case b.STRONG:{pUe(e,t);break}case b.A:{hUe(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{aUe(e,t);break}case b.P:case b.DL:case b.OL:case b.UL:case b.DIV:case b.DIR:case b.NAV:case b.MAIN:case b.MENU:case b.ASIDE:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.DETAILS:case b.ADDRESS:case b.ARTICLE:case b.SECTION:case b.SUMMARY:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{oUe(e,t);break}case b.LI:case b.DD:case b.DT:{cUe(e,t);break}case b.BR:case b.IMG:case b.WBR:case b.AREA:case b.EMBED:case b.KEYGEN:{Iie(e,t);break}case b.HR:{bUe(e,t);break}case b.RB:case b.RTC:{CUe(e,t);break}case b.RT:case b.RP:{PUe(e,t);break}case b.PRE:case b.LISTING:{uUe(e,t);break}case b.XMP:{SUe(e,t);break}case b.SVG:{OUe(e,t);break}case b.HTML:{rUe(e,t);break}case b.BASE:case b.LINK:case b.META:case b.STYLE:case b.TITLE:case b.SCRIPT:case b.BGSOUND:case b.BASEFONT:case b.TEMPLATE:{ou(e,t);break}case b.BODY:{iUe(e,t);break}case b.FORM:{lUe(e,t);break}case b.NOBR:{mUe(e,t);break}case b.MATH:{AUe(e,t);break}case b.TABLE:{yUe(e,t);break}case b.INPUT:{vUe(e,t);break}case b.PARAM:case b.TRACK:case b.SOURCE:{_Ue(e,t);break}case b.IMAGE:{wUe(e,t);break}case b.BUTTON:{dUe(e,t);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{gUe(e,t);break}case b.IFRAME:{TUe(e,t);break}case b.SELECT:{xUe(e,t);break}case b.OPTION:case b.OPTGROUP:{IUe(e,t);break}case b.NOEMBED:{j7(e,t);break}case b.FRAMESET:{sUe(e,t);break}case b.TEXTAREA:{EUe(e,t);break}case b.NOSCRIPT:{e.options.scriptingEnabled?j7(e,t):B7(e,t);break}case b.PLAINTEXT:{fUe(e,t);break}case b.COL:case b.TH:case b.TD:case b.TR:case b.HEAD:case b.FRAME:case b.TBODY:case b.TFOOT:case b.THEAD:case b.CAPTION:case b.COLGROUP:break;default:B7(e,t)}}function RUe(e,t){if(e.openElements.hasInScope(b.BODY)&&(e.insertionMode=Q.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function NUe(e,t){e.openElements.hasInScope(b.BODY)&&(e.insertionMode=Q.AFTER_BODY,Mie(e,t))}function kUe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function DUe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(b.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(b.FORM):n&&e.openElements.remove(n))}function $Ue(e){e.openElements.hasInButtonScope(b.P)||e._insertFakeElement(pe.P,b.P),e._closePElement()}function LUe(e){e.openElements.hasInListItemScope(b.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(b.LI),e.openElements.popUntilTagNamePopped(b.LI))}function MUe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function FUe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function jUe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function BUe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(pe.BR,b.BR),e.openElements.pop(),e.framesetOk=!1}function Pie(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==b.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function RC(e,t){switch(t.tagID){case b.A:case b.B:case b.I:case b.S:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.NOBR:case b.SMALL:case b.STRIKE:case b.STRONG:{O6(e,t);break}case b.P:{$Ue(e);break}case b.DL:case b.UL:case b.OL:case b.DIR:case b.DIV:case b.NAV:case b.PRE:case b.MAIN:case b.MENU:case b.ASIDE:case b.BUTTON:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.ADDRESS:case b.ARTICLE:case b.DETAILS:case b.SECTION:case b.SUMMARY:case b.LISTING:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{kUe(e,t);break}case b.LI:{LUe(e);break}case b.DD:case b.DT:{MUe(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{FUe(e);break}case b.BR:{BUe(e);break}case b.BODY:{RUe(e,t);break}case b.HTML:{NUe(e,t);break}case b.FORM:{DUe(e);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{jUe(e,t);break}case b.TEMPLATE:{Vh(e,t);break}default:Pie(e,t)}}function Aie(e,t){e.tmplInsertionModeStack.length>0?Lie(e,t):R6(e,t)}function UUe(e,t){var n;t.tagID===b.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function VUe(e,t){e._err(t,Ie.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function DO(e,t){if(Sie.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Q.IN_TABLE_TEXT,t.type){case Xt.CHARACTER:{Rie(e,t);break}case Xt.WHITESPACE_CHARACTER:{Oie(e,t);break}}else t1(e,t)}function zUe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Ae.HTML),e.insertionMode=Q.IN_CAPTION}function HUe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ae.HTML),e.insertionMode=Q.IN_COLUMN_GROUP}function WUe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(pe.COLGROUP,b.COLGROUP),e.insertionMode=Q.IN_COLUMN_GROUP,N6(e,t)}function qUe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ae.HTML),e.insertionMode=Q.IN_TABLE_BODY}function GUe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(pe.TBODY,b.TBODY),e.insertionMode=Q.IN_TABLE_BODY,NC(e,t)}function YUe(e,t){e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function KUe(e,t){Cie(t)?e._appendElement(t,Ae.HTML):t1(e,t),t.ackSelfClosing=!0}function QUe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Ae.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Gm(e,t){switch(t.tagID){case b.TD:case b.TH:case b.TR:{GUe(e,t);break}case b.STYLE:case b.SCRIPT:case b.TEMPLATE:{ou(e,t);break}case b.COL:{WUe(e,t);break}case b.FORM:{QUe(e,t);break}case b.TABLE:{YUe(e,t);break}case b.TBODY:case b.TFOOT:case b.THEAD:{qUe(e,t);break}case b.INPUT:{KUe(e,t);break}case b.CAPTION:{zUe(e,t);break}case b.COLGROUP:{HUe(e,t);break}default:t1(e,t)}}function Rv(e,t){switch(t.tagID){case b.TABLE:{e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode());break}case b.TEMPLATE:{Vh(e,t);break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:t1(e,t)}}function t1(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,OC(e,t),e.fosterParentingEnabled=n}function Oie(e,t){e.pendingCharacterTokens.push(t)}function Rie(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function A0(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)t1(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Nie=new Set([b.CAPTION,b.COL,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]);function XUe(e,t){const n=t.tagID;Nie.has(n)?e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Q.IN_TABLE,Gm(e,t)):fs(e,t)}function JUe(e,t){const n=t.tagID;switch(n){case b.CAPTION:case b.TABLE:{e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Q.IN_TABLE,n===b.TABLE&&Rv(e,t));break}case b.BODY:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:RC(e,t)}}function N6(e,t){switch(t.tagID){case b.HTML:{fs(e,t);break}case b.COL:{e._appendElement(t,Ae.HTML),t.ackSelfClosing=!0;break}case b.TEMPLATE:{ou(e,t);break}default:HT(e,t)}}function ZUe(e,t){switch(t.tagID){case b.COLGROUP:{e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=Q.IN_TABLE);break}case b.TEMPLATE:{Vh(e,t);break}case b.COL:break;default:HT(e,t)}}function HT(e,t){e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=Q.IN_TABLE,e._processToken(t))}function NC(e,t){switch(t.tagID){case b.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Ae.HTML),e.insertionMode=Q.IN_ROW;break}case b.TH:case b.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(pe.TR,b.TR),e.insertionMode=Q.IN_ROW,kC(e,t);break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE,Gm(e,t));break}default:Gm(e,t)}}function jN(e,t){const n=t.tagID;switch(t.tagID){case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE);break}case b.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE,Rv(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:case b.TR:break;default:Rv(e,t)}}function kC(e,t){switch(t.tagID){case b.TH:case b.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Ae.HTML),e.insertionMode=Q.IN_CELL,e.activeFormattingElements.insertMarker();break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY,NC(e,t));break}default:Gm(e,t)}}function kie(e,t){switch(t.tagID){case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY);break}case b.TABLE:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY,jN(e,t));break}case b.TBODY:case b.TFOOT:case b.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(b.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Q.IN_TABLE_BODY,jN(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:break;default:Rv(e,t)}}function eVe(e,t){const n=t.tagID;Nie.has(n)?(e.openElements.hasInTableScope(b.TD)||e.openElements.hasInTableScope(b.TH))&&(e._closeTableCell(),kC(e,t)):fs(e,t)}function tVe(e,t){const n=t.tagID;switch(n){case b.TD:case b.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Q.IN_ROW);break}case b.TABLE:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),kie(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:break;default:RC(e,t)}}function Die(e,t){switch(t.tagID){case b.HTML:{fs(e,t);break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._insertElement(t,Ae.HTML);break}case b.OPTGROUP:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Ae.HTML);break}case b.INPUT:case b.KEYGEN:case b.TEXTAREA:case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),t.tagID!==b.SELECT&&e._processStartTag(t));break}case b.SCRIPT:case b.TEMPLATE:{ou(e,t);break}}}function $ie(e,t){switch(t.tagID){case b.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===b.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===b.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop();break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop();break}case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode());break}case b.TEMPLATE:{Vh(e,t);break}}}function nVe(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Die(e,t)}function rVe(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e.onEndTag(t)):$ie(e,t)}function iVe(e,t){switch(t.tagID){case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{ou(e,t);break}case b.CAPTION:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.tmplInsertionModeStack[0]=Q.IN_TABLE,e.insertionMode=Q.IN_TABLE,Gm(e,t);break}case b.COL:{e.tmplInsertionModeStack[0]=Q.IN_COLUMN_GROUP,e.insertionMode=Q.IN_COLUMN_GROUP,N6(e,t);break}case b.TR:{e.tmplInsertionModeStack[0]=Q.IN_TABLE_BODY,e.insertionMode=Q.IN_TABLE_BODY,NC(e,t);break}case b.TD:case b.TH:{e.tmplInsertionModeStack[0]=Q.IN_ROW,e.insertionMode=Q.IN_ROW,kC(e,t);break}default:e.tmplInsertionModeStack[0]=Q.IN_BODY,e.insertionMode=Q.IN_BODY,fs(e,t)}}function sVe(e,t){t.tagID===b.TEMPLATE&&Vh(e,t)}function Lie(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):R6(e,t)}function oVe(e,t){t.tagID===b.HTML?fs(e,t):WT(e,t)}function Mie(e,t){var n;if(t.tagID===b.HTML){if(e.fragmentContext||(e.insertionMode=Q.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===b.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else WT(e,t)}function WT(e,t){e.insertionMode=Q.IN_BODY,OC(e,t)}function aVe(e,t){switch(t.tagID){case b.HTML:{fs(e,t);break}case b.FRAMESET:{e._insertElement(t,Ae.HTML);break}case b.FRAME:{e._appendElement(t,Ae.HTML),t.ackSelfClosing=!0;break}case b.NOFRAMES:{ou(e,t);break}}}function uVe(e,t){t.tagID===b.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==b.FRAMESET&&(e.insertionMode=Q.AFTER_FRAMESET))}function lVe(e,t){switch(t.tagID){case b.HTML:{fs(e,t);break}case b.NOFRAMES:{ou(e,t);break}}}function cVe(e,t){t.tagID===b.HTML&&(e.insertionMode=Q.AFTER_AFTER_FRAMESET)}function fVe(e,t){t.tagID===b.HTML?fs(e,t):Bw(e,t)}function Bw(e,t){e.insertionMode=Q.IN_BODY,OC(e,t)}function dVe(e,t){switch(t.tagID){case b.HTML:{fs(e,t);break}case b.NOFRAMES:{ou(e,t);break}}}function hVe(e,t){t.chars=fr,e._insertCharacters(t)}function pVe(e,t){e._insertCharacters(t),e.framesetOk=!1}function Fie(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Ae.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function mVe(e,t){if(OBe(t))Fie(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Ae.MATHML?wie(t):r===Ae.SVG&&(RBe(t),Eie(t)),A6(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function gVe(e,t){if(t.tagID===b.P||t.tagID===b.BR){Fie(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Ae.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}pe.AREA,pe.BASE,pe.BASEFONT,pe.BGSOUND,pe.BR,pe.COL,pe.EMBED,pe.FRAME,pe.HR,pe.IMG,pe.INPUT,pe.KEYGEN,pe.LINK,pe.META,pe.PARAM,pe.SOURCE,pe.TRACK,pe.WBR;const jie=Bie("end"),zh=Bie("start");function Bie(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}const Uie=function(e){if(e==null)return bVe;if(typeof e=="function")return DC(e);if(typeof e=="object")return Array.isArray(e)?yVe(e):vVe(e);if(typeof e=="string")return _Ve(e);throw new Error("Expected function, string, or object as test")};function yVe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Uie(e[n]);return DC(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function vVe(e){const t=e;return DC(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function _Ve(e){return DC(t);function t(n){return n&&n.type===e}}function DC(e){return t;function t(n,r,i){return!!(wVe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function bVe(){return!0}function wVe(e){return e!==null&&typeof e=="object"&&"type"in e}const Vie=[],EVe=!0,U7=!1,SVe="skip";function TVe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Uie(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=Vie,p,m,y;if((!t||s(u,l,c[c.length-1]||void 0))&&(h=xVe(n(u,c)),h[0]===U7))return h;if("children"in u&&u.children){const g=u;if(g.children&&h[0]!==SVe)for(m=(r?g.children.length:-1)+o,y=c.concat(g);m>-1&&m<g.children.length;){const v=g.children[m];if(p=a(v,m,y)(),p[0]===U7)return p;m=typeof p[1]=="number"?p[1]:m+o}}return h}}}function xVe(e){return Array.isArray(e)?e:typeof e=="number"?[EVe,e]:e==null?Vie:[e]}function IVe(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),TVe(e,s,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return o(u,f,c)}}const CVe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),V7={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function zie(e,t){const n=MVe(e),r=sie("type",{handlers:{root:PVe,element:AVe,text:OVe,comment:Wie,doctype:RVe,raw:kVe},unknown:DVe}),i={parser:n?new F7(V7):F7.getFragmentParser(void 0,V7),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),$g(i,zh());const s=n?i.parser.document:i.parser.getFragment(),o=Aje(s,{file:i.options.file});return i.stitches&&IVe(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function Hie(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function PVe(e,t){Hie(e.children,t)}function AVe(e,t){$Ve(e,t),Hie(e.children,t),LVe(e,t)}function OVe(e,t){const n={type:Xt.CHARACTER,chars:e.value,location:n1(e)};$g(t,zh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function RVe(e,t){const n={type:Xt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:n1(e)};$g(t,zh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function NVe(e,t){t.stitches=!0;const n=FVe(e);if("children"in e&&"children"in n){const r=zie({type:"root",children:e.children},t.options);n.children=r.children}Wie({type:"comment",value:{stitch:n}},t)}function Wie(e,t){const n=e.value,r={type:Xt.COMMENT,data:n,location:n1(e)};$g(t,zh(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function kVe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,qie(t,zh(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function DVe(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))NVe(n,t);else{let r="";throw CVe.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function $g(e,t){qie(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Fr.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function qie(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function $Ve(e,t){if(t.parser.tokenizer.state===Fr.PLAINTEXT)return;$g(t,zh(e));const n=t.parser.openElements.current;let r="namespaceURI"in n?n.namespaceURI:Fd.html;r===Fd.html&&e.tagName==="svg"&&(r=Fd.svg);const i=Dje({...e,children:[]},{space:r===Fd.svg?"svg":"html"}),s="attrs"in i?i.attrs:[],o={type:Xt.START_TAG,tagName:e.tagName,tagID:Dg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:s,location:n1(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName}function LVe(e,t){if(!t.parser.tokenizer.inForeignNode&&Vje.includes(e.tagName)||t.parser.tokenizer.state===Fr.PLAINTEXT)return;$g(t,jie(e));const n={type:Xt.END_TAG,tagName:e.tagName,tagID:Dg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:n1(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),n.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Fr.RCDATA||t.parser.tokenizer.state===Fr.RAWTEXT||t.parser.tokenizer.state===Fr.SCRIPT_DATA)&&(t.parser.tokenizer.state=Fr.DATA)}function MVe(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName==="html"))}function n1(e){const t=zh(e)||{line:void 0,column:void 0,offset:void 0},n=jie(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function FVe(e){return"children"in e?I7({...e,children:[]}):I7(e)}function jVe(e){return function(t,n){return zie(t,{...e,file:n})}}function oo({text:e}){const t={img:({node:n,...r})=>I.jsx(U_,{...r}),p:({node:n,...r})=>I.jsx(tt,{...r,pb:8}),h1:({node:n,...r})=>I.jsx(Vc,{order:1,...r,pb:12}),h2:({node:n,...r})=>I.jsx(Vc,{order:2,...r,pb:12}),h3:({node:n,...r})=>I.jsx(Vc,{order:3,...r,pb:12}),h4:({node:n,...r})=>I.jsx(Vc,{order:4,...r,pb:12}),h5:({node:n,...r})=>I.jsx(Vc,{order:5,...r,pb:12}),h6:({node:n,...r})=>I.jsx(Vc,{order:6,...r,pb:12}),a:({node:n,...r})=>I.jsx(YQ,{...r}),ul:({node:n,...r})=>I.jsx(Vm,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>I.jsx(Vm,{type:"ordered",withPadding:!0,...r,pb:8})};return I.jsx("div",{style:{display:"inherit"},children:I.jsx(Jre,{components:t,rehypePlugins:[jVe],children:e})})}function BVe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e;return I.jsx(Bm.Group,{label:I.jsx(oo,{text:r}),withAsterisk:i,...n,error:Bh(e,n,s),size:"md",children:I.jsx(ti,{mt:"md",children:s.map(o=>I.jsx(Bm,{disabled:t,value:o.value,label:o.label},o.value))})})}function UVe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s,options:o}=e;return I.jsx(a3,{disabled:t,label:I.jsx(oo,{text:i}),placeholder:r,data:o,withAsterisk:s,radius:"md",size:"md",...n,error:Bh(e,n,o)})}function VVe({response:e,answer:t}){const{prompt:n}=e;return I.jsxs(I.Fragment,{children:[I.jsx(tt,{fz:"md",fw:500,children:I.jsx(oo,{text:n})}),I.jsx(Vm,{children:Array.isArray(t.value)&&t.value.map(r=>I.jsx(Vm.Item,{children:r},r))})]})}function Gie({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s,leftLabel:o,rightLabel:a}=e;return I.jsxs(hT.Group,{name:`radioInput${e.id}`,label:I.jsx(oo,{text:r}),withAsterisk:i,size:"md",...n,error:Bh(e,n,s),children:[o?I.jsx(tt,{children:o}):null,I.jsx(ti,{mt:"xs",noWrap:!0,children:s.map(u=>I.jsx(hT,{disabled:t,value:u.value,label:u.label},u.label))}),I.jsx(tt,{children:a})]},e.id)}function zVe({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let o=1;o<=+r;o+=1)i.push({label:`${o}`,value:`${o}`});const s={...e,type:"radio",options:i};return I.jsx(Gie,{disabled:t,response:s,answer:n})}function HVe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:s,max:o,placeholder:a}=e;return I.jsx(o3,{disabled:t,placeholder:a,label:I.jsx(oo,{text:r}),withAsterisk:i,radius:"md",size:"md",min:s,max:o,...n,error:Bh(e,n)})}function WVe({response:e,disabled:t,answer:n}){const{prompt:r,options:i,leftLabel:s,rightLabel:o,required:a}=e,u=Bh(e,n);return I.jsx(Ss.Wrapper,{withAsterisk:a,label:I.jsx(oo,{text:r}),error:u,size:"md",children:I.jsxs(ti,{children:[s?I.jsx(fa,{children:I.jsx(tt,{children:s})}):null,I.jsx(Ite,{disabled:t,labelAlwaysOn:n.value!=="",label:l=>`$${l}`,sx:{marginTop:"15px",marginBottom:"15px",width:"400px"},marks:i,...n,defaultValue:50,thumbSize:n.value===""?.1:17,color:n.value===""?"gray.2":"blue",min:0,max:100,showLabelOnHover:!1,styles:l=>({markFilled:{borderColor:"#E9ECEF",backgroundColor:"white"},bar:{backgroundColor:"#E9ECEF"},markLabel:{fontSize:l.fontSizes.sm,marginBottom:5,marginTop:0}})}),o?I.jsx(fa,{children:I.jsx(tt,{children:o})}):null]})})}function qVe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return I.jsx(zm,{disabled:t,placeholder:r,label:I.jsx(oo,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Bh(e,n)})}function GVe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return I.jsx(nee,{disabled:t,placeholder:r,label:I.jsx(oo,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Bh(e,n)})}function YVe({response:e,answer:t,storedAnswer:n}){const r=(n?{value:n}:t)||{value:void 0},i=!!n,[s]=w$(),o=w.useMemo(()=>{if(e.paramCapture){const a=s.get(e.paramCapture);return i||!!a}return i},[i,e.paramCapture,s]);return I.jsxs(ft,{sx:{margin:10,padding:5},children:[e.type==="numerical"&&I.jsx(HVe,{response:e,disabled:o,answer:r}),e.type==="shortText"&&I.jsx(qVe,{response:e,disabled:o,answer:r}),e.type==="longText"&&I.jsx(GVe,{response:e,disabled:o,answer:r}),e.type==="likert"&&I.jsx(zVe,{response:e,disabled:o,answer:r}),e.type==="dropdown"&&I.jsx(UVe,{response:e,disabled:o,answer:r}),e.type==="slider"&&I.jsx(WVe,{response:e,disabled:o,answer:r}),e.type==="radio"&&I.jsx(Gie,{response:e,disabled:o,answer:r}),e.type==="checkbox"&&I.jsx(BVe,{response:e,disabled:o,answer:r}),e.type==="iframe"&&I.jsx(VVe,{response:e,answer:r})]})}function qT({config:e,location:t,status:n,style:r}){var y,g;const i=vl(),s=n==null?void 0:n.answer,o=e,a=((y=o==null?void 0:o.response)==null?void 0:y.filter(v=>v.location?v.location===t:t==="belowStimulus"))||[],u=rl(),{updateResponseBlockValidation:l}=nl(),c=Y4e(a,i,s||{}),[f,d]=w.useState(!1),{iframeAnswers:h}=da(v=>v),p=(((g=o==null?void 0:o.correctAnswer)==null?void 0:g.length)||0)>0,m=t===((o==null?void 0:o.nextButtonLocation)||"belowStimulus");return w.useEffect(()=>{const v=a.find(_=>_.type==="iframe");if(v){const _=v.id;c.setValues({...c.values,[_]:h})}},[h]),w.useEffect(()=>{u(l({location:t,currentStep:i,status:c.isValid(),values:Ag(c.values)}))},[c.values,i,t]),I.jsxs("div",{style:r,children:[a.map(v=>{var _,S;return I.jsx(R.Fragment,{children:v.hidden?"":I.jsxs(I.Fragment,{children:[I.jsx(YVe,{storedAnswer:s?s[v.id]:void 0,answer:{...c.getInputProps(v.id,{type:v.type==="checkbox"?"checkbox":"input"})},response:v}),p&&f&&I.jsx(tt,{children:`The correct answer is: ${(S=(_=o.correctAnswer)==null?void 0:_.find(T=>T.id===v.id))==null?void 0:S.answer}`})]})},`${v.id}-${i}`)}),I.jsxs(ti,{position:"right",spacing:"xs",mt:"xl",children:[p&&m&&I.jsx(_s,{onClick:()=>d(!0),disabled:!c.isValid(),children:"Check Answer"}),m&&I.jsx(b4e,{disabled:p&&!f,setCheckClicked:d,label:o.nextButtonText||"Next"})]})]})}const $b="@REVISIT_COMMS",KVe={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function QVe({currentConfig:e}){const{setIframeAnswers:t}=nl(),n=rl(),r=Xte(),i=w.useRef(null),s=w.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),o=vl(),a=td(),u=w.useCallback((l,c)=>{var f,d;(d=(f=i.current)==null?void 0:f.contentWindow)==null||d.postMessage({error:!1,type:`${$b}/${l}`,iframeId:s,message:c},"*")},[i,s]);return w.useEffect(()=>{const l=c=>{const{data:f}=c;if(typeof f=="object"&&s===f.iframeId)switch(f.type){case`${$b}/WINDOW_READY`:e.parameters&&u("STUDY_DATA",e.parameters);break;case`${$b}/READY`:i.current&&(i.current.style.height=`${f.message.documentHeight}px`);break;case`${$b}/ANSWERS`:n(t(f.message.answer));break}};return window.addEventListener("message",l),()=>window.removeEventListener("message",l)},[n,o,r,s,a,e,u,t]),I.jsx("div",{children:I.jsx("iframe",{ref:i,src:`${gl}${e.path}?trialid=${o}&id=${s}`,style:KVe})})}const XVe={maxWidth:"100%"};function JVe({currentConfig:e}){const t={...XVe,...e.style};return I.jsx(U_,{mx:"auto",src:`${gl}${e.path}`,style:t})}function z7({parameters:e,setAnswer:t}){return w.useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(r=>{new MediaRecorder(r).start();const s=new AudioContext,o=s.createMediaStreamSource(r),a=s.createAnalyser();a.minDecibels=-45,o.connect(a);const u=a.frequencyBinCount,l=new Uint8Array(u);let c=!1;const f=()=>{if(!c){a.getByteFrequencyData(l);for(let d=0;d<u;d+=1)l[d]>0&&(c=!0,t({status:!0,provenanceGraph:void 0,answers:{audioTest:!0}}));window.requestAnimationFrame(f)}};window.requestAnimationFrame(f)})},[t]),I.jsx(fa,{style:{height:"70%",width:"100%"},children:I.jsxs(bs,{children:[I.jsx(tt,{ta:"center",children:"Please allow us to access your microphone. There may be a popup in your browser window asking for access, click accept."}),I.jsx(tt,{ta:"center",children:"Once we can confirm that your microphone is on and we hear you say something, the continue button will become available."}),I.jsx(tt,{ta:"center",weight:700,children:"If you are not comfortable or able to speak English during this study, please close it now."})]})})}const ZVe=Object.freeze(Object.defineProperty({__proto__:null,AudioTest:z7,default:z7},Symbol.toStringTag,{value:"Module"})),xi={Purple:"#6D3E91",DarkOrange:"#C05917",LightTeal:"#58AC8C",Blue:"#286BBB",Maroon:"#883039",Camel:"#BC8E5A",MidnightBlue:"#00295B",DustyCoral:"#C15065",DarkOliveGreen:"#18470F",DarkCopper:"#9A5129",Peach:"#E56E5A",Mauve:"#A2559C",Turquoise:"#38AABA",OliveGreen:"#578145",Cherry:"#970046",Teal:"#00847E",RustyOrange:"#B13507",Denim:"#4C6A9C",Fuchsia:"#CF0A66",TealishGreen:"#00875E",Copper:"#B16214",DarkMauve:"#8C4569",Lime:"#3B8E1D",Coral:"#D73C50"},ap={DarkOrangeDarker:"#BE5915",PeachDarker:"#C4523E",LightTealDarker:"#2C8465",TurquoiseDarker:"#008291",CamelDarker:"#996D39",LimeDarker:"#338711"},k6=[xi.DustyCoral,ap.LightTealDarker,ap.DarkOrangeDarker,xi.Purple,xi.DarkOliveGreen,xi.Blue,xi.Maroon,ap.CamelDarker,xi.MidnightBlue,xi.DarkCopper,ap.PeachDarker,xi.Mauve,ap.TurquoiseDarker,xi.OliveGreen,xi.Cherry,xi.Teal,xi.RustyOrange,xi.Denim,xi.TealishGreen,xi.Copper,xi.DarkMauve,ap.LimeDarker,xi.Coral],e7e=Object.freeze(Object.defineProperty({__proto__:null,OwidDistinctLinesPalette:k6},Symbol.toStringTag,{value:"Module"}));function hm(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function t7e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function D6(e){let t,n,r;e.length!==2?(t=hm,n=(a,u)=>hm(e(a),u),r=(a,u)=>e(a)-u):(t=e===hm||e===t7e?e:n7e,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function n7e(){return 0}function r7e(e){return e===null?NaN:+e}function*i7e(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const s7e=D6(hm),o7e=s7e.right;D6(r7e).center;function vh(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class BN extends Map{constructor(t,n=l7e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(H7(this,t))}has(t){return super.has(H7(this,t))}set(t,n){return super.set(a7e(this,t),n)}delete(t){return super.delete(u7e(this,t))}}function H7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function a7e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function u7e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function l7e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function UN(e){return e}function lu(e,...t){return Yie(e,UN,UN,t)}function c7e(e,t,...n){return Yie(e,UN,t,n)}function Yie(e,t,n,r){return function i(s,o){if(o>=r.length)return n(s);const a=new BN,u=r[o++];let l=-1;for(const c of s){const f=u(c,++l,s),d=a.get(f);d?d.push(c):a.set(f,[c])}for(const[c,f]of a)a.set(c,i(f,o));return t(a)}(e,0)}function f7e(e=hm){if(e===hm)return Kie;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Kie(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const d7e=Math.sqrt(50),h7e=Math.sqrt(10),p7e=Math.sqrt(2);function GT(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=d7e?10:s>=h7e?5:s>=p7e?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?GT(e,t,n*2):[a,u,l]}function m7e(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?GT(t,e,n):GT(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)u[l]=(s-l)/-o;else for(let l=0;l<a;++l)u[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)u[l]=(i+l)/-o;else for(let l=0;l<a;++l)u[l]=(i+l)*o;return u}function VN(e,t,n){return t=+t,e=+e,n=+n,GT(e,t,n)[2]}function zN(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?VN(t,e,n):VN(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function HN(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function W7(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Qie(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Kie:f7e(i);r>n;){if(r-n>600){const u=r-n+1,l=t-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),h=Math.max(n,Math.floor(t-l*f/u+d)),p=Math.min(r,Math.floor(t+(u-l)*f/u+d));Qie(e,t,h,p,i)}const s=e[t];let o=n,a=r;for(O0(e,n,t),i(e[r],s)>0&&O0(e,n,r);o<a;){for(O0(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?O0(e,n,a):(++a,O0(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function O0(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Aa(e,t,n){if(e=Float64Array.from(i7e(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return W7(e);if(t>=1)return HN(e);var r,i=(r-1)*t,s=Math.floor(i),o=HN(Qie(e,s).subarray(0,s+1)),a=W7(e.subarray(s+1));return o+(a-o)*(i-s)}}function g7e(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function R0(e,t){return Aa(e,.5,t)}const y7e=v7e(Math.random);function v7e(e){return function(n,r=0,i=n.length){let s=i-(r=+r);for(;s;){const o=e()*s--|0,a=n[s+r];n[s+r]=n[o+r],n[o+r]=a}return n}}function $6(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Xie(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function r1(){}var Nv=.7,YT=1/Nv,pm="\\s*([+-]?\\d+)\\s*",kv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_7e=/^#([0-9a-f]{3,8})$/,b7e=new RegExp(`^rgb\\(${pm},${pm},${pm}\\)$`),w7e=new RegExp(`^rgb\\(${qu},${qu},${qu}\\)$`),E7e=new RegExp(`^rgba\\(${pm},${pm},${pm},${kv}\\)$`),S7e=new RegExp(`^rgba\\(${qu},${qu},${qu},${kv}\\)$`),T7e=new RegExp(`^hsl\\(${kv},${qu},${qu}\\)$`),x7e=new RegExp(`^hsla\\(${kv},${qu},${qu},${kv}\\)$`),q7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$6(r1,Dv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:G7,formatHex:G7,formatHex8:I7e,formatHsl:C7e,formatRgb:Y7,toString:Y7});function G7(){return this.rgb().formatHex()}function I7e(){return this.rgb().formatHex8()}function C7e(){return Jie(this).formatHsl()}function Y7(){return this.rgb().formatRgb()}function Dv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_7e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?K7(t):n===3?new Ks(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Lb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Lb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=b7e.exec(e))?new Ks(t[1],t[2],t[3],1):(t=w7e.exec(e))?new Ks(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=E7e.exec(e))?Lb(t[1],t[2],t[3],t[4]):(t=S7e.exec(e))?Lb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=T7e.exec(e))?J7(t[1],t[2]/100,t[3]/100,1):(t=x7e.exec(e))?J7(t[1],t[2]/100,t[3]/100,t[4]):q7.hasOwnProperty(e)?K7(q7[e]):e==="transparent"?new Ks(NaN,NaN,NaN,0):null}function K7(e){return new Ks(e>>16&255,e>>8&255,e&255,1)}function Lb(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ks(e,t,n,r)}function P7e(e){return e instanceof r1||(e=Dv(e)),e?(e=e.rgb(),new Ks(e.r,e.g,e.b,e.opacity)):new Ks}function WN(e,t,n,r){return arguments.length===1?P7e(e):new Ks(e,t,n,r??1)}function Ks(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$6(Ks,WN,Xie(r1,{brighter(e){return e=e==null?YT:Math.pow(YT,e),new Ks(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nv:Math.pow(Nv,e),new Ks(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ks(th(this.r),th(this.g),th(this.b),KT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Q7,formatHex:Q7,formatHex8:A7e,formatRgb:X7,toString:X7}));function Q7(){return`#${jd(this.r)}${jd(this.g)}${jd(this.b)}`}function A7e(){return`#${jd(this.r)}${jd(this.g)}${jd(this.b)}${jd((isNaN(this.opacity)?1:this.opacity)*255)}`}function X7(){const e=KT(this.opacity);return`${e===1?"rgb(":"rgba("}${th(this.r)}, ${th(this.g)}, ${th(this.b)}${e===1?")":`, ${e})`}`}function KT(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function th(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jd(e){return e=th(e),(e<16?"0":"")+e.toString(16)}function J7(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ba(e,t,n,r)}function Jie(e){if(e instanceof Ba)return new Ba(e.h,e.s,e.l,e.opacity);if(e instanceof r1||(e=Dv(e)),!e)return new Ba;if(e instanceof Ba)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new Ba(o,a,u,e.opacity)}function O7e(e,t,n,r){return arguments.length===1?Jie(e):new Ba(e,t,n,r??1)}function Ba(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$6(Ba,O7e,Xie(r1,{brighter(e){return e=e==null?YT:Math.pow(YT,e),new Ba(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nv:Math.pow(Nv,e),new Ba(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ks($O(e>=240?e-240:e+120,i,r),$O(e,i,r),$O(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ba(Z7(this.h),Mb(this.s),Mb(this.l),KT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=KT(this.opacity);return`${e===1?"hsl(":"hsla("}${Z7(this.h)}, ${Mb(this.s)*100}%, ${Mb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Z7(e){return e=(e||0)%360,e<0?e+360:e}function Mb(e){return Math.max(0,Math.min(1,e||0))}function $O(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const L6=e=>()=>e;function R7e(e,t){return function(n){return e+n*t}}function N7e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function k7e(e){return(e=+e)==1?Zie:function(t,n){return n-t?N7e(t,n,e):L6(isNaN(t)?n:t)}}function Zie(e,t){var n=t-e;return n?R7e(e,n):L6(isNaN(e)?t:e)}const ez=function e(t){var n=k7e(t);function r(i,s){var o=n((i=WN(i)).r,(s=WN(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=Zie(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function D7e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function $7e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function L7e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=M6(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function M7e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function QT(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function F7e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=M6(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var qN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,LO=new RegExp(qN.source,"g");function j7e(e){return function(){return e}}function B7e(e){return function(t){return e(t)+""}}function U7e(e,t){var n=qN.lastIndex=LO.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=qN.exec(e))&&(i=LO.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:QT(r,i)})),n=LO.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?B7e(u[0].x):j7e(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function M6(e,t){var n=typeof t,r;return t==null||n==="boolean"?L6(t):(n==="number"?QT:n==="string"?(r=Dv(t))?(t=r,ez):U7e:t instanceof Dv?ez:t instanceof Date?M7e:$7e(t)?D7e:Array.isArray(t)?L7e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?F7e:QT)(e,t)}function V7e(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const GN=Math.PI,YN=2*GN,bd=1e-6,z7e=YN-bd;function ese(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function H7e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ese;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class W7e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ese:H7e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,l=i-n,c=o-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>bd)if(!(Math.abs(f*u-l*c)>bd)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,m=u*u+l*l,y=h*h+p*p,g=Math.sqrt(m),v=Math.sqrt(d),_=s*Math.tan((GN-Math.acos((m+d-y)/(2*g*v)))/2),S=_/v,T=_/g;Math.abs(S-1)>bd&&this._append`L${t+S*c},${n+S*f}`,this._append`A${s},${s},0,0,${+(f*h>c*p)},${this._x1=t+T*u},${this._y1=n+T*l}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>bd||Math.abs(this._y1-c)>bd)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%YN+YN),d>z7e?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>bd&&this._append`A${r},${r},0,${+(d>=GN)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var tz={},MO={},FO=34,N0=10,jO=13;function tse(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function q7e(e,t){var n=tse(e);return function(r,i){return t(n(r),i,e)}}function nz(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Ls(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function G7e(e){return e<0?"-"+Ls(-e,6):e>9999?"+"+Ls(e,6):Ls(e,4)}function Y7e(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":G7e(e.getUTCFullYear())+"-"+Ls(e.getUTCMonth()+1,2)+"-"+Ls(e.getUTCDate(),2)+(i?"T"+Ls(t,2)+":"+Ls(n,2)+":"+Ls(r,2)+"."+Ls(i,3)+"Z":r?"T"+Ls(t,2)+":"+Ls(n,2)+":"+Ls(r,2)+"Z":n||t?"T"+Ls(t,2)+":"+Ls(n,2)+"Z":"")}function K7e(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,m=i(f,function(y,g){if(h)return h(y,g-1);p=y,h=d?q7e(y,d):tse(y)});return m.columns=p||[],m}function i(f,d){var h=[],p=f.length,m=0,y=0,g,v=p<=0,_=!1;f.charCodeAt(p-1)===N0&&--p,f.charCodeAt(p-1)===jO&&--p;function S(){if(v)return MO;if(_)return _=!1,tz;var E,x=m,P;if(f.charCodeAt(x)===FO){for(;m++<p&&f.charCodeAt(m)!==FO||f.charCodeAt(++m)===FO;);return(E=m)>=p?v=!0:(P=f.charCodeAt(m++))===N0?_=!0:P===jO&&(_=!0,f.charCodeAt(m)===N0&&++m),f.slice(x+1,E-1).replace(/""/g,'"')}for(;m<p;){if((P=f.charCodeAt(E=m++))===N0)_=!0;else if(P===jO)_=!0,f.charCodeAt(m)===N0&&++m;else if(P!==n)continue;return f.slice(x,E)}return v=!0,f.slice(x,p)}for(;(g=S())!==MO;){for(var T=[];g!==tz&&g!==MO;)T.push(g),g=S();d&&(T=d(T,y++))==null||h.push(T)}return h}function s(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=nz(f)),[d.map(c).join(e)].concat(s(f,d)).join(`
`)}function a(f,d){return d==null&&(d=nz(f)),s(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?Y7e(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var Q7e=K7e(","),X7e=Q7e.parse;function rz(e){for(var t in e){var n=e[t].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))J7e&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const J7e=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Z7e(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function eze(e,t){return fetch(e,t).then(Z7e)}function tze(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),eze(t,n).then(function(i){return e(i,r)})}}var KN=tze(X7e);function nze(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function XT(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ym(e){return e=XT(Math.abs(e)),e?e[1]:NaN}function rze(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function ize(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var sze=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function JT(e){if(!(t=sze.exec(e)))throw new Error("invalid format: "+e);var t;return new F6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}JT.prototype=F6.prototype;function F6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}F6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oze(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var nse;function aze(e,t){var n=XT(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(nse=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+XT(e,Math.max(0,t+s-1))[0]}function iz(e,t){var n=XT(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const sz={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nze,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>iz(e*100,t),r:iz,s:aze,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function oz(e){return e}var az=Array.prototype.map,uz=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uze(e){var t=e.grouping===void 0||e.thousands===void 0?oz:rze(az.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?oz:ize(az.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=JT(f);var d=f.fill,h=f.align,p=f.sign,m=f.symbol,y=f.zero,g=f.width,v=f.comma,_=f.precision,S=f.trim,T=f.type;T==="n"?(v=!0,T="g"):sz[T]||(_===void 0&&(_=12),S=!0,T="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var E=m==="$"?n:m==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",x=m==="$"?r:/[%p]/.test(T)?o:"",P=sz[T],M=/[defgprs%]/.test(T);_=_===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function L(F){var V=E,oe=x,U,te,ue;if(T==="c")oe=P(F)+oe,F="";else{F=+F;var ne=F<0||1/F<0;if(F=isNaN(F)?u:P(Math.abs(F),_),S&&(F=oze(F)),ne&&+F==0&&p!=="+"&&(ne=!1),V=(ne?p==="("?p:a:p==="-"||p==="("?"":p)+V,oe=(T==="s"?uz[8+nse/3]:"")+oe+(ne&&p==="("?")":""),M){for(U=-1,te=F.length;++U<te;)if(ue=F.charCodeAt(U),48>ue||ue>57){oe=(ue===46?i+F.slice(U+1):F.slice(U))+oe,F=F.slice(0,U);break}}}v&&!y&&(F=t(F,1/0));var q=V.length+F.length+oe.length,fe=q<g?new Array(g-q+1).join(d):"";switch(v&&y&&(F=t(fe+F,fe.length?g-oe.length:1/0),fe=""),h){case"<":F=V+F+oe+fe;break;case"=":F=V+fe+F+oe;break;case"^":F=fe.slice(0,q=fe.length>>1)+V+F+oe+fe.slice(q);break;default:F=fe+V+F+oe;break}return s(F)}return L.toString=function(){return f+""},L}function c(f,d){var h=l((f=JT(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Ym(d)/3)))*3,m=Math.pow(10,-p),y=uz[8+p/3];return function(g){return h(m*g)+y}}return{format:l,formatPrefix:c}}var Fb,Tf,rse;lze({thousands:",",grouping:[3],currency:["$",""]});function lze(e){return Fb=uze(e),Tf=Fb.format,rse=Fb.formatPrefix,Fb}function cze(e){return Math.max(0,-Ym(Math.abs(e)))}function fze(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ym(t)/3)))*3-Ym(Math.abs(e)))}function dze(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ym(t)-Ym(e))+1}function j6(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const lz=Symbol("implicit");function B6(){var e=new BN,t=[],n=[],r=lz;function i(s){let o=e.get(s);if(o===void 0){if(r!==lz)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new BN;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return B6(t,n).unknown(r)},j6.apply(i,arguments),i}function hze(e){return function(){return e}}function pze(e){return+e}var cz=[0,1];function jp(e){return e}function QN(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:hze(isNaN(t)?NaN:.5)}function mze(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function gze(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=QN(i,r),s=n(o,s)):(r=QN(r,i),s=n(s,o)),function(a){return s(r(a))}}function yze(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=QN(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=o7e(e,a,1,r)-1;return s[u](i[u](a))}}function ise(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vze(){var e=cz,t=cz,n=M6,r,i,s,o=jp,a,u,l;function c(){var d=Math.min(e.length,t.length);return o!==jp&&(o=mze(e[0],e[d-1])),a=d>2?yze:gze,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(u||(u=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((l||(l=a(t,e.map(r),QT)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,pze),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=V7e,c()},f.clamp=function(d){return arguments.length?(o=d?!0:jp,c()):o!==jp},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,c()}}function sse(){return vze()(jp,jp)}function _ze(e,t,n,r){var i=zN(e,t,n),s;switch(r=JT(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=fze(i,o))&&(r.precision=s),rse(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=dze(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=cze(i))&&(r.precision=s-(r.type==="%")*2);break}}return Tf(r)}function bze(e){var t=e.domain;return e.ticks=function(n){var r=t();return m7e(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return _ze(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,l,c=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=VN(o,a,n),l===u)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function _h(){var e=sse();return e.copy=function(){return ise(e,_h())},j6.apply(e,arguments),bze(e)}function wze(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}const BO=new Date,UO=new Date;function ui(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return u},i.filter=s=>ui(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(BO.setTime(+s),UO.setTime(+o),e(BO),e(UO),Math.floor(n(BO,UO))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const ZT=ui(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ZT.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ui(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ZT);ZT.range;const Ml=1e3,sa=Ml*60,Fl=sa*60,ec=Fl*24,U6=ec*7,fz=ec*30,VO=ec*365,Bp=ui(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ml)},(e,t)=>(t-e)/Ml,e=>e.getUTCSeconds());Bp.range;const V6=ui(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ml)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getMinutes());V6.range;const Eze=ui(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getUTCMinutes());Eze.range;const z6=ui(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ml-e.getMinutes()*sa)},(e,t)=>{e.setTime(+e+t*Fl)},(e,t)=>(t-e)/Fl,e=>e.getHours());z6.range;const Sze=ui(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fl)},(e,t)=>(t-e)/Fl,e=>e.getUTCHours());Sze.range;const i1=ui(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sa)/ec,e=>e.getDate()-1);i1.range;const H6=ui(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ec,e=>e.getUTCDate()-1);H6.range;const Tze=ui(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ec,e=>Math.floor(e/ec));Tze.range;function Hh(e){return ui(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*sa)/U6)}const $C=Hh(0),ex=Hh(1),xze=Hh(2),Ize=Hh(3),Km=Hh(4),Cze=Hh(5),Pze=Hh(6);$C.range;ex.range;xze.range;Ize.range;Km.range;Cze.range;Pze.range;function Wh(e){return ui(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/U6)}const ose=Wh(0),tx=Wh(1),Aze=Wh(2),Oze=Wh(3),Qm=Wh(4),Rze=Wh(5),Nze=Wh(6);ose.range;tx.range;Aze.range;Oze.range;Qm.range;Rze.range;Nze.range;const W6=ui(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());W6.range;const kze=ui(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kze.range;const tc=ui(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());tc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ui(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});tc.range;const bh=ui(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ui(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});bh.range;function Dze(e,t,n,r,i,s){const o=[[Bp,1,Ml],[Bp,5,5*Ml],[Bp,15,15*Ml],[Bp,30,30*Ml],[s,1,sa],[s,5,5*sa],[s,15,15*sa],[s,30,30*sa],[i,1,Fl],[i,3,3*Fl],[i,6,6*Fl],[i,12,12*Fl],[r,1,ec],[r,2,2*ec],[n,1,U6],[t,1,fz],[t,3,3*fz],[e,1,VO]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=D6(([,,y])=>y).right(o,d);if(h===o.length)return e.every(zN(l/VO,c/VO,f));if(h===0)return ZT.every(Math.max(zN(l,c,f),1));const[p,m]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(m)}return[a,u]}const[$ze,Lze]=Dze(tc,W6,$C,i1,z6,V6);function zO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function HO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function k0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Mze(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,l=D0(i),c=$0(i),f=D0(s),d=$0(s),h=D0(o),p=$0(o),m=D0(a),y=$0(a),g=D0(u),v=$0(u),_={a:ne,A:q,b:fe,B:A,c:null,d:yz,e:yz,f:oHe,g:gHe,G:vHe,H:rHe,I:iHe,j:sHe,L:ase,m:aHe,M:uHe,p:W,q:Y,Q:bz,s:wz,S:lHe,u:cHe,U:fHe,V:dHe,w:hHe,W:pHe,x:null,X:null,y:mHe,Y:yHe,Z:_He,"%":_z},S={a:C,A:O,b:k,B:G,c:null,d:vz,e:vz,f:SHe,g:kHe,G:$He,H:bHe,I:wHe,j:EHe,L:lse,m:THe,M:xHe,p:de,q:he,Q:bz,s:wz,S:IHe,u:CHe,U:PHe,V:AHe,w:OHe,W:RHe,x:null,X:null,y:NHe,Y:DHe,Z:LHe,"%":_z},T={a:L,A:F,b:V,B:oe,c:U,d:mz,e:mz,f:Zze,g:pz,G:hz,H:gz,I:gz,j:Kze,L:Jze,m:Yze,M:Qze,p:M,q:Gze,Q:tHe,s:nHe,S:Xze,u:Vze,U:zze,V:Hze,w:Uze,W:Wze,x:te,X:ue,y:pz,Y:hz,Z:qze,"%":eHe};_.x=E(n,_),_.X=E(r,_),_.c=E(t,_),S.x=E(n,S),S.X=E(r,S),S.c=E(t,S);function E(ge,Te){return function(Pe){var Se=[],st=-1,Je=0,vt=ge.length,Ve,ct,gt;for(Pe instanceof Date||(Pe=new Date(+Pe));++st<vt;)ge.charCodeAt(st)===37&&(Se.push(ge.slice(Je,st)),(ct=dz[Ve=ge.charAt(++st)])!=null?Ve=ge.charAt(++st):ct=Ve==="e"?" ":"0",(gt=Te[Ve])&&(Ve=gt(Pe,ct)),Se.push(Ve),Je=st+1);return Se.push(ge.slice(Je,st)),Se.join("")}}function x(ge,Te){return function(Pe){var Se=k0(1900,void 0,1),st=P(Se,ge,Pe+="",0),Je,vt;if(st!=Pe.length)return null;if("Q"in Se)return new Date(Se.Q);if("s"in Se)return new Date(Se.s*1e3+("L"in Se?Se.L:0));if(Te&&!("Z"in Se)&&(Se.Z=0),"p"in Se&&(Se.H=Se.H%12+Se.p*12),Se.m===void 0&&(Se.m="q"in Se?Se.q:0),"V"in Se){if(Se.V<1||Se.V>53)return null;"w"in Se||(Se.w=1),"Z"in Se?(Je=HO(k0(Se.y,0,1)),vt=Je.getUTCDay(),Je=vt>4||vt===0?tx.ceil(Je):tx(Je),Je=H6.offset(Je,(Se.V-1)*7),Se.y=Je.getUTCFullYear(),Se.m=Je.getUTCMonth(),Se.d=Je.getUTCDate()+(Se.w+6)%7):(Je=zO(k0(Se.y,0,1)),vt=Je.getDay(),Je=vt>4||vt===0?ex.ceil(Je):ex(Je),Je=i1.offset(Je,(Se.V-1)*7),Se.y=Je.getFullYear(),Se.m=Je.getMonth(),Se.d=Je.getDate()+(Se.w+6)%7)}else("W"in Se||"U"in Se)&&("w"in Se||(Se.w="u"in Se?Se.u%7:"W"in Se?1:0),vt="Z"in Se?HO(k0(Se.y,0,1)).getUTCDay():zO(k0(Se.y,0,1)).getDay(),Se.m=0,Se.d="W"in Se?(Se.w+6)%7+Se.W*7-(vt+5)%7:Se.w+Se.U*7-(vt+6)%7);return"Z"in Se?(Se.H+=Se.Z/100|0,Se.M+=Se.Z%100,HO(Se)):zO(Se)}}function P(ge,Te,Pe,Se){for(var st=0,Je=Te.length,vt=Pe.length,Ve,ct;st<Je;){if(Se>=vt)return-1;if(Ve=Te.charCodeAt(st++),Ve===37){if(Ve=Te.charAt(st++),ct=T[Ve in dz?Te.charAt(st++):Ve],!ct||(Se=ct(ge,Pe,Se))<0)return-1}else if(Ve!=Pe.charCodeAt(Se++))return-1}return Se}function M(ge,Te,Pe){var Se=l.exec(Te.slice(Pe));return Se?(ge.p=c.get(Se[0].toLowerCase()),Pe+Se[0].length):-1}function L(ge,Te,Pe){var Se=h.exec(Te.slice(Pe));return Se?(ge.w=p.get(Se[0].toLowerCase()),Pe+Se[0].length):-1}function F(ge,Te,Pe){var Se=f.exec(Te.slice(Pe));return Se?(ge.w=d.get(Se[0].toLowerCase()),Pe+Se[0].length):-1}function V(ge,Te,Pe){var Se=g.exec(Te.slice(Pe));return Se?(ge.m=v.get(Se[0].toLowerCase()),Pe+Se[0].length):-1}function oe(ge,Te,Pe){var Se=m.exec(Te.slice(Pe));return Se?(ge.m=y.get(Se[0].toLowerCase()),Pe+Se[0].length):-1}function U(ge,Te,Pe){return P(ge,t,Te,Pe)}function te(ge,Te,Pe){return P(ge,n,Te,Pe)}function ue(ge,Te,Pe){return P(ge,r,Te,Pe)}function ne(ge){return o[ge.getDay()]}function q(ge){return s[ge.getDay()]}function fe(ge){return u[ge.getMonth()]}function A(ge){return a[ge.getMonth()]}function W(ge){return i[+(ge.getHours()>=12)]}function Y(ge){return 1+~~(ge.getMonth()/3)}function C(ge){return o[ge.getUTCDay()]}function O(ge){return s[ge.getUTCDay()]}function k(ge){return u[ge.getUTCMonth()]}function G(ge){return a[ge.getUTCMonth()]}function de(ge){return i[+(ge.getUTCHours()>=12)]}function he(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Te=E(ge+="",_);return Te.toString=function(){return ge},Te},parse:function(ge){var Te=x(ge+="",!1);return Te.toString=function(){return ge},Te},utcFormat:function(ge){var Te=E(ge+="",S);return Te.toString=function(){return ge},Te},utcParse:function(ge){var Te=x(ge+="",!0);return Te.toString=function(){return ge},Te}}}var dz={"-":"",_:" ",0:"0"},Ei=/^\s*\d+/,Fze=/^%/,jze=/[\\^$*+?|[\]().{}]/g;function In(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function Bze(e){return e.replace(jze,"\\$&")}function D0(e){return new RegExp("^(?:"+e.map(Bze).join("|")+")","i")}function $0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Uze(e,t,n){var r=Ei.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Vze(e,t,n){var r=Ei.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function zze(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Hze(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Wze(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function hz(e,t,n){var r=Ei.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function pz(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qze(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Gze(e,t,n){var r=Ei.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Yze(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function mz(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Kze(e,t,n){var r=Ei.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function gz(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Qze(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Xze(e,t,n){var r=Ei.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Jze(e,t,n){var r=Ei.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Zze(e,t,n){var r=Ei.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function eHe(e,t,n){var r=Fze.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function tHe(e,t,n){var r=Ei.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function nHe(e,t,n){var r=Ei.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function yz(e,t){return In(e.getDate(),t,2)}function rHe(e,t){return In(e.getHours(),t,2)}function iHe(e,t){return In(e.getHours()%12||12,t,2)}function sHe(e,t){return In(1+i1.count(tc(e),e),t,3)}function ase(e,t){return In(e.getMilliseconds(),t,3)}function oHe(e,t){return ase(e,t)+"000"}function aHe(e,t){return In(e.getMonth()+1,t,2)}function uHe(e,t){return In(e.getMinutes(),t,2)}function lHe(e,t){return In(e.getSeconds(),t,2)}function cHe(e){var t=e.getDay();return t===0?7:t}function fHe(e,t){return In($C.count(tc(e)-1,e),t,2)}function use(e){var t=e.getDay();return t>=4||t===0?Km(e):Km.ceil(e)}function dHe(e,t){return e=use(e),In(Km.count(tc(e),e)+(tc(e).getDay()===4),t,2)}function hHe(e){return e.getDay()}function pHe(e,t){return In(ex.count(tc(e)-1,e),t,2)}function mHe(e,t){return In(e.getFullYear()%100,t,2)}function gHe(e,t){return e=use(e),In(e.getFullYear()%100,t,2)}function yHe(e,t){return In(e.getFullYear()%1e4,t,4)}function vHe(e,t){var n=e.getDay();return e=n>=4||n===0?Km(e):Km.ceil(e),In(e.getFullYear()%1e4,t,4)}function _He(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+In(t/60|0,"0",2)+In(t%60,"0",2)}function vz(e,t){return In(e.getUTCDate(),t,2)}function bHe(e,t){return In(e.getUTCHours(),t,2)}function wHe(e,t){return In(e.getUTCHours()%12||12,t,2)}function EHe(e,t){return In(1+H6.count(bh(e),e),t,3)}function lse(e,t){return In(e.getUTCMilliseconds(),t,3)}function SHe(e,t){return lse(e,t)+"000"}function THe(e,t){return In(e.getUTCMonth()+1,t,2)}function xHe(e,t){return In(e.getUTCMinutes(),t,2)}function IHe(e,t){return In(e.getUTCSeconds(),t,2)}function CHe(e){var t=e.getUTCDay();return t===0?7:t}function PHe(e,t){return In(ose.count(bh(e)-1,e),t,2)}function cse(e){var t=e.getUTCDay();return t>=4||t===0?Qm(e):Qm.ceil(e)}function AHe(e,t){return e=cse(e),In(Qm.count(bh(e),e)+(bh(e).getUTCDay()===4),t,2)}function OHe(e){return e.getUTCDay()}function RHe(e,t){return In(tx.count(bh(e)-1,e),t,2)}function NHe(e,t){return In(e.getUTCFullYear()%100,t,2)}function kHe(e,t){return e=cse(e),In(e.getUTCFullYear()%100,t,2)}function DHe(e,t){return In(e.getUTCFullYear()%1e4,t,4)}function $He(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Qm(e):Qm.ceil(e),In(e.getUTCFullYear()%1e4,t,4)}function LHe(){return"+0000"}function _z(){return"%"}function bz(e){return+e}function wz(e){return Math.floor(+e/1e3)}var up,fse,ms,q6;MHe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function MHe(e){return up=Mze(e),fse=up.format,ms=up.parse,q6=up.utcFormat,up.utcParse,up}function FHe(e){return new Date(e)}function jHe(e){return e instanceof Date?+e:+new Date(+e)}function dse(e,t,n,r,i,s,o,a,u,l){var c=sse(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),m=l("%I:%M"),y=l("%I %p"),g=l("%a %d"),v=l("%b %d"),_=l("%B"),S=l("%Y");function T(E){return(u(E)<E?h:a(E)<E?p:o(E)<E?m:s(E)<E?y:r(E)<E?i(E)<E?g:v:n(E)<E?_:S)(E)}return c.invert=function(E){return new Date(f(E))},c.domain=function(E){return arguments.length?d(Array.from(E,jHe)):d().map(FHe)},c.ticks=function(E){var x=d();return e(x[0],x[x.length-1],E??10)},c.tickFormat=function(E,x){return x==null?T:l(x)},c.nice=function(E){var x=d();return(!E||typeof E.range!="function")&&(E=t(x[0],x[x.length-1],E??10)),E?d(wze(x,E)):c},c.copy=function(){return ise(c,dse(e,t,n,r,i,s,o,a,u,l))},c}function $v(){return j6.apply(dse($ze,Lze,tc,W6,$C,i1,z6,V6,Bp,fse).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function di(e){return function(){return e}}function hse(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new W7e(t)}function pse(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mse(e){this._context=e}mse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gse(e){return new mse(e)}function yse(e){return e[0]}function vse(e){return e[1]}function yo(e,t){var n=di(!0),r=null,i=gse,s=null,o=hse(a);e=typeof e=="function"?e:e===void 0?yse:di(e),t=typeof t=="function"?t:t===void 0?vse:di(t);function a(u){var l,c=(u=pse(u)).length,f,d=!1,h;for(r==null&&(s=i(h=o())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+e(f,l,u),+t(f,l,u));if(h)return s=null,h+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:di(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:di(+u),a):t},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:di(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),a):r},a}function Uw(e,t,n){var r=null,i=di(!0),s=null,o=gse,a=null,u=hse(l);e=typeof e=="function"?e:e===void 0?yse:di(+e),t=typeof t=="function"?t:di(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?vse:di(+n);function l(f){var d,h,p,m=(f=pse(f)).length,y,g=!1,v,_=new Array(m),S=new Array(m);for(s==null&&(a=o(v=u())),d=0;d<=m;++d){if(!(d<m&&i(y=f[d],d,f))===g)if(g=!g)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(_[p],S[p]);a.lineEnd(),a.areaEnd()}g&&(_[d]=+e(y,d,f),S[d]=+t(y,d,f),a.point(r?+r(y,d,f):_[d],n?+n(y,d,f):S[d]))}if(v)return a=null,v+""||null}function c(){return yo().defined(i).curve(o).context(s)}return l.x=function(f){return arguments.length?(e=typeof f=="function"?f:di(+f),r=null,l):e},l.x0=function(f){return arguments.length?(e=typeof f=="function"?f:di(+f),l):e},l.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:di(+f),l):r},l.y=function(f){return arguments.length?(t=typeof f=="function"?f:di(+f),n=null,l):t},l.y0=function(f){return arguments.length?(t=typeof f=="function"?f:di(+f),l):t},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:di(+f),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(r).y(t)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:di(!!f),l):i},l.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),l):o},l.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),l):s},l}function Ez(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function _se(e){this._context=e}_se.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ez(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ez(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ji(e){return new _se(e)}function ry(e,t,n){this.k=e,this.x=t,this.y=n}ry.prototype={constructor:ry,scale:function(e){return e===1?this:new ry(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ry(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ry.prototype;function BHe(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let jb;const UHe=new Uint8Array(16);function VHe(){if(!jb&&(jb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jb(UHe)}const Ii=[];for(let e=0;e<256;++e)Ii.push((e+256).toString(16).slice(1));function zHe(e,t=0){return(Ii[e[t+0]]+Ii[e[t+1]]+Ii[e[t+2]]+Ii[e[t+3]]+"-"+Ii[e[t+4]]+Ii[e[t+5]]+"-"+Ii[e[t+6]]+Ii[e[t+7]]+"-"+Ii[e[t+8]]+Ii[e[t+9]]+"-"+Ii[e[t+10]]+Ii[e[t+11]]+Ii[e[t+12]]+Ii[e[t+13]]+Ii[e[t+14]]+Ii[e[t+15]]).toLowerCase()}const HHe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Sz={randomUUID:HHe};function Tz(e,t,n){if(Sz.randomUUID&&!t&&!e)return Sz.randomUUID();e=e||{};const r=e.random||(e.rng||VHe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return zHe(r)}let Gu=class{static get(){let t=Tz();for(;this.ids.has(t);)t=Tz();return this.ids.set(t,!0),t}};Gu.ids=new Map;function Yu(e){return"parent"in e}function WHe(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((u,l)=>(u[l]=[],i&&i[l]&&u[l].push({type:l,id:Gu.get(),val:i[l],createdOn:Date.now()}),u),s),a=r?[{id:Gu.get(),createdOn:Date.now(),val:r}]:[];return{id:Gu.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function qHe({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},u=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:Gu.get(),val:i[f],createdOn:Date.now()}),c),a),l=s?[{id:Gu.get(),createdOn:Date.now(),val:s}]:[];return{id:Gu.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:u,artifacts:l,sideEffects:r,state:t,level:e.level+1}}function Pr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=tWe[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function wh(e){return!!e&&!!e[Do]}function Lf(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===nWe}(e)||Array.isArray(e)||!!e[By]||!!(!((t=e.constructor)===null||t===void 0)&&t[By])||LC(e)||MC(e))}function Xm(e,t,n){n===void 0&&(n=!1),Mf(e)===0?(n?Object.keys:J6)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Mf(e){var t=e[Do];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:LC(e)?2:MC(e)?3:0}function Lv(e,t){return Mf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Vw(e,t){return Mf(e)===2?e.get(t):e[t]}function bse(e,t,n){var r=Mf(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function GHe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function LC(e){return ZHe&&e instanceof Map}function MC(e){return eWe&&e instanceof Set}function wd(e){return e.o||e.t}function G6(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=rWe(e);delete t[Do];for(var n=J6(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Y6(e,t){return t===void 0&&(t=!1),K6(e)||wh(e)||!Lf(e)||(Mf(e)>1&&(e.set=e.add=e.clear=e.delete=YHe),Object.freeze(e),t&&Xm(e,function(n,r){return Y6(r,!0)},!0)),e}function YHe(){Pr(2)}function K6(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ku(e){var t=ek[e];return t||Pr(18,e),t}function KHe(e,t){ek[e]||(ek[e]=t)}function xz(){return{}.NODE_ENV==="production"||Jm||Pr(0),Jm}function WO(e,t){t&&(Ku("Patches"),e.u=[],e.s=[],e.v=t)}function nx(e){XN(e),e.p.forEach(QHe),e.p=null}function XN(e){e===Jm&&(Jm=e.l)}function Iz(e){return Jm={p:[],l:Jm,h:e,m:!0,_:0}}function QHe(e){var t=e[Do];t.i===0||t.i===1?t.j():t.O=!0}function qO(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Ku("ES5").S(t,e,r),r?(n[Do].P&&(nx(t),Pr(4)),Lf(e)&&(e=rx(t,e),t.l||ix(t,e)),t.u&&Ku("Patches").M(n[Do].t,e,t.u,t.s)):e=rx(t,n,[]),nx(t),t.u&&t.v(t.u,t.s),e!==X6?e:void 0}function rx(e,t,n){if(K6(t))return t;var r=t[Do];if(!r)return Xm(t,function(s,o){return Cz(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return ix(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=G6(r.k):r.o;Xm(r.i===3?new Set(i):i,function(s,o){return Cz(e,r,i,s,o,n)}),ix(e,i,!1),n&&e.u&&Ku("Patches").R(r,n,e.u,e.s)}return r.o}function Cz(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Pr(5),wh(i)){var o=rx(e,i,s&&t&&t.i!==3&&!Lv(t.D,r)?s.concat(r):void 0);if(bse(n,r,o),!wh(o))return;e.m=!1}if(Lf(i)&&!K6(i)){if(!e.h.F&&e._<1)return;rx(e,i),t&&t.A.l||ix(e,i)}}function ix(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&Y6(t,n)}function GO(e,t){var n=e[Do];return(n?wd(n):e)[t]}function Pz(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function JN(e){e.P||(e.P=!0,e.l&&JN(e.l))}function YO(e){e.o||(e.o=G6(e.t))}function ZN(e,t,n){var r=LC(t)?Ku("MapSet").N(t,n):MC(t)?Ku("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:xz(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=tk;o&&(u=[a],l=iy);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Ku("ES5").J(t,n);return(n?n.A:xz()).p.push(r),r}function XHe(e){return wh(e)||Pr(22,e),function t(n){if(!Lf(n))return n;var r,i=n[Do],s=Mf(n);if(i){if(!i.P&&(i.i<4||!Ku("ES5").K(i)))return i.t;i.I=!0,r=Az(n,s),i.I=!1}else r=Az(n,s);return Xm(r,function(o,a){i&&Vw(i.t,o)===a||bse(r,o,t(a))}),s===3?new Set(r):r}(e)}function Az(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return G6(e)}function JHe(){function e(r){if(!Lf(r))return r;if(Array.isArray(r))return r.map(e);if(LC(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(MC(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return Lv(r,By)&&(i[By]=r[By]),i}function t(r){return wh(r)?e(r):r}var n="add";KHe("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=Mf(u),f=""+o[l];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||Pr(24),typeof u=="function"&&f==="prototype"&&Pr(24),typeof(u=Vw(u,f))!="object"&&Pr(15,o.join("/"))}var d=Mf(u),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(d){case 2:return u.set(p,h);case 3:Pr(16);default:return u[p]=h}case n:switch(d){case 1:return p==="-"?u.push(h):u.splice(p,0,h);case 2:return u.set(p,h);case 3:return u.add(h);default:return u[p]=h}case"remove":switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(s.value);default:return delete u[p]}default:Pr(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var f=a.t,d=a.o;Xm(a.D,function(h,p){var m=Vw(f,h),y=Vw(d,h),g=p?Lv(f,h)?"replace":n:"remove";if(m!==y||g!=="replace"){var v=u.concat(h);l.push(g==="remove"?{op:g,path:v}:{op:g,path:v,value:y}),c.push(g===n?{op:"remove",path:v}:g==="remove"?{op:n,path:v,value:t(m)}:{op:"replace",path:v,value:t(m)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var m=[c,l];l=m[0],c=m[1]}for(var y=0;y<f.length;y++)if(d[y]&&h[y]!==f[y]){var g=u.concat([y]);l.push({op:"replace",path:g,value:t(h[y])}),c.push({op:"replace",path:g,value:t(f[y])})}for(var v=f.length;v<h.length;v++){var _=u.concat([v]);l.push({op:n,path:_,value:t(h[v])})}f.length<h.length&&c.push({op:"replace",path:u.concat(["length"]),value:f.length})}(r,i,s,o);case 3:return function(a,u,l,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var m=u.concat([h]);l.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var m=u.concat([h]);l.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===X6?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var Oz,Jm,Q6=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",ZHe=typeof Map<"u",eWe=typeof Set<"u",Rz=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",X6=Q6?Symbol.for("immer-nothing"):((Oz={})["immer-nothing"]=!0,Oz),By=Q6?Symbol.for("immer-draftable"):"__$immer_draftable",Do=Q6?Symbol.for("immer-state"):"__$immer_state",tWe={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},nWe=""+Object.prototype.constructor,J6=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,rWe=Object.getOwnPropertyDescriptors||function(e){var t={};return J6(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},ek={},tk={get:function(e,t){if(t===Do)return e;var n=wd(e);if(!Lv(n,t))return function(i,s,o){var a,u=Pz(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Lf(r)?r:r===GO(e.t,t)?(YO(e),e.o[t]=ZN(e.A.h,r,e)):r},has:function(e,t){return t in wd(e)},ownKeys:function(e){return Reflect.ownKeys(wd(e))},set:function(e,t,n){var r=Pz(wd(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=GO(wd(e),t),s=i==null?void 0:i[Do];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(GHe(n,i)&&(n!==void 0||Lv(e.t,t)))return!0;YO(e),JN(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return GO(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,YO(e),JN(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=wd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Pr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Pr(12)}},iy={};Xm(tk,function(e,t){iy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),iy.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Pr(13),iy.set.call(this,e,t,void 0)},iy.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Pr(14),tk.set.call(this,e[0],t,n,e[0])};var iWe=function(){function e(n){var r=this;this.g=Rz,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var y=this;m===void 0&&(m=a);for(var g=arguments.length,v=Array(g>1?g-1:0),_=1;_<g;_++)v[_-1]=arguments[_];return u.produce(m,function(S){var T;return(T=s).call.apply(T,[y,S].concat(v))})}}var l;if(typeof s!="function"&&Pr(6),o!==void 0&&typeof o!="function"&&Pr(7),Lf(i)){var c=Iz(r),f=ZN(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?nx(c):XN(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return WO(c,o),qO(m,c)},function(m){throw nx(c),m}):(WO(c,o),qO(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===X6&&(l=void 0),r.F&&Y6(l,!0),o){var h=[],p=[];Ku("Patches").M(i,l,h,p),o(h,p)}return l}Pr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Lf(n)||Pr(8),wh(n)&&(n=XHe(n));var r=Iz(this),i=ZN(this,n,void 0);return i[Do].C=!0,XN(r),i},t.finishDraft=function(n,r){var i=n&&n[Do];({}).NODE_ENV!=="production"&&(i&&i.C||Pr(9),i.I&&Pr(10));var s=i.A;return WO(s,r),qO(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!Rz&&Pr(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Ku("Patches").$;return wh(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),$o=new iWe,sWe=$o.produce;$o.produceWithPatches.bind($o);$o.setAutoFreeze.bind($o);$o.setUseProxies.bind($o);$o.applyPatches.bind($o);$o.createDraft.bind($o);$o.finishDraft.bind($o);function oWe(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=WHe({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return Xne({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,u){const{id:l,meta:c}=u.payload,f=a.nodes[l].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:Gu.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[u.payload.id].meta=d},addArtifact(a,u){a.nodes[u.payload.id].artifacts.push({id:Gu.get(),createdOn:Date.now(),val:u.payload.artifact})},changeCurrent(a,u){a.current=u.payload},addNode(a,{payload:u}){a.nodes[u.id]=u,a.nodes[u.parent].children.push(u.id),a.current=u.id},load(a,{payload:u}){return u}}})}function aWe(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=oWe(e),s=p4e();s.startListening({matcher:mV(r.changeCurrent,r.addNode),effect:(a,u)=>{u.cancelActiveListeners(),t.forEach(l=>{const c=mV(r.addNode)(a),{skipOnNew:f}=l.config;f&&c||l.func(c?"new":"traversal")})}});const o=Kne({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,u){const l={id:Gu.get(),func:a,config:u};return t.set(l.id,l),()=>t.delete(l.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var uWe=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lWe=Object.prototype.hasOwnProperty;function nk(e,t){return lWe.call(e,t)}function rk(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)nk(e,i)&&r.push(i);return r}function Qs(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function ik(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Ed(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function wse(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function sk(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(sk(e[t]))return!0}else if(typeof e=="object"){for(var r=rk(e),i=r.length,s=0;s<i;s++)if(sk(e[r[s]]))return!0}}return!1}function Nz(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var Ese=function(e){uWe(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,Nz(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=Nz(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),xr=Ese,cWe=Qs,Up={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=sx(n,this.path);r&&(r=Qs(r));var i=nh(n,{op:"remove",path:this.from}).removed;return nh(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=sx(n,this.from);return nh(n,{op:"add",path:this.path,value:Qs(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Mv(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},fWe={add:function(e,t,n){return ik(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Up.move,copy:Up.copy,test:Up.test,_get:Up._get};function sx(e,t){if(t=="")return e;var n={op:"_get",path:t};return nh(e,n),n.value}function nh(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):ox(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=sx(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=Mv(e,t.value),o.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new xr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Qs(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=ox;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=wse(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!ik(h))throw new xr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);ik(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new xr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=fWe[t.op].call(t,l,h,e);if(o.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=Up[t.op].call(t,l,h,e);if(o.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new xr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function FC(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new xr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Qs(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=nh(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function dWe(e,t,n){var r=nh(e,t);if(r.test===!1)throw new xr("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function ox(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new xr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Up[e.op]){if(typeof e.path!="string")throw new xr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new xr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new xr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new xr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&sk(e.value))throw new xr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new xr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new xr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=Sse([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new xr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new xr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function Sse(e,t,n){try{if(!Array.isArray(e))throw new xr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)FC(Qs(t),Qs(e),n||!0);else{n=n||ox;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof xr)return i;throw i}}function Mv(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!Mv(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!Mv(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const hWe=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:xr,_areEquals:Mv,applyOperation:nh,applyPatch:FC,applyReducer:dWe,deepClone:cWe,getValueByPointer:sx,validate:Sse,validator:ox},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var Z6=new WeakMap,pWe=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),mWe=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function gWe(e){return Z6.get(e)}function yWe(e,t){return e.observers.get(t)}function vWe(e,t){e.observers.delete(t.callback)}function _We(e,t){t.unobserve()}function bWe(e,t){var n=[],r,i=gWe(e);if(!i)i=new pWe(e),Z6.set(e,i);else{var s=yWe(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Qs(e),t){r.callback=t,r.next=null;var o=function(){ok(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){ok(r),clearTimeout(r.next),vWe(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new mWe(t,r)),r}function ok(e,t){t===void 0&&(t=!1);var n=Z6.get(e.object);eL(n.value,e.object,e.patches,"",t),e.patches.length&&FC(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function eL(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=rk(t),o=rk(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(nk(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?eL(c,f,n,r+"/"+Ed(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+Ed(l),value:Qs(c)}),n.push({op:"replace",path:r+"/"+Ed(l),value:Qs(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Ed(l),value:Qs(c)}),n.push({op:"remove",path:r+"/"+Ed(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!nk(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+Ed(l),value:Qs(t[l])})}}}function Tse(e,t,n){n===void 0&&(n=!1);var r=[];return eL(e,t,r,"",n),r}const wWe=Object.freeze(Object.defineProperty({__proto__:null,compare:Tse,generate:ok,observe:bWe,unobserve:_We},Symbol.toStringTag,{value:"Module"}));Object.assign({},hWe,wWe,{JsonPatchError:Ese,deepClone:Qs,escapePathComponent:Ed,unescapePathComponent:wse});var sy=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(sy||{});function zw(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=Ise(i,e,t);s.shift();const o=s.map(u=>t[u]).map(u=>u.state.val).reduce((u,l)=>[...u,...l],[]),a=zw(i,t);return FC(a,Qs(o),!0,!1).newDocument}function EWe(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function xse({registry:e,initialState:t}){let n=!1;const r=BHe(),i=aWe(t);function s(c){return i.backend.nodes[c]}r.listen(sy.TRAVERSAL_START,()=>{n=!0}),r.listen(sy.TRAVERSAL_END,()=>{n=!1});const o={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const m=f[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},u={add(c,f=i.current.id){o.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=o.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=o.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},l={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=o.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){l.is(c)?l.remove(c):l.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return zw(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let m=null,y=null;const g=zw(this.current,this.graph.backend.nodes);if(p)y={type:"checkpoint",val:f};else{const v=Tse(g,f);if(EWe(f,v)==="checkpoint")y={type:"checkpoint",val:f};else{const _=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;y={type:"patch",val:v,checkpointRef:_}}}if(!y)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=qHe({label:c,state:y,parent:this.current,sideEffects:d,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,f){const d=e.get(f.type),h=zw(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:m}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(sy.TRAVERSAL_START);const f=Ise(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=s(f[h]),m=s(f[h+1]);TWe(p,m)?Yu(p)&&d.push(...p.sideEffects.undo):Yu(m)&&d.push(...m.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(sy.TRAVERSAL_END)},undo(){const{current:c}=i;return Yu(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return Cse(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:o,artifact:a,annotations:u,bookmarks:l}}function SWe(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;Yu(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)Yu(r)&&(r=n[r.parent]),Yu(i)&&(i=n[i.parent]);return r.id}function Ise(e,t,n){const r=SWe(e,t,n),i=n[r],s=[],o=[];let[a,u]=[e,t];for(;a.id!==i.id;)s.push(a),Yu(a)&&(a=n[a.parent]);for(s.push(a);u.id!==i.id;)o.push(u),Yu(u)&&(u=n[u.parent]);const l=o.reverse();return[...s,...l].map(c=>c.id)}function TWe(e,t){if(Yu(e)&&e.parent===t.id)return!0;if(Yu(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function Cse(e,t){return{...e,children:e.children.map(n=>Cse(t[n],t)),name:`${e.label}`}}JHe();function xWe(e){return e.length===2?sWe(e):e}class jC{static create(){return new jC}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:xWe(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),Wu(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}var IWe="Expected a function",kz=NaN,CWe="[object Symbol]",PWe=/^\s+|\s+$/g,AWe=/^[-+]0x[0-9a-f]+$/i,OWe=/^0b[01]+$/i,RWe=/^0o[0-7]+$/i,NWe=parseInt,kWe=typeof So=="object"&&So&&So.Object===Object&&So,DWe=typeof self=="object"&&self&&self.Object===Object&&self,$We=kWe||DWe||Function("return this")(),LWe=Object.prototype,MWe=LWe.toString,FWe=Math.max,jWe=Math.min,KO=function(){return $We.Date.now()};function BWe(e,t,n){var r,i,s,o,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(IWe);t=Dz(t)||0,ak(n)&&(c=!!n.leading,f="maxWait"in n,s=f?FWe(Dz(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function h(E){var x=r,P=i;return r=i=void 0,l=E,o=e.apply(P,x),o}function p(E){return l=E,a=setTimeout(g,t),c?h(E):o}function m(E){var x=E-u,P=E-l,M=t-x;return f?jWe(M,s-P):M}function y(E){var x=E-u,P=E-l;return u===void 0||x>=t||x<0||f&&P>=s}function g(){var E=KO();if(y(E))return v(E);a=setTimeout(g,m(E))}function v(E){return a=void 0,d&&r?h(E):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function S(){return a===void 0?o:v(KO())}function T(){var E=KO(),x=y(E);if(r=arguments,i=this,u=E,x){if(a===void 0)return p(u);if(f)return a=setTimeout(g,t),h(u)}return a===void 0&&(a=setTimeout(g,t)),o}return T.cancel=_,T.flush=S,T}function ak(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function UWe(e){return!!e&&typeof e=="object"}function VWe(e){return typeof e=="symbol"||UWe(e)&&MWe.call(e)==CWe}function Dz(e){if(typeof e=="number")return e;if(VWe(e))return kz;if(ak(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ak(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(PWe,"");var n=OWe.test(e);return n||RWe.test(e)?NWe(e.slice(2),n?2:8):AWe.test(e)?kz:+e}var zWe=BWe;const fu=su(zWe);function Pse({xScale:e,yRange:t,vertPosition:n,ticks:r,isDate:i=!1,showLines:s=!0}){const o=w.useMemo(()=>r.length>1?Math.abs(r[1].offset-r[0].offset):e.range()[0]-e.range()[1],[r,e]),a=w.useCallback(u=>(i?q6("%b%e, %Y"):Tf(".2s"))(u),[i]);return I.jsxs(I.Fragment,{children:[s?I.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,r.map(({value:u,offset:l})=>I.jsxs("g",{transform:`translate(${l}, ${n})`,children:[I.jsx("line",{y2:"6",stroke:"currentColor"}),s?I.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,I.jsx("foreignObject",{x:0-o/2,y:10,width:o,height:20,children:I.jsx(fa,{children:I.jsx(QI,{withinPortal:!0,label:u,children:I.jsx(tt,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+u==0?0:a(i?new Date(u):u)})})})})]},`${u}test`))]})}const HWe=Object.freeze(Object.defineProperty({__proto__:null,XAxis:Pse},Symbol.toStringTag,{value:"Module"}));function Ase({dataset:e,yScale:t,xRange:n,horizontalPosition:r}){const i=w.useMemo(()=>t.ticks(6).map(o=>({value:o,yOffset:t(o)})),[t]),s=w.useMemo(()=>e==="clean_stocks"?Tf(",.0%"):t.domain()[1]<5?Tf(",.2r"):Tf(",.0f"),[e,t]);return I.jsx(I.Fragment,{children:i.map(({value:o,yOffset:a})=>I.jsxs("g",{transform:`translate(${r}, ${a})`,children:[I.jsx("line",{x2:`${n[1]-n[0]}`,stroke:`${o===0?"black":"silver"}`,strokeWidth:o===0?1:.4}),I.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-6px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))})}const WWe=Object.freeze(Object.defineProperty({__proto__:null,YAxis:Ase},Symbol.toStringTag,{value:"Module"}));function Ose({guardrail:e,selection:t,allCountries:n,numRandomSamples:r}){const[i,s]=w.useState([]);return w.useEffect(()=>{if(e==="super_data"){const o=n.filter(u=>!(t||[]).includes(u)),a=y7e(o).slice(0,r);s(a)}else s([])},[e,t,n,r]),i}const qWe=Object.freeze(Object.defineProperty({__proto__:null,useRandomGuardrail:Ose},Symbol.toStringTag,{value:"Module"})),Hn={top:30,left:40,right:80,bottom:50};function uk({parameters:e,data:t,dataname:n,items:r,selection:i,range:s,guardrail:o,metadataFiltered:a,numRandomSamples:u}){const[l,c]=w.useState(null),f=ae=>i!=null&&i.includes(ae)?!l||l.length===0?!0:l.includes(ae):!1,d=w.useMemo(()=>{const ae=r.map(be=>be.group),ye=t.filter(be=>ae==null?void 0:ae.includes(be[e.group_var]));return[...c7e(ye,be=>({mean:g7e(be,$e=>$e[e.y_var]),upperq:Aa(be,.75,$e=>$e[e.y_var]),lowerq:Aa(be,.25,$e=>$e[e.y_var])}),be=>be[e.x_var])].flatMap(([be,$e])=>({date:be,mean:$e.mean,upperq:$e.upperq,lowerq:$e.lowerq}))},[t,r,e,n]),h=n==="clean_data"?800-Hn.left-Hn.right-60:800-Hn.left-Hn.right,p=400-Hn.top-Hn.bottom,m=w.useMemo(()=>Array.from(new Set(t.map(ae=>ae[e.cat_var]))),[t,e.cat_var]),y=Ose({guardrail:o,selection:i,allCountries:m,numRandomSamples:u}),g=w.useMemo(()=>{if(o!=="median")return null;const ae=lu(t,ve=>ve[e.x_var]);return Array.from(ae,([ve,se])=>{const be=se.map(X=>X[e.y_var]).filter(X=>X!==null),$e=R0(be);return{[e.x_var]:ve,[e.y_var]:$e}})},[t,e,o]),v=w.useMemo(()=>{if(o!=="medianClosest")return null;let ae="";const ye=lu(t,X=>X[e.x_var]),ve=new Map;ye.forEach((X,me)=>{const _e=X.map(We=>We[e.y_var]).filter(We=>We!=null),Oe=R0(_e);Oe!==void 0&&ve.set(me,Oe)});const se=lu(t,X=>X[e.cat_var]);let be=1/0,$e=[];return se.forEach((X,me)=>{let _e=0,Oe=0;for(const _t of X){const Be=_t[e.x_var],Qe=_t[e.y_var],Xe=ve.get(Be);if(Qe==null||Xe==null)continue;const Ct=Qe-Xe;_e+=Ct*Ct,Oe+=1}const We=_e/(Oe||1);We<be&&(be=We,$e=X,ae=me)}),!$e||$e.length===0?null:{data:$e,name:ae}},[t,e,o]),_=w.useMemo(()=>{if(o!=="medianIQR")return null;const ae=lu(t,ve=>ve[e.x_var]);return Array.from(ae,([ve,se])=>{const be=se.map(_t=>_t[e.y_var]).filter(_t=>_t!=null);if(be.length===0)return null;const $e=R0(be)??0,X=Aa(be,.25)??$e,_e=(Aa(be,.75)??$e)-X,Oe=$e+1.5*_e,We=$e-1.5*_e;return{[e.x_var]:ve,median:$e,upper:Oe,lower:We}}).filter(ve=>ve!==null)},[t,e,o]),S=w.useMemo(()=>{if(o!=="medianIQRClosest")return null;const ae=lu(t,me=>me[e.x_var]),ye=lu(t,me=>me[e.cat_var]),ve=new Map;ae.forEach((me,_e)=>{const Oe=me.map(Xe=>Xe[e.y_var]).filter(Xe=>Xe!=null),We=R0(Oe)??0,_t=Aa(Oe,.25)??We,Qe=(Aa(Oe,.75)??We)-_t;ve.set(_e,{median:We,upper:We+1.5*Qe,lower:We-1.5*Qe})});const se=me=>{let _e=null,Oe=1/0;return ye.forEach((We,_t)=>{var Ct;let Be=0,Qe=0;for(const ht of We){const Yn=ht[e.x_var],Qt=ht[e.y_var],vn=(Ct=ve.get(Yn))==null?void 0:Ct[me];if(vn==null||Qt==null)continue;const li=Qt-vn;Be+=li*li,Qe+=1}const Xe=Be/(Qe||1);Xe<Oe&&(Oe=Xe,_e={name:_t,data:We})}),_e},be=se("median"),$e=se("upper"),X=se("lower");return!be||!$e||!X?null:{median:be,upper:$e,lower:X}},[t,e,o]),T=w.useMemo(()=>{if(o!=="percentiles")return null;const ae=lu(t,ve=>ve[e.x_var]);return Array.from(ae,([ve,se])=>{const be=se.map(_e=>_e[e.y_var]).filter(_e=>_e!=null);if(be.length===0)return null;const $e=R0(be)??0,X=Aa(be,.25)??$e,me=Aa(be,.75)??$e;return{[e.x_var]:ve,median:$e,upper:me,lower:X}}).filter(ve=>ve!==null)},[t,e,o]),E=w.useMemo(()=>{if(o!=="percentileClosest")return null;const ae=lu(t,X=>X[e.x_var]),ye=lu(t,X=>X[e.cat_var]),ve=new Map;ae.forEach((X,me)=>{const _e=X.map(_t=>_t[e.y_var]).filter(_t=>_t!=null),Oe=Aa(_e,.25)??0,We=Aa(_e,.75)??0;ve.set(me,{lower:Oe,upper:We})});const se=X=>{let me=null,_e=1/0;return ye.forEach((Oe,We)=>{var Xe;let _t=0,Be=0;for(const Ct of Oe){const ht=Ct[e.x_var],Yn=Ct[e.y_var],Qt=(Xe=ve.get(ht))==null?void 0:Xe[X];if(Qt==null||Yn==null)continue;const vn=Yn-Qt;_t+=vn*vn,Be+=1}const Qe=_t/(Be||1);Qe<_e&&(_e=Qe,me={name:We,data:Oe})}),me},be=se("upper"),$e=se("lower");return!be||!$e?null:{upper:be,lower:$e}},[t,e,o]),[x,P]=w.useState([]),M=["FTV","PPL","UPS","JPM"],L=["Europe","Low-income countries","South Korea","Iran","North America"],F="/sandbox/data/cluster_representatives.csv",V="/sandbox/data/subregion_representatives.csv";w.useEffect(()=>{if(o==="cluster"){if(!a){P(n==="clean_data"?L.map(ae=>({country:ae,name:ae})):M.map(ae=>({symbol:ae,name:ae})));return}n==="clean_data"?KN(V,rz).then(ae=>{P(ae)}):KN(F,rz).then(ae=>{P(ae)})}},[o,a,n]);const oe=w.useMemo(()=>!i||!r?[]:n==="clean_data"?Array.from(new Set(i.map(ae=>{var ye;return(ye=r.find(ve=>ve.name===ae))==null?void 0:ye.subregion}).filter(Boolean))):Array.from(new Set(i.map(ae=>{var ye;return(ye=r.find(ve=>ve.name===ae))==null?void 0:ye.sector}).filter(Boolean))),[i,r,n]),U=w.useMemo(()=>o!=="cluster"?[]:a?oe.length?n==="clean_data"?x.filter(ae=>oe.includes(ae.subregion)):x.filter(ae=>oe.includes(ae.sector)):[]:x,[x,oe,o,a,n]),{yMin:te,yMax:ue}=w.useMemo(()=>{const ae=(()=>{if(o==="all")return t.map(X=>+X[e.y_var]).filter(X=>X!==null);if(o==="super_data"){const X=new Set([...i||[],...y]);return t.filter(me=>X.has(me[e.cat_var])).map(me=>+me[e.y_var]).filter(me=>me!==null)}if(o==="super_summ"){const X=d.flatMap(_e=>[_e.mean,_e.upperq,_e.lowerq]).filter(_e=>_e!=null);return[...t.filter(_e=>i==null?void 0:i.includes(_e[e.cat_var])).map(_e=>+_e[e.y_var]).filter(_e=>_e!==null),...X]}if(o==="median"&&g){const X=g.map(_e=>_e[e.y_var]).filter(_e=>_e!=null);return[...t.filter(_e=>i==null?void 0:i.includes(_e[e.cat_var])).map(_e=>+_e[e.y_var]).filter(_e=>_e!==null),...X]}if(o==="medianClosest"&&v&&v.data&&v.data.length>0){const X=t.filter(_e=>i==null?void 0:i.includes(_e[e.cat_var])).map(_e=>+_e[e.y_var]).filter(_e=>!Number.isNaN(_e)),me=v.data.map(_e=>+_e[e.y_var]).filter(_e=>!Number.isNaN(_e));return[...X,...me]}if(o==="medianIQRClosest"&&S){const X=_e=>{var Oe;return((Oe=_e==null?void 0:_e.data)==null?void 0:Oe.map(We=>+We[e.y_var]).filter(We=>!Number.isNaN(We)))??[]};return[...t.filter(_e=>i==null?void 0:i.includes(_e[e.cat_var])).map(_e=>+_e[e.y_var]).filter(_e=>!Number.isNaN(_e)),...X(S.median),...X(S.upper),...X(S.lower)]}if(o==="percentileClosest"&&E){const X=t.filter(Oe=>i==null?void 0:i.includes(Oe[e.cat_var])).map(Oe=>+Oe[e.y_var]).filter(Oe=>!Number.isNaN(Oe)),me=E.upper.data.map(Oe=>+Oe[e.y_var]).filter(Oe=>!Number.isNaN(Oe)),_e=E.lower.data.map(Oe=>+Oe[e.y_var]).filter(Oe=>!Number.isNaN(Oe));return[...X,...me,..._e]}if(o==="cluster"&&U.length>0){const X=t.filter(Oe=>i==null?void 0:i.includes(Oe[e.cat_var])).map(Oe=>+Oe[e.y_var]).filter(Oe=>!Number.isNaN(Oe)),me=Array.from(new Set(U.map(Oe=>Oe.symbol||Oe.name))),_e=t.filter(Oe=>me.includes(Oe[e.cat_var])).map(Oe=>+Oe[e.y_var]).filter(Oe=>!Number.isNaN(Oe));return[...X,..._e]}return t.filter(X=>i==null?void 0:i.includes(X[e.cat_var])).map(X=>+X[e.y_var]).filter(X=>X!==null)})();let ye=[];o==="medianIQR"&&_&&(ye=_.filter(X=>X!==null).flatMap(X=>[X.median,X.upper,X.lower])),o==="percentiles"&&T&&(ye=T.filter(X=>X!==null).flatMap(X=>[X.median,X.upper,X.lower]));const ve=[...ae,...ye],[se,be]=vh(ve),$e=(be-se)*.1;return{yMin:se-$e,yMax:be+$e}},[t,i,y,_,d,g,e,o,v,S,E,U]),ne=w.useMemo(()=>s?$v([Hn.left,h+Hn.left]).domain(s):$v([Hn.left,h+Hn.left]).domain([new Date(e.start_date),new Date(e.end_date)]),[h,s,e,n]),q=w.useMemo(()=>{const ae=_h([p+Hn.top,Hn.top]);return ae.domain([te,ue]).nice(),ae},[p,ue,te,n,o]),fe=w.useMemo(()=>{const ae=Array.from(new Set(t.map(ye=>ye[e.cat_var])));return B6(k6).domain(ae)},[t,e,n]),A=w.useMemo(()=>{if(!g||o!=="median")return null;const ae=yo().x(ve=>ne(ve[0])).y(ve=>q(ve[1])).curve(Ji),ye=g.map(ve=>{const se=ms("%Y-%m-%d")(ve[e.x_var]);return!se||ve[e.y_var]===void 0?null:[se.getTime(),ve[e.y_var]]}).filter(ve=>ve!==null);return{path:ae(ye),labelPosition:g[g.length-1]}},[g,ne,q,e,o]),W=w.useMemo(()=>{if(o!=="medianClosest"||!v)return null;const ae=v.data.map(se=>{const be=ms("%Y-%m-%d")(se[e.x_var]),$e=+se[e.y_var];return!be||Number.isNaN($e)?null:[be.getTime(),$e]}).filter(se=>se!==null),ye=[...v.data].reverse().find(se=>{const be=+se[e.y_var];return typeof be=="number"&&!Number.isNaN(be)});return{path:yo().x(se=>ne(se[0])).y(se=>q(se[1])).curve(Ji)(ae),labelPosition:ye,name:v.name}},[v,ne,q,e,o]),Y=w.useMemo(()=>{if(o!=="medianIQRClosest"||!S)return null;const ae=yo().x(ye=>ne(ms("%Y-%m-%d")(ye[e.x_var]))).y(ye=>q(ye[e.y_var])).curve(Ji);return{medianPath:ae(S.median.data),upperPath:ae(S.upper.data),lowerPath:ae(S.lower.data),labelPositions:{median:S.median.data[S.median.data.length-1],upper:S.upper.data[S.upper.data.length-1],lower:S.lower.data[S.lower.data.length-1]},names:{median:S.median.name,upper:S.upper.name,lower:S.lower.name}}},[S,ne,q,e,o]),C=w.useMemo(()=>{if(o!=="percentileClosest"||!E)return null;const ae=yo().x(ye=>ne(ms("%Y-%m-%d")(ye[e.x_var]))).y(ye=>q(ye[e.y_var])).curve(Ji);return{upperPath:ae(E.upper.data),lowerPath:ae(E.lower.data),labelPositions:{upper:E.upper.data[E.upper.data.length-1],lower:E.lower.data[E.lower.data.length-1]},names:{upper:E.upper.name,lower:E.lower.name}}},[E,ne,q,e,o]),O=w.useMemo(()=>{if(o!=="cluster"||U.length===0)return null;let ae;return n==="clean_data"?ae=Array.from(new Set(U.map(ye=>ye.country))):ae=Array.from(new Set(U.map(ye=>ye.symbol||ye.name))),ae.map(ye=>{const ve=t.filter($e=>$e[e.cat_var]===ye),se=yo().x($e=>ne($e[0])).y($e=>q($e[1])).curve(Ji),be=ve.map($e=>{const X=ms("%Y-%m-%d")($e[e.x_var]),me=+$e[e.y_var];return!X||Number.isNaN(me)?null:[X.getTime(),me]}).filter($e=>$e!==null);return be.length===0?null:{name:ye,path:se(be)??"",lastPoint:be[be.length-1]}}).filter(Boolean)},[U,t,ne,q,e,o,n]),k=w.useMemo(()=>{if(o!=="all")return null;const ae=new Set(i),ye=lu(t,ve=>ve[e.cat_var]);return Array.from(ye.entries()).filter(([ve])=>!ae.has(ve)).map(([ve,se])=>{const be=se.map(X=>{const me=ms("%Y-%m-%d")(X[e.x_var]),_e=+X[e.y_var];return!me||Number.isNaN(_e)?null:[me.getTime(),_e]}).filter(X=>X!==null),$e=yo().x(X=>ne(X[0])).y(X=>q(X[1])).curve(Ji);return{name:ve,path:$e(be)}})},[t,i,o,e,ne,q]),G=w.useMemo(()=>{if(!ne||!q)return;const ae=yo();return ae.x(ve=>ne(ms("%Y-%m-%d")(ve[e.x_var]))),ae.y(ve=>q(ve[e.y_var])),ae.curve(Ji),i==null?void 0:i.map(ve=>({country:ve,path:ae(t.filter(se=>se[e.cat_var]===ve))}))},[t,ne,q,i,e,n]),de=w.useMemo(()=>{if(o!=="super_data")return null;const ae=yo().x(ve=>ne(ms("%Y-%m-%d")(ve[e.x_var]))).y(ve=>q(ve[e.y_var])).curve(Ji);return y.map(ve=>({country:ve,path:ae(t.filter(se=>se[e.cat_var]===ve))}))},[t,ne,q,y,e]),he=w.useMemo(()=>{if(o!=="super_summ")return null;const ae=yo();ae.x(be=>ne(ms("%Y-%m-%d")(be.date))),ae.y(be=>q(be.mean)),ae.curve(Ji);const ye=ae(d),ve=Uw();ve.x(be=>ne(ms("%Y-%m-%d")(be.date))),ve.y0(be=>q(be.lowerq)),ve.y1(be=>q(be.upperq)),ve.curve(Ji);const se=ve(d);return{meanLine:ye,confidenceBands:se,data:d}},[ne,q,o,d,n,s]),ge=w.useMemo(()=>n==="clean_stocks"?"Industry Average":"Average",[n]),Te=w.useMemo(()=>{if(!_||o!=="medianIQR")return null;const ae=yo().x(se=>ne(se[0])).y(se=>q(se[1])).curve(Ji),ye=Uw().x(se=>ne(se[0])).y0(se=>q(se[1]??te)).y1(se=>q(se[2]??ue)).curve(Ji),ve=_.map(se=>{if(!se)return null;const be=ms("%Y-%m-%d")(se[e.x_var]);return be?[be.getTime(),se.lower,se.upper]:null}).filter(se=>se!==null);return{iqrAreaPath:ye(ve),medianPath:ae(ve.map(([se,be,$e])=>[se,($e+be)/2])),upperPath:ae(ve.map(([se,,be])=>[se,be])),lowerPath:ae(ve.map(([se,be])=>[se,be]))}},[_,ne,q,e,o]),Pe=w.useMemo(()=>{if(!T||o!=="percentiles")return null;const ae=yo().x(se=>ne(se[0])).y(se=>q(se[1])).curve(Ji),ye=Uw().x(se=>ne(se[0])).y0(se=>q(se[1]??te)).y1(se=>q(se[2]??ue)).curve(Ji),ve=T.map(se=>{if(!se)return null;const be=ms("%Y-%m-%d")(se[e.x_var]);return be?[be.getTime(),se.lower,se.upper]:null}).filter(se=>se!==null);return{percentileAreaPath:ye(ve),upperPath:ae(ve.map(([se,,be])=>[se,be])),lowerPath:ae(ve.map(([se,be])=>[se,be]))}},[_,ne,q,e,o]),Se=ae=>ae==="Eldoril North"?"Policy A":ae.split(" ")[0]==="Silvoria"||ae.split(" ")[0]==="Mystara"?"Policy C":ae==="Average"?"all policies":"Policy B";w.useMemo(()=>{let ye=null;switch(o){case"super_data":ye=i==null?void 0:i.concat(de==null?void 0:de.map(se=>se.country));break;case"super_summ":ye=i==null?void 0:i.concat([ge]);break;default:ye=i;break}const ve=ye==null?void 0:ye.map(se=>({country:se,country_policy:n==="clean_data"?`${se} (${Se(se)})`:se,label_pos:se===ge?he==null?void 0:he.data.slice(-1).map(be=>q(be.mean))[0]:t.filter(be=>be[e.cat_var]===se).slice(-1).map(be=>q(be[e.y_var]))[0]})).sort((se,be)=>se.label_pos<be.label_pos?1:-1);if(!ve)return ve;for(let se=0;se<(ve==null?void 0:ve.length);se+=1){if(!ve[se-1])continue;const be=ve[se-1].label_pos-ve[se].label_pos;be>=10||(ve[se].label_pos=ve[se].label_pos-10+be)}return ve},[t,i,q,o,ge,e,de,he,n]);const st=w.useMemo(()=>{let ye=[];i&&(ye=ye.concat(i.map(se=>{const be=r.find(X=>X.name===se);let $e=se;return n==="clean_data"?$e=`${se} (${Se(se)})`:o==="cluster"&&(be!=null&&be.sector)&&($e=`${se} (${be.sector})`),{label:$e,y:t.filter(X=>X[e.cat_var]===se).slice(-1).map(X=>q(X[e.y_var]))[0],color:f(se)?fe(se):"silver"}}))),y&&o==="super_data"&&(ye=ye.concat(y.map(se=>({label:n==="clean_data"?`${se} (${Se(se)})`:se,y:t.filter(be=>be[e.cat_var]===se).slice(-1).map(be=>q(be[e.y_var]))[0],color:"gray"})))),he&&o==="super_summ"&&ye.push({label:ge,y:q(he.data[he.data.length-1].mean),color:"gray"}),W&&o==="medianClosest"&&ye.push({label:W.name,y:q(W.labelPosition[e.y_var]),color:"silver"}),Y&&o==="medianIQRClosest"&&ye.push({label:Y.names.median,y:q(Y.labelPositions.median[e.y_var]),color:"silver"},{label:Y.names.upper,y:q(Y.labelPositions.upper[e.y_var]),color:"silver"},{label:Y.names.lower,y:q(Y.labelPositions.lower[e.y_var]),color:"silver"}),C&&o==="percentileClosest"&&ye.push({label:C.names.upper,y:q(C.labelPositions.upper[e.y_var]),color:"silver"},{label:C.names.lower,y:q(C.labelPositions.lower[e.y_var]),color:"silver"}),O&&o==="cluster"&&(ye=ye.concat(O.filter(se=>se!==null).map(se=>{if(!se)return null;const be=r.find(me=>me.name===se.name),$e=be!=null&&be.sector?` (${be.sector})`:"",X=be!=null&&be.subregion?` (${be.subregion})`:"";return{label:`${se.name}${$e}${X}`,y:q(se.lastPoint[1]),color:"silver"}}).filter(se=>se!==null))),ye=ye.filter(se=>typeof se.y=="number"&&!Number.isNaN(se.y)).sort((se,be)=>be.y-se.y);let ve;for(const se of ye)ve!==void 0&&ve-se.y<10&&(se.y=ve-10),ve=se.y;return ye},[i,t,e,n,q,fe,W,Y,C,O,o]),Je=_&&_.length>0?_[_.length-1]:null,vt=Je&&Je.median!=null?q(Je.median)-7:0,Ve=Je&&Je.upper!=null?q(Je.upper)-7:0,ct=Je&&Je.lower!=null?q(Je.lower)-7:0,gt=T&&T.length>0?T[T.length-1]:null,rn=gt&&gt.upper!=null?q(gt.upper)-7:0,hn=gt&&gt.lower!=null?q(gt.lower)-7:0;return(i==null?void 0:i.length)===0?I.jsx(fa,{style:{width:`${o==="cluster"?"900px":"800px"}`,height:"400px"},children:I.jsx(tt,{fs:"italic",c:"dimmed",children:"Select an item to view the chart."})}):I.jsxs("svg",{id:"baseLineChart",style:{height:"400px",width:`${o==="cluster"?"900px":"800px"}`,fontFamily:'"Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[I.jsxs("g",{id:"axes",children:[I.jsx(Pse,{isDate:!0,xScale:ne,yRange:q.range(),vertPosition:p+Hn.top,showLines:!1,ticks:ne.ticks(6).map(ae=>({value:ae.toString(),offset:ne(ae)}))}),I.jsx(Ase,{dataset:n,yScale:q,horizontalPosition:Hn.left,xRange:ne.range()})]}),I.jsx("svg",{style:{width:`${h}`},children:de==null?void 0:de.map(ae=>I.jsx("g",{children:I.jsx("path",{id:`${ae.country}`,fill:"none",stroke:f(ae.country)?fe(ae.country):"gray",strokeDasharray:"4,1",strokeWidth:.5,d:ae.path},`${ae.country}_key`)},`${ae.country}_g`))},"control_lines"),I.jsx("svg",{style:{width:`${h}`},children:he?I.jsx("g",{children:I.jsx("path",{id:"meanLine",fill:"none",stroke:"gray",strokeDasharray:"4,1",strokeWidth:.5,d:he.meanLine},"meanLine_key")},"summary_g"):null},"control_bands"),I.jsx("svg",{style:{width:`${h}`},children:G==null?void 0:G.map(ae=>I.jsx("g",{children:I.jsx("path",{id:`${ae.country}`,fill:"none",stroke:f(ae.country)?fe(ae.country):"silver",strokeWidth:l!=null&&l.includes(ae.country)?2:1.5,d:ae.path},`${ae.country}_key`)},`${ae.country}_g`))},"lines"),A&&I.jsxs(I.Fragment,{children:[I.jsx("path",{d:A.path,fill:"none",stroke:"silver",strokeDasharray:"4,1",strokeWidth:1.5}),I.jsx("foreignObject",{x:h+Hn.left-3,y:A?q(A.labelPosition[e.y_var])-7:0,width:Hn.right+60,height:20,children:I.jsx(tt,{px:2,size:10,color:"silver",onMouseOver:()=>c(["Median Country"]),onMouseOut:()=>c([]),children:"Median"})})]}),W&&I.jsx(I.Fragment,{children:I.jsx("path",{d:W.path,fill:"none",stroke:"silver",strokeDasharray:"4,1",strokeWidth:1.5})}),Te&&_&&I.jsxs(I.Fragment,{children:[I.jsx("path",{d:Te.medianPath,fill:"none",stroke:"silver",strokeDasharray:"4,1",strokeWidth:1.5}),I.jsx("path",{d:Te.upperPath,fill:"none",stroke:"silver",strokeDasharray:"2,2",strokeWidth:1.5}),I.jsx("path",{d:Te.lowerPath,fill:"none",stroke:"silver",strokeDasharray:"2,2",strokeWidth:1.5}),_&&_.length>0&&I.jsx("foreignObject",{x:h+Hn.left-3,y:vt,width:Hn.right+60,height:20,children:I.jsx(tt,{px:2,size:10,color:"silver",children:"Median"})}),_&&_.length>0&&I.jsx("foreignObject",{x:h+Hn.left-3,y:Ve,width:Hn.right+60,height:20,children:I.jsx(tt,{px:2,size:10,color:"silver",children:"Median + 1.5 IQR"})}),_&&_.length>0&&I.jsx("foreignObject",{x:h+Hn.left-3,y:ct,width:Hn.right+60,height:20,children:I.jsx(tt,{px:2,size:10,color:"silver",children:"Median - 1.5 IQR"})})]}),Y&&I.jsxs(I.Fragment,{children:[I.jsx("path",{d:Y.medianPath??void 0,fill:"none",stroke:"silver",strokeDasharray:"4,1",strokeWidth:1.5}),I.jsx("path",{d:Y.upperPath??void 0,fill:"none",stroke:"silver",strokeDasharray:"2,2",strokeWidth:1.5}),I.jsx("path",{d:Y.lowerPath??void 0,fill:"none",stroke:"silver",strokeDasharray:"2,2",strokeWidth:1.5})]}),Pe&&T&&I.jsxs(I.Fragment,{children:[I.jsx("path",{d:Pe.upperPath,fill:"none",stroke:"silver",strokeDasharray:"2,2",strokeWidth:1.5}),I.jsx("path",{d:Pe.lowerPath,fill:"none",stroke:"silver",strokeDasharray:"2,2",strokeWidth:1.5}),T&&T.length>0&&I.jsx("foreignObject",{x:h+Hn.left-3,y:rn,width:Hn.right+60,height:20,children:I.jsx(tt,{px:2,size:10,color:"silver",children:"75th Percentile"})}),T&&T.length>0&&I.jsx("foreignObject",{x:h+Hn.left-3,y:hn,width:Hn.right+60,height:20,children:I.jsx(tt,{px:2,size:10,color:"silver",children:"25th Percentile"})})]}),C&&I.jsxs(I.Fragment,{children:[I.jsx("path",{d:C.upperPath??void 0,fill:"none",stroke:"silver",strokeDasharray:"2,2",strokeWidth:1.5}),I.jsx("path",{d:C.lowerPath??void 0,fill:"none",stroke:"silver",strokeDasharray:"2,2",strokeWidth:1.5})]}),O==null?void 0:O.map(ae=>ae?I.jsx("g",{children:I.jsx("path",{d:ae.path,fill:"none",stroke:"silver",strokeWidth:1,strokeDasharray:"2,2"})},ae.name):null),k&&I.jsx(I.Fragment,{children:k.map(ae=>ae.path?I.jsx("path",{d:ae.path,fill:"none",stroke:"lightgray",strokeWidth:1,opacity:.6},`bg_${ae.name}`):null)}),st.map((ae,ye)=>I.jsx("foreignObject",{x:h+Hn.left-3,y:ae.y-7,width:Hn.right+120,height:20,children:I.jsx(tt,{px:2,size:10,color:ae.color??"silver",children:ae.label})},`label_${ae.label}_${ye}`))]})}const GWe=Object.freeze(Object.defineProperty({__proto__:null,LineChart:uk,default:uk},Symbol.toStringTag,{value:"Module"}));var YWe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},KWe=Object.defineProperty,QWe=Object.defineProperties,XWe=Object.getOwnPropertyDescriptors,ax=Object.getOwnPropertySymbols,Rse=Object.prototype.hasOwnProperty,Nse=Object.prototype.propertyIsEnumerable,$z=(e,t,n)=>t in e?KWe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lz=(e,t)=>{for(var n in t||(t={}))Rse.call(t,n)&&$z(e,n,t[n]);if(ax)for(var n of ax(t))Nse.call(t,n)&&$z(e,n,t[n]);return e},JWe=(e,t)=>QWe(e,XWe(t)),ZWe=(e,t)=>{var n={};for(var r in e)Rse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ax)for(var r of ax(e))t.indexOf(r)<0&&Nse.call(e,r)&&(n[r]=e[r]);return n},_c=(e,t,n)=>{const r=w.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:u=24,stroke:l=2,children:c}=o,f=ZWe(o,["color","size","stroke","children"]);return w.createElement("svg",Lz(JWe(Lz({ref:s},YWe),{width:u,height:u,stroke:a,strokeWidth:l,className:`tabler-icon tabler-icon-${e}`}),f),[...n.map(([d,h])=>w.createElement(d,h)),...c||[]])});return r.propTypes={color:wt.string,size:wt.oneOfType([wt.string,wt.number]),stroke:wt.oneOfType([wt.string,wt.number])},r.displayName=`${t}`,r},eqe=_c("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),tqe=_c("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),nqe=_c("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),rqe=_c("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),iqe=_c("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),sqe=_c("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),Mz=_c("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),kse=_c("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]),oqe=_c("x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);const lp={top:0,left:0,right:0,bottom:0},Fz=20,QO=60;function lk({parameters:e,data:t,dataname:n,items:r,selection:i,setSelection:s,trackSelection:o,range:a,guardrail:u}){const[l,c]=w.useState(""),f=w.useMemo(()=>{if(!l){const g=r.filter(_=>i==null?void 0:i.includes(_.name)),v=r.filter(_=>!(i!=null&&i.includes(_.name)));return[...g,...v]}const y=l.toLowerCase();return r.filter(g=>g.name.toLowerCase().includes(y)||g.longName&&g.longName.toLowerCase().includes(y))},[l,r,i]),d=w.useMemo(()=>a?$v([lp.left,QO+lp.left]).domain(a):$v([lp.left,QO+lp.left]).domain([new Date(e.start_date),new Date(e.end_date)]),[e,a]),h=w.useMemo(()=>{const y=t.filter(_=>r==null?void 0:r.map(S=>S.name).includes(_[e.cat_var])).map(_=>+_[e.y_var]).filter(_=>_!==null),[g,v]=vh(y);return _h([Fz+lp.top,lp.top]).domain([g,v]).nice()},[e,t,r]),p=w.useMemo(()=>{const y=Array.from(new Set(t.map(g=>g[e.cat_var])));return B6(k6).domain(y)},[e,t]),m=w.useMemo(()=>{if(u!=="juxt_data")return null;const y=Uw();y.x(_=>d(ms("%Y-%m-%d")(_[e.x_var]))),y.y0(()=>h(0)),y.y1(_=>h(_[e.y_var])),y.curve(Ji);const g=yo();return g.x(_=>d(ms("%Y-%m-%d")(_[e.x_var]))),g.y(_=>h(_[e.y_var])),g.curve(Ji),r==null?void 0:r.map(_=>({country:_.name,path:g(t.filter(S=>S[e.cat_var]===_.name)),area:y(t.filter(S=>S[e.cat_var]===_.name))}))},[e,u,t,r,d,h]);return w.useMemo(()=>e.allow_selection===!1?"none":"block",[e]),I.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[I.jsx(zm,{style:{width:"300px",marginBottom:"10px"},placeholder:"Search",value:l,onChange:y=>c(y.currentTarget.value),rightSection:l&&I.jsx(oqe,{size:14,style:{cursor:"pointer"},onClick:()=>c("")})}),!l&&I.jsx(_s,{variant:"filled",style:{marginBottom:"10px",alignSelf:"flex-start"},onClick:()=>{s([]),o([])},children:"Clear Selection"}),I.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",padding:"8px"},children:I.jsx(Bm.Group,{value:i,orientation:"vertical",onChange:y=>{s(y),o(y)},spacing:0,offset:"sm",styles:e.allow_selection===!1?{root:{pointerEvents:"none"}}:{root:{pointerEvents:"auto"}},children:f==null?void 0:f.map(y=>{var g,v;return I.jsxs(I.Fragment,{children:[y.name==="Eldoril North"?I.jsx(_f,{size:"xs",label:"Policy A",labelPosition:"left",color:"black"}):null,y.name==="Eldoril West"?I.jsx(_f,{size:"xs",label:"Policy B",labelPosition:"left",color:"black"}):null,y.name==="Silvoria North"?I.jsx(_f,{size:"xs",label:"Policy C",labelPosition:"left",color:"black"}):null,I.jsxs(Ll,{grow:!0,gutter:8,columns:2,children:[I.jsx(Ll.Col,{span:1,children:I.jsx(Bm,{value:y.name,label:n==="sp500_stocks"?`${y.longName} (${y.name}, ${y.sector})`:`${y.name} ${y.subregion?`(${y.subregion})`:""}`,color:e.allow_selection?"blue":"gray",styles:{root:{display:"flex",alignItems:"flex-end",padding:"2px 0"},inner:{display:"block"}}},`${y.name}_checkbox`)},`${y.name}_grid1`),I.jsx(Ll.Col,{span:u==="juxt_data"?"auto":3,children:I.jsxs("svg",{style:{width:`${QO}`,height:`${Fz}`},children:[I.jsx("path",{id:`${y.name}_sparkarea`,fill:i!=null&&i.includes(y.name)?p(y.name):"gray",stroke:"none",opacity:.25,d:(g=m==null?void 0:m.filter(_=>_.country===y.name)[0])==null?void 0:g.area},`${y.name}_sparkarea`),I.jsx("path",{id:`${y.name}_spark`,fill:"none",stroke:i!=null&&i.includes(y.name)?p(y.name):"gray",strokeWidth:.75,d:(v=m==null?void 0:m.filter(_=>_.country===y.name)[0])==null?void 0:v.path},`${y.name}_spark`)]},`${y.name}_sparksvg`)},`${y.name}_grid2`)]},`${y.name}_grid`)]})})},`${n}_checkboxgroup`)})]})}const aqe=Object.freeze(Object.defineProperty({__proto__:null,Sidebar:lk,default:lk},Symbol.toStringTag,{value:"Module"}));function ck({parameters:e,setRange:t,trackRange:n,range:r}){function i(o){return $v([0,100]).domain([new Date(r[0]),new Date(r[1])]).invert(o)}function s(o){const a=i(o);return q6("%b %e, %Y")(a)}return I.jsx(Ate,{defaultValue:[0,100],label:o=>s(o),labelAlwaysOn:!0,disabled:!e.allow_time_slider,onChange:([o,a])=>{t([i(o),i(a)]),n([i(o),i(a)])}})}const uqe=Object.freeze(Object.defineProperty({__proto__:null,RangeSelector:ck,default:ck},Symbol.toStringTag,{value:"Module"}));function fk({guardrail:e,setGuardrail:t,dataname:n,setDataname:r,setSelection:i,setMetadataFiltered:s,numRandomSamples:o,setNumRandomSamples:a}){return I.jsxs(I.Fragment,{children:[I.jsx(tt,{children:"Data:"}),I.jsx(gte,{value:n,onChange:u=>{r(u),i([])},data:[{value:"clean_data",label:"Viral"},{value:"sp500_stocks",label:"Stock"}]}),I.jsx(tt,{style:{marginTop:"10px"},children:"Guardrail:"}),I.jsx(a3,{value:e,onChange:u=>u&&t(u),data:[{value:"none",label:"None"},{value:"super_data",label:"Random"},{value:"super_summ",label:"Average of All lines"},{value:"median",label:"Median of All Lines At Each Timestamp"},{value:"medianClosest",label:"Actual Stock Closest to Median"},{value:"medianIQR",label:"Median of All Lines +-1.5IQR At Each Timestamp"},{value:"medianIQRClosest",label:"Actual Median +-1.5IQR Closest"},{value:"percentiles",label:"Percentiles of All Lines At Each Timestamp"},{value:"percentileClosest",label:"Actual Percentiles Closest"},{value:"cluster",label:"Cluster Rep"},{value:"all",label:"All"}]}),I.jsx(c3,{label:n==="clean_data"?"Filter by UN Region (metadata)":"Filter by Sector (metadata)",onChange:u=>s(u.currentTarget.checked),style:{marginTop:"10px"}}),e==="super_data"&&I.jsxs("div",{style:{marginTop:"10px"},children:[I.jsx(o3,{label:"Number of Random samples",value:o,onChange:u=>typeof u=="number"&&a(u),min:1,max:5,step:1,style:{marginTop:"10px",width:"200px"}}),I.jsx(tt,{size:"xs",color:"dimmed",mt:4,style:{marginLeft:"2px"},children:"Maximum of 5"})]})]})}const lqe=Object.freeze(Object.defineProperty({__proto__:null,Selector:fk,default:fk},Symbol.toStringTag,{value:"Module"})),Tn=Array.isArray;function ao(e){return e!=null?Tn(e)?e:[e]:[]}function cqe(e=0,t=1/0){return`${jz(e)} < row_number() && row_number() <= ${jz(t)}`}function jz(e){return e<0?`count() + ${e}`:e}class Dse{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(cqe(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,ao(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function Yt(e){throw Error(e)}function Ts(e){return typeof e=="number"}function ar(e){return typeof e=="function"}function BC(e,t){const n=Array(e);if(ar(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let fqe=class extends Dse{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){Yt("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){Yt("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){Yt("Not implemented")}getter(t){Yt("Not implemented")}objects(t){Yt("Not implemented")}object(t){Yt("Not implemented")}[Symbol.iterator](){Yt("Not implemented")}print(t={}){Ts(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,u=this._data;r.sort((l,c)=>a(l,c,u))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=BC(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let u=0,l;u<a;++u)l=s[u],i[n[l]].push(l);else if(o)for(let u=o.next(0);u>=0;u=o.next(u+1))i[n[u]].push(u);else for(let u=0;u<a;++u)i[n[u]].push(u);if(t&&!s&&this.isOrdered()){const u=this._order,l=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>u(f,d,l))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let u=i||0;if(u>o)return;const l=Math.min(o,u+r),c=()=>u=this._total;if(n&&this.isOrdered()||s&&this._index){const f=this.indices(),d=this._data;for(;u<l;++u)t(f[u],d,c)}else if(s){let f=l-u+1;for(u=s.nth(u);--f&&u>-1;u=s.next(u+1))t(u,a,c)}else for(;u<l;++u)t(u,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},dqe=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},hqe=function(e){return e&&ar(e.get)?e:new dqe(e)};function nc(e){return e instanceof Date}function ls(e){return e===Object(e)}function ux(e){return e instanceof RegExp}function zi(e){return typeof e=="string"}function pqe(e,t){const n=r=>Yt(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?Bz(e.entries(),t):nc(e)?n("Date"):ux(e)?n("RegExp"):zi(e)?n():Tn(e)?mqe(e,t):ar(e[Symbol.iterator])?gqe(e,t):ls(e)?Bz(Object.entries(e),t):n()}function Bz(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function mqe(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const u=e[a];for(let l=0;l<o;++l)s[l][a]=u[t[l]]}}else t&&t.forEach(i);return r}function gqe(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:yqe}=Object.prototype;function Za(e,t){return yqe.call(e,t)}function Uo(e){return e?new Uz({...e.data()},e.columnNames()):new Uz}class Uz{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return Za(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const bn=void 0,vqe=Object.getPrototypeOf(Int8Array);function s1(e){return e instanceof vqe}function Bd(e){return Tn(e)||s1(e)}function Va(e){return e!=null&&e===e}const L0=e=>Bd(e)||zi(e),_qe={compact:e=>Bd(e)?e.filter(t=>Va(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>L0(e)?e.includes(t,n):!1,indexof:(e,t)=>L0(e)?e.indexOf(t):-1,join:(e,t)=>Bd(e)?e.join(t):bn,lastindexof:(e,t)=>L0(e)?e.lastIndexOf(t):-1,length:e=>L0(e)?e.length:0,pluck:(e,t)=>Bd(e)?e.map(n=>Va(n)?n[t]:bn):bn,reverse:e=>Bd(e)?e.slice().reverse():zi(e)?e.split("").reverse().join(""):bn,slice:(e,t,n)=>L0(e)?e.slice(t,n):bn};function bqe(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function Hw(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const cu=e=>(e<10?"0":"")+e,wqe=e=>e<0?"-"+Hw(-e,6):e>9999?"+"+Hw(e,6):Hw(e,4);function $se(e,t,n,r,i,s,o,a,u){const l=a?"Z":"";return wqe(e)+"-"+cu(t+1)+"-"+cu(n)+(!u||o?"T"+cu(r)+":"+cu(i)+":"+cu(s)+"."+Hw(o,3)+l:s?"T"+cu(r)+":"+cu(i)+":"+cu(s)+l:i||r||!a?"T"+cu(r)+":"+cu(i)+l:"")}function Lse(e,t){return isNaN(e)?"Invalid Date":$se(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function UC(e,t){return isNaN(e)?"Invalid Date":$se(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const Eqe=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function Sqe(e){return e.match(Eqe)&&!isNaN(Date.parse(e))}function Tqe(e,t=Date.parse){return Sqe(e)?t(e):e}const Mse=6e4,Fse=864e5,jse=6048e5,Cr=new Date,Ar=new Date,$r=e=>(Cr.setTime(typeof e=="string"?Tqe(e):e),Cr);function xqe(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function Iqe(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function Cqe(e){Ar.setTime(+e),Ar.setHours(0,0,0,0),Cr.setTime(+Ar),Cr.setMonth(0),Cr.setDate(1);const t=(Ar.getTimezoneOffset()-Cr.getTimezoneOffset())*Mse;return Math.floor(1+(Ar-Cr-t)/Fse)}function Pqe(e){Ar.setTime(+e),Ar.setUTCHours(0,0,0,0);const t=Date.UTC(Ar.getUTCFullYear(),0,1);return Math.floor(1+(Ar-t)/Fse)}function Aqe(e,t){const n=t||0;Ar.setTime(+e),Ar.setDate(Ar.getDate()-(Ar.getDay()+7-n)%7),Ar.setHours(0,0,0,0),Cr.setTime(+e),Cr.setMonth(0),Cr.setDate(1),Cr.setDate(1-(Cr.getDay()+7-n)%7),Cr.setHours(0,0,0,0);const r=(Ar.getTimezoneOffset()-Cr.getTimezoneOffset())*Mse;return Math.floor((1+(Ar-Cr)-r)/jse)}function Oqe(e,t){const n=t||0;return Ar.setTime(+e),Ar.setUTCDate(Ar.getUTCDate()-(Ar.getUTCDay()+7-n)%7),Ar.setUTCHours(0,0,0,0),Cr.setTime(+e),Cr.setUTCMonth(0),Cr.setUTCDate(1),Cr.setUTCDate(1-(Cr.getUTCDay()+7-n)%7),Cr.setUTCHours(0,0,0,0),Math.floor((1+(Ar-Cr))/jse)}const Rqe={format_date:(e,t)=>Lse($r(e),!t),format_utcdate:(e,t)=>UC($r(e),!t),timestamp:e=>+$r(e),year:e=>$r(e).getFullYear(),quarter:e=>Math.floor($r(e).getMonth()/3),month:e=>$r(e).getMonth(),date:e=>$r(e).getDate(),dayofweek:e=>$r(e).getDay(),hours:e=>$r(e).getHours(),minutes:e=>$r(e).getMinutes(),seconds:e=>$r(e).getSeconds(),milliseconds:e=>$r(e).getMilliseconds(),utcyear:e=>$r(e).getUTCFullYear(),utcquarter:e=>Math.floor($r(e).getUTCMonth()/3),utcmonth:e=>$r(e).getUTCMonth(),utcdate:e=>$r(e).getUTCDate(),utcdayofweek:e=>$r(e).getUTCDay(),utchours:e=>$r(e).getUTCHours(),utcminutes:e=>$r(e).getUTCMinutes(),utcseconds:e=>$r(e).getUTCSeconds(),utcmilliseconds:e=>$r(e).getUTCMilliseconds(),datetime:xqe,dayofyear:Cqe,week:Aqe,utcdatetime:Iqe,utcdayofyear:Pqe,utcweek:Oqe,now:Date.now};function tL(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:nc(e)||nc(t)?+e==+t:ux(e)&&ux(t)?e+""==t+"":ls(e)&&ls(t)?Nqe(e,t):!1}function Nqe(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return Vz(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!Vz(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!tL(e[o],t[o]))return!1}return!0}function Vz(e,t,n=tL){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const kqe={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let Dqe=Math.random;function Lg(){return Dqe()}const $qe={random:Lg,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function nL(e){return e instanceof Map}function Lqe(e){return e instanceof Set}function Ww(e){return nL(e)||Lqe(e)}function XO(e){return Array.from(e)}const Mqe={has:(e,t)=>Ww(e)?e.has(t):e!=null?Za(e,t):!1,keys:e=>nL(e)?XO(e.keys()):e!=null?Object.keys(e):[],values:e=>Ww(e)?XO(e.values()):e!=null?Object.values(e):[],entries:e=>Ww(e)?XO(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):bn};function Fqe(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(Za(t,e))return t[e];return n!==void 0?n:e}function jqe(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const Bqe={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},Vp={bin:bqe,equal:tL,recode:Fqe,sequence:jqe,..._qe,...Rqe,...kqe,...$qe,...Mqe,...Bqe};function Fv(e){return typeof e=="bigint"}function sl(e){return e===void 0?e+"":Fv(e)?e+"n":JSON.stringify(e)}function Wt(e,t=[],n=[]){return new Uqe(e,ao(t),ao(n))}let Uqe=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${sl(n)}]`),...this.params.map(sl)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const Bse=e=>Wt("any",e),Use=()=>Wt("count"),Vse=e=>Wt("array_agg",e),zse=e=>Wt("array_agg_distinct",e),Hse=(e,t)=>Wt("map_agg",[e,t]),Wse=(e,t)=>Wt("object_agg",[e,t]),qse=(e,t)=>Wt("entries_agg",[e,t]);({...Vp});function Vqe(e,t){e=Ww(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function zqe(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,f)=>c+f,0);if(o===i)return e;const a=Array(o);let u=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=u++]=r[c]);const l=new Uint32Array(n.length);return t.scan(c=>l[c]=s[n[c]]),{...e,keys:l,rows:a,size:u}}function Hqe(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,u=o,l=null;if(n){l=new Int32Array(o),t(p=>l[i[p]]=1);const h=l.reduce((p,m)=>p+m,0);if(h!==o){a=Array(h),u=0;for(let p=0;p<o;++p)l[p]&&(a[l[p]=u++]=s[p])}}let c=-1;const f=new Uint32Array(r);return t(u!==o?h=>f[++c]=l[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:u}}function Wqe(e,t,n,r){const i=r==="map"||r===!0?Hse:r==="entries"?qse:r==="object"?Wse:Yt('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=Vqe(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:Vse(o)});for(let u=s.length;--u>=0;)a=a.groupby(s.slice(0,u)).rollup({[o]:i(s[u],o)});return a.get(o)}const qqe="ArrayPattern",Gqe="ArrowFunctionExpression",Yqe="FunctionExpression",xf="Identifier",Mg="Literal",Gse="MemberExpression",Kqe="ObjectExpression",Yse="ObjectPattern",Kse="Property",o1="Column",Qqe="Constant",Xqe="Dictionary",Jqe="Function",Zqe="Parameter",Qse="Op",Xn=(e,t)=>{const n=eGe[e.type];return n?n(e,t):Yt(`Unsupported expression construct: ${e.type}`)},JO=(e,t)=>"("+Xn(e.left,t)+" "+e.operator+" "+Xn(e.right,t)+")",ZO=(e,t)=>"("+gu(e.params,t)+")=>"+Xn(e.body,t),zz=(e,t)=>Xn(e.callee,t)+"("+gu(e.arguments,t)+")",gu=(e,t,n=",")=>e.map(r=>Xn(r,t)).join(n),Xse=e=>e.computed?`[${sl(e.name)}]`:`.${e.name}`,Hz=(e,t,n)=>{const r=e.table||"";return`data${r}${Xse(e)}.${n}(${t.index}${r})`},eGe={Constant:e=>e.raw,Column:(e,t)=>Hz(e,t,"get"),Dictionary:(e,t)=>Hz(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${Xse(e)}`,Op:(e,t)=>`op(${sl(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+Xn(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=Xn(e.object,t),i=Xn(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:zz,NewExpression:(e,t)=>"new "+zz(e,t),ArrayExpression:(e,t)=>"["+gu(e.elements,t)+"]",AssignmentExpression:JO,BinaryExpression:JO,LogicalExpression:JO,UnaryExpression:(e,t)=>"("+e.operator+Xn(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+Xn(e.test,t)+"?"+Xn(e.consequent,t)+":"+Xn(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+gu(e.properties,t)+"})",Property:(e,t)=>{const n=Xn(e.key,t);return(e.computed?`[${n}]`:n)+":"+Xn(e.value,t)},ArrowFunctionExpression:ZO,FunctionExpression:ZO,FunctionDeclaration:ZO,ArrayPattern:(e,t)=>"["+gu(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+gu(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+gu(e.declarations,t,","),VariableDeclarator:(e,t)=>Xn(e.id,t)+"="+Xn(e.init,t),SpreadElement:(e,t)=>"..."+Xn(e.argument,t),BlockStatement:(e,t)=>"{"+gu(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>Xn(e.expression,t),IfStatement:(e,t)=>"if ("+Xn(e.test,t)+")"+Xn(e.consequent,t)+(e.alternate?" else "+Xn(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+Xn(e.discriminant,t)+") {"+gu(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+Xn(e.test,t):"default")+": "+gu(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+Xn(e.argument,t),Program:(e,t)=>Xn(e.body[0],t)};function lx(e,t={index:"row"}){return Xn(e,t)}function tGe(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const u=Math.ceil(Math.log(n)/a),l=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(l)/a)-u));Math.ceil(l/s)>n;)s*=10;const f=c.length;for(let d=0;d<f;++d){const h=s/c[d];h>=i&&l/h<=n&&(s=h)}}if(r){let u=Math.log(s);const l=u>=0?0:~~(-u/a)+1,c=Math.pow(10,-l-1);u=Math.floor(e/s+c)*s,e=e<u?u-s:u,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function Zm(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:nc(e)?+e:Tn(e)||s1(e)?`[${e.map(Zm)}]`:ux(e)?e+"":nGe(e)}function nGe(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${Zm(e[r])}`;return t+="}",t}function cx(e,t){const n=e.length;return n===1?(r,i)=>Zm(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=Zm(a)}return s}}function rGe(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=Zm(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=Zm(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function Pl(){}function iGe(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function Jr(e){return e.init=e.init||Pl,e.add=e.add||Pl,e.rem=e.rem||Pl,e}function Wz(e,t){return e.product_v=!1,e.product=t}const Jse={count:{create:()=>Jr({value:e=>e.count}),param:[]},array_agg:{create:()=>Jr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>Jr({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>Jr({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>Jr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>Jr({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:bn}),param:[1]},valid:{create:()=>Jr({value:e=>e.valid}),param:[1]},invalid:{create:()=>Jr({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=rGe(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>Jr({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>Jr({value:e=>{let t=bn,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:bn,add:(e,t)=>Fv(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>Wz(e,1),value:e=>e.valid?e.product_v?Wz(e,iGe(e.list.values())):e.product:void 0,add:(e,t)=>Fv(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:bn,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>Jr({value:e=>e.valid?e.mean:bn}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):bn,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>Jr({value:e=>e.valid>1?e.dev/e.valid:bn}),param:[1],req:["variance"]},stdev:{create:()=>Jr({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):bn}),param:[1],req:["variance"]},stdevp:{create:()=>Jr({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):bn}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=bn,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===bn)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=bn,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===bn)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>Jr({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>Jr({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):bn,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>Jr({value:e=>e.valid>1?e.cov/e.valid:bn}),param:[2],req:["covariance"]},corr:{create:()=>Jr({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):bn}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>Jr({value:i=>tGe(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},qz={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},Gz={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},Zse={row_number:{create(){return{init:Pl,value:e=>e.index+1}},param:[]},rank:qz,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=qz.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:Gz,ntile:{create(e){e=+e,e>0||Yt("ntile num must be greater than zero.");const{init:t,value:n}=Gz.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=bn){return e=+e||1,{init:Pl,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=bn){return e=+e||1,{init:Pl,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:Pl,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:Pl,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||Yt("nth_value nth must be greater than zero."),{init:Pl,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):bn}}},param:[1,1]},fill_down:{create(e=bn){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return Va(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=bn){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=sGe(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function sGe(e,t,n){for(const r=e.size;n<r;++n)if(Va(e.value(n,t)))return n;return-1}function rL(e){return Za(Jse,e)}function iL(e){return Za(Zse,e)}function eoe(e){return Za(Vp,e)||e==="row_object"}function toe(e){return rL(e)&&Jse[e]}function noe(e){return iL(e)&&Zse[e]}function M0(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const sL={escape:(e,t,n)=>M0(e,t,n),expr:(e,t)=>M0(`(row,data,op)=>${e}`,Vp,t),expr2:(e,t)=>M0(`(row0,data0,row,data)=>${e}`,Vp,t),join:(e,t)=>M0(`(row1,data1,row2,data2)=>${e}`,Vp,t),param:(e,t)=>M0(e,Vp,t)},oGe={"==":1,"!=":1,"===":1,"!==":1};function roe(e,t,n=0,r,i){if(e.type=o1,e.name=t,e.table=n,i&&r&&ar(r.keyFor)){const s=oGe[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===Mg&&aGe(i,e,s,r.keyFor(s.value))}return e}function aGe(e,t,n,r){return r<0?(e.type=Mg,e.value=!1,e.raw="false"):(t.type=Xqe,n.value=r,n.raw=r+""),!0}function VC(e){return Tn(e)?e:nL(e)?e.entries():e?Object.entries(e):[]}const ioe="row_object";function soe(e,t){e.type=Kqe;const n=e.properties=[];for(const r of VC(t)){const[i,s]=Tn(r)?r:[r,r];n.push({type:Kse,key:{type:Mg,raw:sl(s)},value:roe({computed:!0},i)})}return e}function ooe(e){return lx(soe({},e))}function aoe(e){return sL.expr(ooe(e))}function oL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Ol(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function Yz(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fn(e){return this instanceof fn?(this.v=e,this):new fn(e)}function Ud(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,m){s.push([d,h,p,m])>1||a(d,h)})})}function a(d,h){try{u(r[d](h))}catch(p){f(s[0][3],p)}}function u(d){d.value instanceof fn?Promise.resolve(d.value.v).then(l,c):f(s[0][2],d)}function l(d){a("next",d)}function c(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function e2(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:fn(e[i](o)),done:!1}:s?s(o):o}:s}}function Uy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Yz=="function"?Yz(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}const uGe=new TextDecoder("utf-8"),dk=e=>uGe.decode(e),lGe=new TextEncoder,aL=e=>lGe.encode(e),cGe=e=>typeof e=="boolean",Bs=e=>typeof e=="function",id=e=>e!=null&&Object(e)===e,zC=e=>id(e)&&Bs(e.then),uL=e=>id(e)&&Bs(e[Symbol.iterator]),HC=e=>id(e)&&Bs(e[Symbol.asyncIterator]),fGe=e=>id(e)&&"done"in e&&"value"in e,uoe=e=>"_getDOMStream"in e&&"_getNodeStream"in e,dGe=e=>id(e)&&Bs(e.abort)&&Bs(e.getWriter)&&!uoe(e),hGe=e=>id(e)&&Bs(e.end)&&Bs(e.write)&&cGe(e.writable)&&!uoe(e),pGe=e=>id(e)&&Bs(e.clear)&&Bs(e.bytes)&&Bs(e.position)&&Bs(e.setPosition)&&Bs(e.capacity)&&Bs(e.getBufferIdentifier)&&Bs(e.createLong),lL=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function mGe(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,u=0,l=0,c=e.length;++u<c;){if(o=t[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,n,r-n+s)}return t}function fx(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function ol(e,t){const n=mGe(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,u=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++u<c;){if(i=n[u],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?n[u]=i.subarray(s.length):s.length===i.length&&u++,o?fx(o,s,a):o=s;break}fx(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(u),r-(o?o.byteLength:0)]}function hi(e,t){let n=fGe(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=aL(n)),n instanceof ArrayBuffer?new e(n):n instanceof lL?new e(n):pGe(n)?hi(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const F0=e=>hi(Int32Array,e),Fn=e=>hi(Uint8Array,e),hk=e=>(e.next(),e);function*gGe(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof lL?n(t):uL(t)?t:n(t);return yield*hk(function*(i){let s=null;do s=i.next(yield hi(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const yGe=e=>gGe(Uint8Array,e);function loe(e,t){return Ud(this,arguments,function*(){if(zC(t))return yield fn(yield fn(yield*e2(Uy(loe(e,yield fn(t))))));const r=function(o){return Ud(this,arguments,function*(){yield yield fn(yield fn(o))})},i=function(o){return Ud(this,arguments,function*(){yield fn(yield*e2(Uy(hk(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof lL?r(t):uL(t)?i(t):HC(t)?t:r(t);return yield fn(yield*e2(Uy(hk(function(o){return Ud(this,arguments,function*(){let a=null;do a=yield fn(o.next(yield yield fn(hi(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield fn(new e)})}const vGe=e=>loe(Uint8Array,e);function coe(e,t,n){if(e!==0){n=n.slice(0,t);for(let r=-1,i=n.length;++r<i;)n[r]+=e}return n.subarray(0,t)}function _Ge(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const Kz={fromIterable(e){return Bb(bGe(e))},fromAsyncIterable(e){return Bb(wGe(e))},fromDOMStream(e){return Bb(EGe(e))},fromNodeStream(e){return Bb(TGe(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},Bb=e=>(e.next(),e);function*bGe(e){let t,n=!1,r=[],i,s,o,a=0;function u(){return s==="peek"?ol(r,o)[0]:([i,r,a]=ol(r,o),i)}({cmd:s,size:o}=yield null);const l=yGe(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!t)}catch(c){(n=!0)&&typeof l.throw=="function"&&l.throw(c)}finally{n===!1&&typeof l.return=="function"&&l.return(null)}return null}function wGe(e){return Ud(this,arguments,function*(){let n,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?ol(i,a)[0]:([s,i,u]=ol(i,a),s)}({cmd:o,size:a}=yield yield fn(null));const c=vGe(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-u)?yield fn(c.next()):yield fn(c.next(a-u)),!n&&s.byteLength>0&&(i.push(s),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield fn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield fn(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield fn(c.return(new Uint8Array(0))))}return yield fn(null)})}function EGe(e){return Ud(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?ol(i,a)[0]:([s,i,u]=ol(i,a),s)}({cmd:o,size:a}=yield yield fn(null));const c=new SGe(e);try{do if({done:n,value:s}=Number.isNaN(a-u)?yield fn(c.read()):yield fn(c.read(a-u)),!n&&s.byteLength>0&&(i.push(Fn(s)),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield fn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&(yield fn(c.cancel(f)))}finally{r===!1?yield fn(c.cancel()):e.locked&&c.releaseLock()}return yield fn(null)})}class SGe{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return Ol(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return Ol(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Fn(n)),n})}}const t2=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function TGe(e){return Ud(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,u=0,l=[],c;function f(){return o==="peek"?ol(l,a)[0]:([c,l,u]=ol(l,a),c)}if({cmd:o,size:a}=yield yield fn(null),e.isTTY)return yield yield fn(new Uint8Array(0)),yield fn(null);try{n[0]=t2(e,"end"),n[1]=t2(e,"error");do{if(n[2]=t2(e,"readable"),[r,s]=yield fn(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-u)?(c=Fn(e.read(a-u)),c.byteLength<a-u&&(c=Fn(e.read()))):c=Fn(e.read()),c.byteLength>0&&(l.push(c),u+=c.byteLength)),i||a<=u)do({cmd:o,size:a}=yield yield fn(f()));while(a<u)}while(!i)}finally{yield fn(d(n,r==="error"?s:null))}return yield fn(null);function d(h,p){return c=l=null,new Promise((m,y)=>{for(const[g,v]of h)e.off(g,v);try{const g=e.destroy;g&&g.call(e,p),p=void 0}catch(g){p=g||p}finally{p!=null?y(p):m()}})}})}var vs;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(vs||(vs={}));var uo;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(uo||(uo={}));var Mi;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Mi||(Mi={}));var al;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(al||(al={}));var Et;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Et||(Et={}));var ul;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(ul||(ul={}));var gi;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(gi||(gi={}));var K;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth",e[e.DurationSecond=-27]="DurationSecond",e[e.DurationMillisecond=-28]="DurationMillisecond",e[e.DurationMicrosecond=-29]="DurationMicrosecond",e[e.DurationNanosecond=-30]="DurationNanosecond"})(K||(K={}));var Tl;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(Tl||(Tl={}));const xGe=void 0;function Eh(e){if(e===null)return"null";if(e===xGe)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?`[${[...e].map(t=>Eh(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const IGe=Symbol.for("isArrowBigNum");function au(e,...t){return t.length===0?Object.setPrototypeOf(hi(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}au.prototype[IGe]=!0;au.prototype.toJSON=function(){return`"${Bv(this)}"`};au.prototype.valueOf=function(){return foe(this)};au.prototype.toString=function(){return Bv(this)};au.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return foe(this);case"string":return Bv(this);case"default":return CGe(this)}return Bv(this)};function mm(...e){return au.apply(this,e)}function gm(...e){return au.apply(this,e)}function jv(...e){return au.apply(this,e)}Object.setPrototypeOf(mm.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(gm.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(jv.prototype,Object.create(Uint32Array.prototype));Object.assign(mm.prototype,au.prototype,{constructor:mm,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(gm.prototype,au.prototype,{constructor:gm,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(jv.prototype,au.prototype,{constructor:jv,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});function foe(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new BigUint64Array(t,n,r),o=i&&s.at(-1)&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),u=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*u++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*u++);return a}const Bv=e=>{if(e.byteLength===8)return`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`;if(!e.signed)return n2(e);let t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);if(new Int16Array([t.at(-1)])[0]>=0)return n2(e);t=t.slice();let r=1;for(let s=0;s<t.length;s++){const o=t[s],a=~o+r;t[s]=a,r&=o===0?1:0}return`-${n2(t)}`},CGe=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:Bv(e);function n2(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class cL{static new(t,n){switch(n){case!0:return new mm(t);case!1:return new gm(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new mm(t)}return t.byteLength===16?new jv(t):new gm(t)}static signed(t){return new mm(t)}static unsigned(t){return new gm(t)}static decimal(t){return new jv(t)}constructor(t,n){return cL.new(t,n)}}function eu(e){if(typeof e=="bigint"&&(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER))throw new TypeError(`${e} is not safe to convert to a number.`);return Number(e)}var doe,hoe,poe,moe,goe,yoe,voe,_oe,boe,woe,Eoe,Soe,Toe,xoe,Ioe,Coe,Poe,Aoe,Ooe,Roe;class Vt{static isNull(t){return(t==null?void 0:t.typeId)===K.Null}static isInt(t){return(t==null?void 0:t.typeId)===K.Int}static isFloat(t){return(t==null?void 0:t.typeId)===K.Float}static isBinary(t){return(t==null?void 0:t.typeId)===K.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===K.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===K.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===K.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===K.Date}static isTime(t){return(t==null?void 0:t.typeId)===K.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===K.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===K.Interval}static isDuration(t){return(t==null?void 0:t.typeId)===K.Duration}static isList(t){return(t==null?void 0:t.typeId)===K.List}static isStruct(t){return(t==null?void 0:t.typeId)===K.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===K.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===K.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===K.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===K.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===K.Dictionary}static isDenseUnion(t){return Vt.isUnion(t)&&t.mode===uo.Dense}static isSparseUnion(t){return Vt.isUnion(t)&&t.mode===uo.Sparse}get typeId(){return K.NONE}}doe=Symbol.toStringTag;Vt[doe]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(Vt.prototype);let rc=class extends Vt{toString(){return"Null"}get typeId(){return K.Null}};hoe=Symbol.toStringTag;rc[hoe]=(e=>e[Symbol.toStringTag]="Null")(rc.prototype);class xs extends Vt{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return K.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}poe=Symbol.toStringTag;xs[poe]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(xs.prototype);class fL extends xs{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class dL extends xs{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class Ff extends xs{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class hL extends xs{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class pL extends xs{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class mL extends xs{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class gL extends xs{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class yL extends xs{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(fL.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(dL.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Ff.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(hL.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(pL.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(mL.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(gL.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(yL.prototype,"ArrayType",{value:BigUint64Array});class jf extends Vt{constructor(t){super(),this.precision=t}get typeId(){return K.Float}get ArrayType(){switch(this.precision){case Mi.HALF:return Uint16Array;case Mi.SINGLE:return Float32Array;case Mi.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}moe=Symbol.toStringTag;jf[moe]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(jf.prototype);class Noe extends jf{constructor(){super(Mi.HALF)}}class vL extends jf{constructor(){super(Mi.SINGLE)}}class _L extends jf{constructor(){super(Mi.DOUBLE)}}Object.defineProperty(Noe.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(vL.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(_L.prototype,"ArrayType",{value:Float64Array});let Uv=class extends Vt{constructor(){super()}get typeId(){return K.Binary}toString(){return"Binary"}};goe=Symbol.toStringTag;Uv[goe]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(Uv.prototype);let eg=class extends Vt{constructor(){super()}get typeId(){return K.Utf8}toString(){return"Utf8"}};yoe=Symbol.toStringTag;eg[yoe]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(eg.prototype);let Vv=class extends Vt{constructor(){super()}get typeId(){return K.Bool}toString(){return"Bool"}};voe=Symbol.toStringTag;Vv[voe]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(Vv.prototype);let dx=class extends Vt{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return K.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};_oe=Symbol.toStringTag;dx[_oe]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(dx.prototype);class tg extends Vt{constructor(t){super(),this.unit=t}get typeId(){return K.Date}toString(){return`Date${(this.unit+1)*32}<${al[this.unit]}>`}}boe=Symbol.toStringTag;tg[boe]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(tg.prototype);class PGe extends tg{constructor(){super(al.DAY)}}class AGe extends tg{constructor(){super(al.MILLISECOND)}}class ic extends Vt{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return K.Time}toString(){return`Time${this.bitWidth}<${Et[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}woe=Symbol.toStringTag;ic[woe]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(ic.prototype);class OGe extends ic{constructor(){super(Et.SECOND,32)}}class RGe extends ic{constructor(){super(Et.MILLISECOND,32)}}class NGe extends ic{constructor(){super(Et.MICROSECOND,64)}}class kGe extends ic{constructor(){super(Et.NANOSECOND,64)}}class hx extends Vt{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return K.Timestamp}toString(){return`Timestamp<${Et[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}Eoe=Symbol.toStringTag;hx[Eoe]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(hx.prototype);class ng extends Vt{constructor(t){super(),this.unit=t}get typeId(){return K.Interval}toString(){return`Interval<${ul[this.unit]}>`}}Soe=Symbol.toStringTag;ng[Soe]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(ng.prototype);class DGe extends ng{constructor(){super(ul.DAY_TIME)}}class $Ge extends ng{constructor(){super(ul.YEAR_MONTH)}}let px=class extends Vt{constructor(t){super(),this.unit=t}get typeId(){return K.Duration}toString(){return`Duration<${Et[this.unit]}>`}};Toe=Symbol.toStringTag;px[Toe]=(e=>(e.unit=null,e.ArrayType=BigInt64Array,e[Symbol.toStringTag]="Duration"))(px.prototype);let rg=class extends Vt{constructor(t){super(),this.children=[t]}get typeId(){return K.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};xoe=Symbol.toStringTag;rg[xoe]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(rg.prototype);class ss extends Vt{constructor(t){super(),this.children=t}get typeId(){return K.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Ioe=Symbol.toStringTag;ss[Ioe]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(ss.prototype);class zv extends Vt{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return K.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}Coe=Symbol.toStringTag;zv[Coe]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(zv.prototype);let mx=class extends Vt{constructor(t){super(),this.byteWidth=t}get typeId(){return K.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};Poe=Symbol.toStringTag;mx[Poe]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(mx.prototype);let ig=class extends Vt{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return K.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Aoe=Symbol.toStringTag;ig[Aoe]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(ig.prototype);class Hv extends Vt{constructor(t,n=!1){var r,i,s;if(super(),this.children=[t],this.keysSorted=n,t&&(t.name="entries",!((r=t==null?void 0:t.type)===null||r===void 0)&&r.children)){const o=(i=t==null?void 0:t.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=t==null?void 0:t.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get typeId(){return K.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Ooe=Symbol.toStringTag;Hv[Ooe]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(Hv.prototype);const LGe=(e=>()=>++e)(-1);class Bf extends Vt{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?LGe():eu(r)}get typeId(){return K.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Roe=Symbol.toStringTag;Bf[Roe]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(Bf.prototype);function _u(e){const t=e;switch(e.typeId){case K.Decimal:return e.bitWidth/32;case K.Timestamp:return 2;case K.Date:return 1+t.unit;case K.Interval:return 1+t.unit;case K.FixedSizeList:return t.listSize;case K.FixedSizeBinary:return t.byteWidth;default:return 1}}class Kt{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return MGe(this,t,n)}getVisitFnByTypeId(t,n=!0){return vp(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitDuration(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function MGe(e,t,n=!0){return typeof t=="number"?vp(e,t,n):typeof t=="string"&&t in K?vp(e,K[t],n):t&&t instanceof Vt?vp(e,Qz(t),n):t!=null&&t.type&&t.type instanceof Vt?vp(e,Qz(t.type),n):vp(e,K.NONE,n)}function vp(e,t,n=!0){let r=null;switch(t){case K.Null:r=e.visitNull;break;case K.Bool:r=e.visitBool;break;case K.Int:r=e.visitInt;break;case K.Int8:r=e.visitInt8||e.visitInt;break;case K.Int16:r=e.visitInt16||e.visitInt;break;case K.Int32:r=e.visitInt32||e.visitInt;break;case K.Int64:r=e.visitInt64||e.visitInt;break;case K.Uint8:r=e.visitUint8||e.visitInt;break;case K.Uint16:r=e.visitUint16||e.visitInt;break;case K.Uint32:r=e.visitUint32||e.visitInt;break;case K.Uint64:r=e.visitUint64||e.visitInt;break;case K.Float:r=e.visitFloat;break;case K.Float16:r=e.visitFloat16||e.visitFloat;break;case K.Float32:r=e.visitFloat32||e.visitFloat;break;case K.Float64:r=e.visitFloat64||e.visitFloat;break;case K.Utf8:r=e.visitUtf8;break;case K.Binary:r=e.visitBinary;break;case K.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case K.Date:r=e.visitDate;break;case K.DateDay:r=e.visitDateDay||e.visitDate;break;case K.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case K.Timestamp:r=e.visitTimestamp;break;case K.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case K.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case K.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case K.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case K.Time:r=e.visitTime;break;case K.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case K.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case K.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case K.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case K.Decimal:r=e.visitDecimal;break;case K.List:r=e.visitList;break;case K.Struct:r=e.visitStruct;break;case K.Union:r=e.visitUnion;break;case K.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case K.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case K.Dictionary:r=e.visitDictionary;break;case K.Interval:r=e.visitInterval;break;case K.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case K.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case K.Duration:r=e.visitDuration;break;case K.DurationSecond:r=e.visitDurationSecond||e.visitDuration;break;case K.DurationMillisecond:r=e.visitDurationMillisecond||e.visitDuration;break;case K.DurationMicrosecond:r=e.visitDurationMicrosecond||e.visitDuration;break;case K.DurationNanosecond:r=e.visitDurationNanosecond||e.visitDuration;break;case K.FixedSizeList:r=e.visitFixedSizeList;break;case K.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${K[t]}'`)}function Qz(e){switch(e.typeId){case K.Null:return K.Null;case K.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?K.Int8:K.Uint8;case 16:return n?K.Int16:K.Uint16;case 32:return n?K.Int32:K.Uint32;case 64:return n?K.Int64:K.Uint64}return K.Int}case K.Float:switch(e.precision){case Mi.HALF:return K.Float16;case Mi.SINGLE:return K.Float32;case Mi.DOUBLE:return K.Float64}return K.Float;case K.Binary:return K.Binary;case K.Utf8:return K.Utf8;case K.Bool:return K.Bool;case K.Decimal:return K.Decimal;case K.Time:switch(e.unit){case Et.SECOND:return K.TimeSecond;case Et.MILLISECOND:return K.TimeMillisecond;case Et.MICROSECOND:return K.TimeMicrosecond;case Et.NANOSECOND:return K.TimeNanosecond}return K.Time;case K.Timestamp:switch(e.unit){case Et.SECOND:return K.TimestampSecond;case Et.MILLISECOND:return K.TimestampMillisecond;case Et.MICROSECOND:return K.TimestampMicrosecond;case Et.NANOSECOND:return K.TimestampNanosecond}return K.Timestamp;case K.Date:switch(e.unit){case al.DAY:return K.DateDay;case al.MILLISECOND:return K.DateMillisecond}return K.Date;case K.Interval:switch(e.unit){case ul.DAY_TIME:return K.IntervalDayTime;case ul.YEAR_MONTH:return K.IntervalYearMonth}return K.Interval;case K.Duration:switch(e.unit){case Et.SECOND:return K.DurationSecond;case Et.MILLISECOND:return K.DurationMillisecond;case Et.MICROSECOND:return K.DurationMicrosecond;case Et.NANOSECOND:return K.DurationNanosecond}return K.Duration;case K.Map:return K.Map;case K.List:return K.List;case K.Struct:return K.Struct;case K.Union:switch(e.mode){case uo.Dense:return K.DenseUnion;case uo.Sparse:return K.SparseUnion}return K.Union;case K.FixedSizeBinary:return K.FixedSizeBinary;case K.FixedSizeList:return K.FixedSizeList;case K.Dictionary:return K.Dictionary}throw new Error(`Unrecognized type '${K[e.typeId]}'`)}Kt.prototype.visitInt8=null;Kt.prototype.visitInt16=null;Kt.prototype.visitInt32=null;Kt.prototype.visitInt64=null;Kt.prototype.visitUint8=null;Kt.prototype.visitUint16=null;Kt.prototype.visitUint32=null;Kt.prototype.visitUint64=null;Kt.prototype.visitFloat16=null;Kt.prototype.visitFloat32=null;Kt.prototype.visitFloat64=null;Kt.prototype.visitDateDay=null;Kt.prototype.visitDateMillisecond=null;Kt.prototype.visitTimestampSecond=null;Kt.prototype.visitTimestampMillisecond=null;Kt.prototype.visitTimestampMicrosecond=null;Kt.prototype.visitTimestampNanosecond=null;Kt.prototype.visitTimeSecond=null;Kt.prototype.visitTimeMillisecond=null;Kt.prototype.visitTimeMicrosecond=null;Kt.prototype.visitTimeNanosecond=null;Kt.prototype.visitDenseUnion=null;Kt.prototype.visitSparseUnion=null;Kt.prototype.visitIntervalDayTime=null;Kt.prototype.visitIntervalYearMonth=null;Kt.prototype.visitDuration=null;Kt.prototype.visitDurationSecond=null;Kt.prototype.visitDurationMillisecond=null;Kt.prototype.visitDurationMicrosecond=null;Kt.prototype.visitDurationNanosecond=null;const koe=new Float64Array(1),cp=new Uint32Array(koe.buffer);function Doe(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function $oe(e){if(e!==e)return 32256;koe[0]=e;const t=(cp[1]&2147483648)>>16&65535;let n=cp[1]&2146435072,r=0;return n>=1089470464?cp[0]>0?n=31744:(n=(n&2080374784)>>16,r=(cp[1]&1048575)>>10):n<=1056964608?(r=1048576+(cp[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(cp[1]&1048575)+512>>10),t|n|r&65535}class At extends Kt{}function kt(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const FGe=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},bL=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},jGe=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},BGe=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},Loe=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},UGe=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},bc=({values:e},t,n)=>{e[t]=n},wL=({values:e},t,n)=>{e[t]=n},Moe=({values:e},t,n)=>{e[t]=$oe(n)},VGe=(e,t,n)=>{switch(e.type.precision){case Mi.HALF:return Moe(e,t,n);case Mi.SINGLE:case Mi.DOUBLE:return wL(e,t,n)}},EL=({values:e},t,n)=>{FGe(e,t,n.valueOf())},SL=({values:e},t,n)=>{bL(e,t*2,n.valueOf())},Foe=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},zGe=({values:e,valueOffsets:t},n,r)=>Loe(e,t,n,r),HGe=({values:e,valueOffsets:t},n,r)=>{Loe(e,t,n,aL(r))},joe=(e,t,n)=>{e.type.unit===al.DAY?EL(e,t,n):SL(e,t,n)},TL=({values:e},t,n)=>bL(e,t*2,n/1e3),xL=({values:e},t,n)=>bL(e,t*2,n),IL=({values:e},t,n)=>jGe(e,t*2,n),CL=({values:e},t,n)=>BGe(e,t*2,n),Boe=(e,t,n)=>{switch(e.type.unit){case Et.SECOND:return TL(e,t,n);case Et.MILLISECOND:return xL(e,t,n);case Et.MICROSECOND:return IL(e,t,n);case Et.NANOSECOND:return CL(e,t,n)}},PL=({values:e},t,n)=>{e[t]=n},AL=({values:e},t,n)=>{e[t]=n},OL=({values:e},t,n)=>{e[t]=n},RL=({values:e},t,n)=>{e[t]=n},Uoe=(e,t,n)=>{switch(e.type.unit){case Et.SECOND:return PL(e,t,n);case Et.MILLISECOND:return AL(e,t,n);case Et.MICROSECOND:return OL(e,t,n);case Et.NANOSECOND:return RL(e,t,n)}},Voe=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},WGe=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=ha.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n.get(++o))},qGe=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=ha.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const u=n instanceof Map?n.entries():Object.entries(n);for(const l of u)if(s(r,o,l),++o>=a)break},GGe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),YGe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),KGe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),QGe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),XGe=(e,t,n)=>{const r=e.type.children.map(s=>ha.getVisitFn(s.type)),i=n instanceof Map?KGe(t,n):n instanceof xn?YGe(t,n):Array.isArray(n)?GGe(t,n):QGe(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},JGe=(e,t,n)=>{e.type.mode===uo.Dense?zoe(e,t,n):Hoe(e,t,n)},zoe=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ha.visit(i,e.valueOffsets[t],n)},Hoe=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ha.visit(i,t,n)},ZGe=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},Woe=(e,t,n)=>{e.type.unit===ul.DAY_TIME?NL(e,t,n):kL(e,t,n)},NL=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},kL=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},DL=({values:e},t,n)=>{e[t]=n},$L=({values:e},t,n)=>{e[t]=n},LL=({values:e},t,n)=>{e[t]=n},ML=({values:e},t,n)=>{e[t]=n},qoe=(e,t,n)=>{switch(e.type.unit){case Et.SECOND:return DL(e,t,n);case Et.MILLISECOND:return $L(e,t,n);case Et.MICROSECOND:return LL(e,t,n);case Et.NANOSECOND:return ML(e,t,n)}},eYe=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=ha.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};At.prototype.visitBool=kt(UGe);At.prototype.visitInt=kt(bc);At.prototype.visitInt8=kt(bc);At.prototype.visitInt16=kt(bc);At.prototype.visitInt32=kt(bc);At.prototype.visitInt64=kt(bc);At.prototype.visitUint8=kt(bc);At.prototype.visitUint16=kt(bc);At.prototype.visitUint32=kt(bc);At.prototype.visitUint64=kt(bc);At.prototype.visitFloat=kt(VGe);At.prototype.visitFloat16=kt(Moe);At.prototype.visitFloat32=kt(wL);At.prototype.visitFloat64=kt(wL);At.prototype.visitUtf8=kt(HGe);At.prototype.visitBinary=kt(zGe);At.prototype.visitFixedSizeBinary=kt(Foe);At.prototype.visitDate=kt(joe);At.prototype.visitDateDay=kt(EL);At.prototype.visitDateMillisecond=kt(SL);At.prototype.visitTimestamp=kt(Boe);At.prototype.visitTimestampSecond=kt(TL);At.prototype.visitTimestampMillisecond=kt(xL);At.prototype.visitTimestampMicrosecond=kt(IL);At.prototype.visitTimestampNanosecond=kt(CL);At.prototype.visitTime=kt(Uoe);At.prototype.visitTimeSecond=kt(PL);At.prototype.visitTimeMillisecond=kt(AL);At.prototype.visitTimeMicrosecond=kt(OL);At.prototype.visitTimeNanosecond=kt(RL);At.prototype.visitDecimal=kt(Voe);At.prototype.visitList=kt(WGe);At.prototype.visitStruct=kt(XGe);At.prototype.visitUnion=kt(JGe);At.prototype.visitDenseUnion=kt(zoe);At.prototype.visitSparseUnion=kt(Hoe);At.prototype.visitDictionary=kt(ZGe);At.prototype.visitInterval=kt(Woe);At.prototype.visitIntervalDayTime=kt(NL);At.prototype.visitIntervalYearMonth=kt(kL);At.prototype.visitDuration=kt(qoe);At.prototype.visitDurationSecond=kt(DL);At.prototype.visitDurationMillisecond=kt($L);At.prototype.visitDurationMicrosecond=kt(LL);At.prototype.visitDurationNanosecond=kt(ML);At.prototype.visitFixedSizeList=kt(eYe);At.prototype.visitMap=kt(qGe);const ha=new At,Da=Symbol.for("parent"),ym=Symbol.for("rowIndex");class FL{constructor(t,n){return this[Da]=t,this[ym]=n,new Proxy(this,new nYe)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[ym],n=this[Da],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=lo.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${Eh(t)}: ${Eh(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new tYe(this[Da],this[ym])}}class tYe{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,lo.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(FL.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Da]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ym]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class nYe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Da].type.children.map(n=>n.name)}has(t,n){return t[Da].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[Da].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Da].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=lo.visit(t[Da].children[r],t[ym]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Da].type.children.findIndex(s=>s.name===n);return i!==-1?(ha.visit(t[Da].children[i],t[ym],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class St extends Kt{}function Ot(e){return(t,n)=>t.getValid(n)?e(t,n):null}const rYe=(e,t)=>864e5*e[t],jL=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),iYe=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,sYe=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,Goe=e=>new Date(e),oYe=(e,t)=>Goe(rYe(e,t)),aYe=(e,t)=>Goe(jL(e,t)),uYe=(e,t)=>null,Yoe=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},lYe=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},Koe=({values:e},t)=>oYe(e,t),Qoe=({values:e},t)=>aYe(e,t*2),sd=({stride:e,values:t},n)=>t[e*n],cYe=({stride:e,values:t},n)=>Doe(t[e*n]),Xoe=({values:e},t)=>e[t],fYe=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),dYe=({values:e,valueOffsets:t},n)=>Yoe(e,t,n),hYe=({values:e,valueOffsets:t},n)=>{const r=Yoe(e,t,n);return r!==null?dk(r):null},pYe=({values:e},t)=>e[t],mYe=({type:e,values:t},n)=>e.precision!==Mi.HALF?t[n]:Doe(t[n]),gYe=(e,t)=>e.type.unit===al.DAY?Koe(e,t):Qoe(e,t),Joe=({values:e},t)=>1e3*jL(e,t*2),Zoe=({values:e},t)=>jL(e,t*2),eae=({values:e},t)=>iYe(e,t*2),tae=({values:e},t)=>sYe(e,t*2),yYe=(e,t)=>{switch(e.type.unit){case Et.SECOND:return Joe(e,t);case Et.MILLISECOND:return Zoe(e,t);case Et.MICROSECOND:return eae(e,t);case Et.NANOSECOND:return tae(e,t)}},nae=({values:e},t)=>e[t],rae=({values:e},t)=>e[t],iae=({values:e},t)=>e[t],sae=({values:e},t)=>e[t],vYe=(e,t)=>{switch(e.type.unit){case Et.SECOND:return nae(e,t);case Et.MILLISECOND:return rae(e,t);case Et.MICROSECOND:return iae(e,t);case Et.NANOSECOND:return sae(e,t)}},_Ye=({values:e,stride:t},n)=>cL.decimal(e.subarray(t*n,t*(n+1))),bYe=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,u=i[0].slice(s,o-s);return new xn([u])},wYe=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new WC(o.slice(i,s-i))},EYe=(e,t)=>new FL(e,t),SYe=(e,t)=>e.type.mode===uo.Dense?oae(e,t):aae(e,t),oae=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return lo.visit(r,e.valueOffsets[t])},aae=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return lo.visit(r,t)},TYe=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},xYe=(e,t)=>e.type.unit===ul.DAY_TIME?uae(e,t):lae(e,t),uae=({values:e},t)=>e.subarray(2*t,2*(t+1)),lae=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},cae=({values:e},t)=>e[t],fae=({values:e},t)=>e[t],dae=({values:e},t)=>e[t],hae=({values:e},t)=>e[t],IYe=(e,t)=>{switch(e.type.unit){case Et.SECOND:return cae(e,t);case Et.MILLISECOND:return fae(e,t);case Et.MICROSECOND:return dae(e,t);case Et.NANOSECOND:return hae(e,t)}},CYe=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new xn([s])};St.prototype.visitNull=Ot(uYe);St.prototype.visitBool=Ot(lYe);St.prototype.visitInt=Ot(pYe);St.prototype.visitInt8=Ot(sd);St.prototype.visitInt16=Ot(sd);St.prototype.visitInt32=Ot(sd);St.prototype.visitInt64=Ot(Xoe);St.prototype.visitUint8=Ot(sd);St.prototype.visitUint16=Ot(sd);St.prototype.visitUint32=Ot(sd);St.prototype.visitUint64=Ot(Xoe);St.prototype.visitFloat=Ot(mYe);St.prototype.visitFloat16=Ot(cYe);St.prototype.visitFloat32=Ot(sd);St.prototype.visitFloat64=Ot(sd);St.prototype.visitUtf8=Ot(hYe);St.prototype.visitBinary=Ot(dYe);St.prototype.visitFixedSizeBinary=Ot(fYe);St.prototype.visitDate=Ot(gYe);St.prototype.visitDateDay=Ot(Koe);St.prototype.visitDateMillisecond=Ot(Qoe);St.prototype.visitTimestamp=Ot(yYe);St.prototype.visitTimestampSecond=Ot(Joe);St.prototype.visitTimestampMillisecond=Ot(Zoe);St.prototype.visitTimestampMicrosecond=Ot(eae);St.prototype.visitTimestampNanosecond=Ot(tae);St.prototype.visitTime=Ot(vYe);St.prototype.visitTimeSecond=Ot(nae);St.prototype.visitTimeMillisecond=Ot(rae);St.prototype.visitTimeMicrosecond=Ot(iae);St.prototype.visitTimeNanosecond=Ot(sae);St.prototype.visitDecimal=Ot(_Ye);St.prototype.visitList=Ot(bYe);St.prototype.visitStruct=Ot(EYe);St.prototype.visitUnion=Ot(SYe);St.prototype.visitDenseUnion=Ot(oae);St.prototype.visitSparseUnion=Ot(aae);St.prototype.visitDictionary=Ot(TYe);St.prototype.visitInterval=Ot(xYe);St.prototype.visitIntervalDayTime=Ot(uae);St.prototype.visitIntervalYearMonth=Ot(lae);St.prototype.visitDuration=Ot(IYe);St.prototype.visitDurationSecond=Ot(cae);St.prototype.visitDurationMillisecond=Ot(fae);St.prototype.visitDurationMicrosecond=Ot(dae);St.prototype.visitDurationNanosecond=Ot(hae);St.prototype.visitFixedSizeList=Ot(CYe);St.prototype.visitMap=Ot(wYe);const lo=new St,Ua=Symbol.for("keys"),vm=Symbol.for("vals");class WC{constructor(t){return this[Ua]=new xn([t.children[0]]).memoize(),this[vm]=t.children[1],new Proxy(this,new AYe)}[Symbol.iterator](){return new PYe(this[Ua],this[vm])}get size(){return this[Ua].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Ua],n=this[vm],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=lo.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${Eh(t)}: ${Eh(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class PYe{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),lo.visit(this.vals,t)]})}}class AYe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Ua].toArray().map(String)}has(t,n){return t[Ua].includes(n)}getOwnPropertyDescriptor(t,n){if(t[Ua].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Ua].indexOf(n);if(r!==-1){const i=lo.visit(Reflect.get(t,vm),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Ua].indexOf(n);return i!==-1?(ha.visit(Reflect.get(t,vm),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(WC.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ua]:{writable:!0,enumerable:!1,configurable:!1,value:null},[vm]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Xz;function pae(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(Xz=s,s=o,o=Xz),o>i&&(o=i),r?r(e,s,o):[s,o]}const Jz=e=>e!==e;function Fg(e){if(typeof e!=="object"||e===null)return Jz(e)?Jz:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?_Ge(e,n):!1:e instanceof Map?RYe(e):Array.isArray(e)?OYe(e):e instanceof xn?NYe(e):kYe(e,!0)}function OYe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Fg(e[n]);return qC(t)}function RYe(e){let t=-1;const n=[];for(const r of e.values())n[++t]=Fg(r);return qC(n)}function NYe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Fg(e.get(n));return qC(t)}function kYe(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=Fg(e[n[i]]);return qC(r,n)}function qC(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return DYe(e,n);case Map:return Zz(e,n,n.keys());case WC:case FL:case Object:case void 0:return Zz(e,n,t||Object.keys(n))}return n instanceof xn?$Ye(e,n):!1}}function DYe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function $Ye(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function Zz(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let u=s.next(),l=r.next(),c=i.next();for(;o<a&&!l.done&&!c.done&&!u.done&&!(l.value!==c.value||!e[o](u.value));++o,l=r.next(),c=i.next(),u=s.next());return o===a&&l.done&&c.done&&u.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function mae(e,t,n,r){return(n&1<<r)!==0}function LYe(e,t,n,r){return(n&1<<r)>>r}function gx(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):gae(new BL(n,e,t,null,mae)).subarray(0,r)),i}return n}function gae(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class BL{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function pk(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new BL(e,t,n-t,e,LYe))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return pk(e,t,i)+pk(e,r,n)+MYe(e,i>>3,r-i>>3)}function MYe(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=r2(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=r2(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=r2(s.getUint8(i)),i+=1;return r}function r2(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const FYe=-1;class Mn{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:t}=this;return Vt.isSparseUnion(t)?this.children.some(n=>n.nullable):Vt.isDenseUnion(t)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){if(Vt.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let t=this._nullCount,n;return t<=FYe&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-pk(n,this.offset,this.offset+this.length)),t}constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let u;s instanceof Mn?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=_u(t),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u)))}getValid(t){const{type:n}=this;if(Vt.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[t]]],s=r.mode===uo.Dense?this.valueOffsets[t]:t;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+t;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(t,n){let r;const{type:i}=this;if(Vt.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[t]]],a=s.mode===uo.Dense?this.valueOffsets[t]:t;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,u=o+t,l=1<<u%8,c=u>>3;(!s||s.byteLength<=c)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0&&s.set(gx(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s,_nullCount:-1}));const f=s[c];r=(f&l)!==0,n?s[c]=f|l:s[c]=f&~l}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Mn(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,u=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,u,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===K.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(gx(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[Tl.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[Tl.TYPE])&&(o[Tl.TYPE]=s.subarray(t,t+n)),(s=o[Tl.OFFSET])&&(o[Tl.OFFSET]=s.subarray(t,t+n+1))||(s=o[Tl.DATA])&&(o[Tl.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}Mn.prototype.children=Object.freeze([]);class Vy extends Kt{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Mn(n,r,i,i)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=Fn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=Fn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=Fn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=Fn(t.data),s=Fn(t.nullBitmap),o=F0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Fn(t.data),s=Fn(t.nullBitmap),o=F0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Fn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/_u(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=Fn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/_u(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=Fn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/_u(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=Fn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/_u(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=Fn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/_u(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=Fn(t.nullBitmap),o=F0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Fn(t.nullBitmap),{length:o=i.reduce((u,{length:l})=>Math.max(u,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=hi(n.ArrayType,t.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=t;if(Vt.isSparseUnion(n))return new Mn(n,r,o,a,[void 0,void 0,void 0,s],i);const u=F0(t.valueOffsets);return new Mn(n,r,o,a,[u,void 0,void 0,s],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=Fn(t.nullBitmap),s=hi(n.indices.ArrayType,t.data),{["dictionary"]:o=new xn([new Vy().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=Fn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length/_u(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitDuration(t){const{["type"]:n,["offset"]:r=0}=t,i=Fn(t.nullBitmap),s=hi(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Vy().visit({type:n.valueType})}=t,s=Fn(t.nullBitmap),{["length"]:o=i.length/_u(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Vy().visit({type:n.childType})}=t,s=Fn(t.nullBitmap),o=F0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,void 0,s],[i])}}const jYe=new Vy;function es(e){return jYe.visit(e)}class eH{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function yae(e){return e.reduce((t,n)=>t+n.nullCount,0)}function vae(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function _ae(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],u=t[s],{length:l}=a;if(u>=r)break;if(n>=u+l)continue;if(u>=n&&u+l<=r){i.push(a);continue}const c=Math.max(0,n-u),f=Math.min(r-u,l);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function UL(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function VL(e,t){return e.getValid(t)}function _m(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return UL(r,this._offsets,n,t)}}function bae(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=UL(s,this._offsets,r,n);return t=void 0,o}}function wae(e){let t;function n(r,i,s){let o=s,a=0,u=0;for(let l=i-1,c=r.length;++l<c;){const f=r[l];if(~(a=e(f,t,o)))return u+a;o=0,u+=f.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):UL(s,this._offsets,i,n);return t=void 0,o}}class Tt extends Kt{}function BYe(e,t){return t===null&&e.length>0?0:-1}function UYe(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new BL(n,e.offset+(t||0),e.length,n,mae)){if(!i)return r;++r}return-1}function Ft(e,t,n){if(t===void 0)return-1;if(t===null)switch(e.typeId){case K.Union:break;case K.Dictionary:break;default:return UYe(e,n)}const r=lo.getVisitFn(e),i=Fg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function Eae(e,t,n){const r=lo.getVisitFn(e),i=Fg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}Tt.prototype.visitNull=BYe;Tt.prototype.visitBool=Ft;Tt.prototype.visitInt=Ft;Tt.prototype.visitInt8=Ft;Tt.prototype.visitInt16=Ft;Tt.prototype.visitInt32=Ft;Tt.prototype.visitInt64=Ft;Tt.prototype.visitUint8=Ft;Tt.prototype.visitUint16=Ft;Tt.prototype.visitUint32=Ft;Tt.prototype.visitUint64=Ft;Tt.prototype.visitFloat=Ft;Tt.prototype.visitFloat16=Ft;Tt.prototype.visitFloat32=Ft;Tt.prototype.visitFloat64=Ft;Tt.prototype.visitUtf8=Ft;Tt.prototype.visitBinary=Ft;Tt.prototype.visitFixedSizeBinary=Ft;Tt.prototype.visitDate=Ft;Tt.prototype.visitDateDay=Ft;Tt.prototype.visitDateMillisecond=Ft;Tt.prototype.visitTimestamp=Ft;Tt.prototype.visitTimestampSecond=Ft;Tt.prototype.visitTimestampMillisecond=Ft;Tt.prototype.visitTimestampMicrosecond=Ft;Tt.prototype.visitTimestampNanosecond=Ft;Tt.prototype.visitTime=Ft;Tt.prototype.visitTimeSecond=Ft;Tt.prototype.visitTimeMillisecond=Ft;Tt.prototype.visitTimeMicrosecond=Ft;Tt.prototype.visitTimeNanosecond=Ft;Tt.prototype.visitDecimal=Ft;Tt.prototype.visitList=Ft;Tt.prototype.visitStruct=Ft;Tt.prototype.visitUnion=Ft;Tt.prototype.visitDenseUnion=Eae;Tt.prototype.visitSparseUnion=Eae;Tt.prototype.visitDictionary=Ft;Tt.prototype.visitInterval=Ft;Tt.prototype.visitIntervalDayTime=Ft;Tt.prototype.visitIntervalYearMonth=Ft;Tt.prototype.visitDuration=Ft;Tt.prototype.visitDurationSecond=Ft;Tt.prototype.visitDurationMillisecond=Ft;Tt.prototype.visitDurationMicrosecond=Ft;Tt.prototype.visitDurationNanosecond=Ft;Tt.prototype.visitFixedSizeList=Ft;Tt.prototype.visitMap=Ft;const yx=new Tt;class xt extends Kt{}function Rt(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===K.Timestamp||t instanceof xs&&t.bitWidth!==64||t instanceof ic&&t.bitWidth!==64||t instanceof jf&&t.precision!==Mi.HALF))return new eH(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new eH(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new VYe(o)})}class VYe{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}xt.prototype.visitNull=Rt;xt.prototype.visitBool=Rt;xt.prototype.visitInt=Rt;xt.prototype.visitInt8=Rt;xt.prototype.visitInt16=Rt;xt.prototype.visitInt32=Rt;xt.prototype.visitInt64=Rt;xt.prototype.visitUint8=Rt;xt.prototype.visitUint16=Rt;xt.prototype.visitUint32=Rt;xt.prototype.visitUint64=Rt;xt.prototype.visitFloat=Rt;xt.prototype.visitFloat16=Rt;xt.prototype.visitFloat32=Rt;xt.prototype.visitFloat64=Rt;xt.prototype.visitUtf8=Rt;xt.prototype.visitBinary=Rt;xt.prototype.visitFixedSizeBinary=Rt;xt.prototype.visitDate=Rt;xt.prototype.visitDateDay=Rt;xt.prototype.visitDateMillisecond=Rt;xt.prototype.visitTimestamp=Rt;xt.prototype.visitTimestampSecond=Rt;xt.prototype.visitTimestampMillisecond=Rt;xt.prototype.visitTimestampMicrosecond=Rt;xt.prototype.visitTimestampNanosecond=Rt;xt.prototype.visitTime=Rt;xt.prototype.visitTimeSecond=Rt;xt.prototype.visitTimeMillisecond=Rt;xt.prototype.visitTimeMicrosecond=Rt;xt.prototype.visitTimeNanosecond=Rt;xt.prototype.visitDecimal=Rt;xt.prototype.visitList=Rt;xt.prototype.visitStruct=Rt;xt.prototype.visitUnion=Rt;xt.prototype.visitDenseUnion=Rt;xt.prototype.visitSparseUnion=Rt;xt.prototype.visitDictionary=Rt;xt.prototype.visitInterval=Rt;xt.prototype.visitIntervalDayTime=Rt;xt.prototype.visitIntervalYearMonth=Rt;xt.prototype.visitDuration=Rt;xt.prototype.visitDurationSecond=Rt;xt.prototype.visitDurationMillisecond=Rt;xt.prototype.visitDurationMicrosecond=Rt;xt.prototype.visitDurationNanosecond=Rt;xt.prototype.visitFixedSizeList=Rt;xt.prototype.visitMap=Rt;const zL=new xt,zYe=(e,t)=>e+t;class od extends Kt{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===Et.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitDuration(t,n){return 8}visitStruct(t,n){return t.children.reduce((r,i)=>r+ll.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+ll.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const HYe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),WYe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),qYe=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=ll.getVisitFn(i.type),u=i.slice(s,o-s);let l=8;for(let c=-1,f=o-s;++c<f;)l+=a(u,c);return l},GYe=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=ll.getVisitFn(r.type);let o=0;for(let a=-1,u=i.length;++a<u;)o+=s(i,a);return o},YYe=(e,t)=>e.type.mode===uo.Dense?Sae(e,t):Tae(e,t),Sae=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+ll.visit(t[s],r[i])},Tae=({children:e},t)=>4+ll.visitMany(e,e.map(()=>t)).reduce(zYe,0);od.prototype.visitUtf8=HYe;od.prototype.visitBinary=WYe;od.prototype.visitList=qYe;od.prototype.visitFixedSizeList=GYe;od.prototype.visitUnion=YYe;od.prototype.visitDenseUnion=Sae;od.prototype.visitSparseUnion=Tae;const ll=new od;var xae;const Iae={},Cae={};class xn{constructor(t){var n,r,i;const s=t[0]instanceof xn?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Mn)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:u,indexOf:l,byteLength:c}=Iae[o.typeId],f=s[0];this.isValid=d=>VL(f,d),this.get=d=>a(f,d),this.set=(d,h)=>u(f,d,h),this.indexOf=d=>l(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,Cae[o.typeId]),this._offsets=vae(s);break}this.data=s,this.type=o,this.stride=_u(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((t,n)=>t+n.byteLength,0)}get nullCount(){return yae(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${K[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>-1}getByteLength(t){return 0}[Symbol.iterator](){return zL.visit(this)}concat(...t){return new xn(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new xn(pae(this,t,n,({data:r,_offsets:i},s,o)=>_ae(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case K.Int:case K.Float:case K.Decimal:case K.Time:case K.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:u})=>(o.array.set(a.subarray(0,u*i),o.offset),o.offset+=u*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new xn(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return Vt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Vt.isDictionary(this.type)){const t=new vx(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new xn(n)}return new vx(this)}unmemoize(){if(Vt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new xn(n)}return this}}xae=Symbol.toStringTag;xn[xae]=(e=>{e.type=Vt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(K).map(n=>K[n]).filter(n=>typeof n=="number"&&n!==K.NONE);for(const n of t){const r=lo.getVisitFnByTypeId(n),i=ha.getVisitFnByTypeId(n),s=yx.getVisitFnByTypeId(n),o=ll.getVisitFnByTypeId(n);Iae[n]={get:r,set:i,indexOf:s,byteLength:o},Cae[n]=Object.create(e,{isValid:{value:_m(VL)},get:{value:_m(lo.getVisitFnByTypeId(n))},set:{value:bae(ha.getVisitFnByTypeId(n))},indexOf:{value:wae(yx.getVisitFnByTypeId(n))},getByteLength:{value:_m(ll.getVisitFnByTypeId(n))}})}return"Vector"})(xn.prototype);class vx extends xn{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const u=n.call(this,o);return s[o]=u,u}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new vx(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new xn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function KYe(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${QYe(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function QYe(e){return typeof e!="bigint"?Eh(e):`${Eh(e)}n`}const i2=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,XYe=(e,t=0)=>e.length>=t?e.subarray(0,t):fx(new e.constructor(t),e,0);class GC{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?i2(r*1,this.BYTES_PER_ELEMENT):i2(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=i2(t*this.stride,this.BYTES_PER_ELEMENT);const n=XYe(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=fx(new this.ArrayType(t),this.buffer)}}GC.prototype.offset=0;class a1 extends GC{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class Pae extends a1{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class Aae extends a1{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let fo=class{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=_u(t),this._nulls=new Pae,n&&n.length>0&&(this._isValid=KYe(n))}toVector(){return new xn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,u)=>a+u.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:u,_offsets:l,_values:c,_nulls:f}=this;(n=u==null?void 0:u.flush(o))?i=l==null?void 0:l.flush(o):(i=l==null?void 0:l.flush(o))?t=c==null?void 0:c.flush(l.last()):t=c==null?void 0:c.flush(o),a>0&&(r=f==null?void 0:f.flush(o));const d=this.children.map(h=>h.flush());return this.clear(),es({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};fo.prototype.length=1;fo.prototype.stride=1;fo.prototype.children=null;fo.prototype.finished=!1;fo.prototype.nullValues=null;fo.prototype._isValid=()=>!0;class wc extends fo{constructor(t){super(t),this._values=new a1(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class YC extends fo{constructor(t){super(t),this._pendingLength=0,this._offsets=new Aae}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof WC?n[Ua].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class mk{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(BigInt(i??0)),t.pad(4),t.writeInt32(r),t.writeInt64(BigInt(n??0)),t.offset()}}const s2=2,Iu=4,Rl=4,Gn=4,zc=new Int32Array(2),tH=new Float32Array(zc.buffer),nH=new Float64Array(zc.buffer),Ub=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var gk;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(gk||(gk={}));let _x=class Oae{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new Oae(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return zc[0]=this.readInt32(t),tH[0]}readFloat64(t){return zc[Ub?0:1]=this.readInt32(t),zc[Ub?1:0]=this.readInt32(t+4),nH[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,Number(BigInt.asIntN(32,n))),this.writeInt32(t+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(t,n){this.writeUint32(t,Number(BigInt.asUintN(32,n))),this.writeUint32(t+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(t,n){tH[0]=n,this.writeInt32(t,zc[0])}writeFloat64(t,n){nH[0]=n,this.writeInt32(t,zc[Ub?0:1]),this.writeInt32(t+4,zc[Ub?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Iu+Rl)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Rl;n++)t+=String.fromCharCode(this.readInt8(this.position_+Iu+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);t+=Iu;const i=this.bytes_.subarray(t,t+r);return n===gk.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Iu}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Rl)throw new Error("FlatBuffers: file identifier must be length "+Rl);for(let n=0;n<Rl;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+Iu+n))return!1;return!0}createScalarList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s)}return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},Rae=class Nae{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;t?n=t:n=1024,this.bb=_x.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=Nae.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=_x.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(Iu,0),this.writeInt32(this.offset()-t+Iu)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*s2;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(u)){for(let l=s2;l<s;l+=s2)if(this.bb.readInt16(a+l)!=this.bb.readInt16(u+l))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?Gn:0;if(n){const s=n;if(this.prep(this.minalign,Iu+Rl+i),s.length!=Rl)throw new TypeError("FlatBuffers: file identifier must be length "+Rl);for(let o=Rl-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Iu+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(Iu,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(t==null)return 0;let n;t instanceof Uint8Array?n=t:n=this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}};class ei{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new ei).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+Gn),(n||new ei).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return ei.startKeyValue(t),ei.addKey(t,n),ei.addValue(t,r),ei.endKeyValue(t)}}var sg;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(sg||(sg={}));var og;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(og||(og={}));var bx;(function(e){e[e.DenseArray=0]="DenseArray"})(bx||(bx={}));class wo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new wo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+Gn),(n||new wo).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return wo.startInt(t),wo.addBitWidth(t,n),wo.addIsSigned(t,r),wo.endInt(t)}}class Nl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new Nl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+Gn),(n||new Nl).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new wo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):bx.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,bx.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Vd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new Vd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+Gn),(n||new Vd).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Vd.startBinary(t),Vd.endBinary(t)}}class zd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new zd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+Gn),(n||new zd).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return zd.startBool(t),zd.endBool(t)}}var wx;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(wx||(wx={}));let qw=class _p{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new _p).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+Gn),(n||new _p).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):wx.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,wx.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return _p.startDate(t),_p.addUnit(t,n),_p.endDate(t)}};class Us{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new Us).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+Gn),(n||new Us).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return Us.startDecimal(t),Us.addPrecision(t,n),Us.addScale(t,r),Us.addBitWidth(t,i),Us.endDecimal(t)}}var Uf;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Uf||(Uf={}));class Cu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDuration(t,n){return(n||new Cu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(t,n){return t.setPosition(t.position()+Gn),(n||new Cu).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Uf.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Uf.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,n){return Cu.startDuration(t),Cu.addUnit(t,n),Cu.endDuration(t)}}class Pu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new Pu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+Gn),(n||new Pu).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return Pu.startFixedSizeBinary(t),Pu.addByteWidth(t,n),Pu.endFixedSizeBinary(t)}}class Au{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new Au).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+Gn),(n||new Au).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return Au.startFixedSizeList(t),Au.addListSize(t,n),Au.endFixedSizeList(t)}}var Ex;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Ex||(Ex={}));class Ou{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new Ou).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+Gn),(n||new Ou).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ex.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,Ex.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return Ou.startFloatingPoint(t),Ou.addPrecision(t,n),Ou.endFloatingPoint(t)}}var Sx;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Sx||(Sx={}));class Ru{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new Ru).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+Gn),(n||new Ru).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Sx.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,Sx.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return Ru.startInterval(t),Ru.addUnit(t,n),Ru.endInterval(t)}}class Hd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new Hd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+Gn),(n||new Hd).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Hd.startList(t),Hd.endList(t)}}let Gw=class bp{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new bp).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+Gn),(n||new bp).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return bp.startMap(t),bp.addKeysSorted(t,n),bp.endMap(t)}};class Wd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new Wd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+Gn),(n||new Wd).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Wd.startNull(t),Wd.endNull(t)}}class qd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new qd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+Gn),(n||new qd).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return qd.startStruct_(t),qd.endStruct_(t)}}class Xo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new Xo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+Gn),(n||new Xo).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Uf.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Uf.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return Xo.startTime(t),Xo.addUnit(t,n),Xo.addBitWidth(t,r),Xo.endTime(t)}}let oy=class Sd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new Sd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+Gn),(n||new Sd).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Uf.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Uf.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return Sd.startTimestamp(t),Sd.addUnit(t,n),Sd.addTimezone(t,r),Sd.endTimestamp(t)}};var Tx;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Tx||(Tx={}));class Hs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new Hs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+Gn),(n||new Hs).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Tx.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,Tx.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return Hs.startUnion(t),Hs.addMode(t,n),Hs.addTypeIds(t,r),Hs.endUnion(t)}}class Gd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new Gd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+Gn),(n||new Gd).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Gd.startUtf8(t),Gd.endUtf8(t)}}var dr;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList",e[e.RunEndEncoded=22]="RunEndEncoded"})(dr||(dr={}));let Wo=class Yw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new Yw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+Gn),(n||new Yw).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):dr.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new Nl).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new Yw).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new ei).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,dr.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},yu=class El{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new El).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+Gn),(n||new El).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):og.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Wo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new ei).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):BigInt(0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,og.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return El.startSchema(t),El.addEndianness(t,n),El.addFields(t,r),El.addCustomMetadata(t,i),El.addFeatures(t,s),El.endSchema(t)}};class vo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new vo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+Gn),(n||new vo).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):sg.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new yu).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new mk).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new mk).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new ei).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,sg.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class $n{constructor(t=[],n,r,i=vs.V5){this.fields=t||[],this.metadata=n||new Map,r||(r=yk(t)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new $n(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new $n(n,this.metadata)}assign(...t){const n=t[0]instanceof $n?t[0]:Array.isArray(t[0])?new $n(t[0]):new $n(t),r=[...this.fields],i=Vb(Vb(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const u=r.findIndex(l=>l.name===a.name);return~u?(r[u]=a.clone({metadata:Vb(Vb(new Map,r[u].metadata),a.metadata)}))&&!1:!0}),o=yk(s,new Map);return new $n([...r,...s],i,new Map([...this.dictionaries,...o]))}}$n.prototype.fields=null;$n.prototype.metadata=null;$n.prototype.dictionaries=null;class Nn{static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new Nn(`${n}`,r,i,s)}constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],Nn.new(n,r,i,s)}}Nn.prototype.type=null;Nn.prototype.name=null;Nn.prototype.nullable=null;Nn.prototype.metadata=null;function Vb(e,t){return new Map([...e||new Map,...t||new Map])}function yk(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(Vt.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&yk(s.children,t)}return t}var JYe=Rae,ZYe=_x;class vk{static decode(t){t=new ZYe(Fn(t));const n=vo.getRootAsFooter(t),r=$n.decode(n.schema(),new Map,n.version());return new eKe(r,n)}static encode(t){const n=new JYe,r=$n.encode(n,t.schema);vo.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())Vf.encode(n,o);const i=n.endVector();vo.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())Vf.encode(n,o);const s=n.endVector();return vo.startFooter(n),vo.addSchema(n,r),vo.addVersion(n,vs.V5),vo.addRecordBatches(n,i),vo.addDictionaries(n,s),vo.finishFooterBuffer(n,vo.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(t,n=vs.V5,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class eKe extends vk{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(t,n){super(t,n.version()),this._footer=n}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return Vf.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return Vf.decode(n)}return null}}class Vf{static decode(t){return new Vf(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return mk.createBlock(t,i,r,s)}constructor(t,n,r){this.metaDataLength=t,this.offset=eu(r),this.bodyLength=eu(n)}}const zb=Object.freeze({done:!0,value:void 0});class kae{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class tKe extends kae{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return Ol(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(zb);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Kz.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Kz.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return Ol(this,void 0,void 0,function*(){return yield this.abort(t),zb})}return(t){return Ol(this,void 0,void 0,function*(){return yield this.close(),zb})}read(t){return Ol(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Ol(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(zb)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class o2 extends tKe{write(t){if((t=Fn(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?dk(this.toUint8Array(!0)):this.toUint8Array(!1).then(dk)}toUint8Array(t=!1){return t?ol(this._values)[0]:Ol(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var u=!0,l=Uy(this),c;c=yield l.next(),n=c.done,!n;u=!0){s=c.value,u=!1;const f=s;o.push(f),a+=f.byteLength}}catch(f){r={error:f}}finally{try{!u&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}return ol(o,a)[0]})}}class Dae extends YC{constructor(t){super(t),this._values=new GC(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Fn(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const u=a.length;i.set(a,s),r.set(o,u),s+=u}}}class nKe extends fo{constructor(t){super(t),this._values=new Pae}setValue(t,n){this._values.set(t,+n)}}class KC extends wc{}KC.prototype._setValue=joe;class $ae extends KC{}$ae.prototype._setValue=EL;class Lae extends KC{}Lae.prototype._setValue=SL;class Mae extends wc{}Mae.prototype._setValue=Voe;class rKe extends fo{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new Bf(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=xx({type:this.type.indices,nullValues:n}),this.dictionary=xx({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class Fae extends wc{}Fae.prototype._setValue=Foe;class iKe extends fo{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new ig(this.type.listSize,new Nn(n,t.type,!0)),r}}class QC extends wc{setValue(t,n){this._values.set(t,n)}}class sKe extends QC{setValue(t,n){super.setValue(t,$oe(n))}}class oKe extends QC{}class aKe extends QC{}class XC extends wc{}XC.prototype._setValue=Woe;class jae extends XC{}jae.prototype._setValue=NL;class Bae extends XC{}Bae.prototype._setValue=kL;class jg extends wc{}jg.prototype._setValue=qoe;class Uae extends jg{}Uae.prototype._setValue=DL;class Vae extends jg{}Vae.prototype._setValue=$L;class zae extends jg{}zae.prototype._setValue=LL;class Hae extends jg{}Hae.prototype._setValue=ML;class Ec extends wc{setValue(t,n){this._values.set(t,n)}}class uKe extends Ec{}class lKe extends Ec{}class cKe extends Ec{}class fKe extends Ec{}class dKe extends Ec{}class hKe extends Ec{}class pKe extends Ec{}class mKe extends Ec{}class gKe extends YC{constructor(t){super(t),this._offsets=new Aae}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new rg(new Nn(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s,a=o.length,u=n.set(i,a).buffer[i];for(let l=-1;++l<a;)r.set(u+l,o[l])}}}class yKe extends YC{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Hv(new Nn(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const u of s.entries())if(r.set(o,u),++o>=a)break}}}class vKe extends fo{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class _Ke extends fo{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new ss([...this.type.children,new Nn(n,t.type,!0)]),r}}class Bg extends wc{}Bg.prototype._setValue=Boe;class Wae extends Bg{}Wae.prototype._setValue=TL;class qae extends Bg{}qae.prototype._setValue=xL;class Gae extends Bg{}Gae.prototype._setValue=IL;class Yae extends Bg{}Yae.prototype._setValue=CL;class Ug extends wc{}Ug.prototype._setValue=Uoe;class Kae extends Ug{}Kae.prototype._setValue=PL;class Qae extends Ug{}Qae.prototype._setValue=AL;class Xae extends Ug{}Xae.prototype._setValue=OL;class Jae extends Ug{}Jae.prototype._setValue=RL;class HL extends fo{constructor(t){super(t),this._typeIds=new a1(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new Nn(n,t.type)];return this.type=new zv(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class bKe extends HL{}class wKe extends HL{constructor(t){super(t),this._offsets=new a1(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class Zae extends YC{constructor(t){super(t),this._values=new GC(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,aL(n))}_flushPending(t,n){}}Zae.prototype._flushPending=Dae.prototype._flushPending;class EKe extends Kt{visitNull(){return vKe}visitBool(){return nKe}visitInt(){return Ec}visitInt8(){return uKe}visitInt16(){return lKe}visitInt32(){return cKe}visitInt64(){return fKe}visitUint8(){return dKe}visitUint16(){return hKe}visitUint32(){return pKe}visitUint64(){return mKe}visitFloat(){return QC}visitFloat16(){return sKe}visitFloat32(){return oKe}visitFloat64(){return aKe}visitUtf8(){return Zae}visitBinary(){return Dae}visitFixedSizeBinary(){return Fae}visitDate(){return KC}visitDateDay(){return $ae}visitDateMillisecond(){return Lae}visitTimestamp(){return Bg}visitTimestampSecond(){return Wae}visitTimestampMillisecond(){return qae}visitTimestampMicrosecond(){return Gae}visitTimestampNanosecond(){return Yae}visitTime(){return Ug}visitTimeSecond(){return Kae}visitTimeMillisecond(){return Qae}visitTimeMicrosecond(){return Xae}visitTimeNanosecond(){return Jae}visitDecimal(){return Mae}visitList(){return gKe}visitStruct(){return _Ke}visitUnion(){return HL}visitDenseUnion(){return wKe}visitSparseUnion(){return bKe}visitDictionary(){return rKe}visitInterval(){return XC}visitIntervalDayTime(){return jae}visitIntervalYearMonth(){return Bae}visitDuration(){return jg}visitDurationSecond(){return Uae}visitDurationMillisecond(){return Vae}visitDurationMicrosecond(){return zae}visistDurationNanosecond(){return Hae}visitFixedSizeList(){return iKe}visitMap(){return yKe}}const SKe=new EKe;class It extends Kt{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function Ps(e,t){return t instanceof e.constructor}function u1(e,t){return e===t||Ps(e,t)}function Sc(e,t){return e===t||Ps(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function JC(e,t){return e===t||Ps(e,t)&&e.precision===t.precision}function TKe(e,t){return e===t||Ps(e,t)&&e.byteWidth===t.byteWidth}function WL(e,t){return e===t||Ps(e,t)&&e.unit===t.unit}function l1(e,t){return e===t||Ps(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function c1(e,t){return e===t||Ps(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function xKe(e,t){return e===t||Ps(e,t)&&e.children.length===t.children.length&&zf.compareManyFields(e.children,t.children)}function IKe(e,t){return e===t||Ps(e,t)&&e.children.length===t.children.length&&zf.compareManyFields(e.children,t.children)}function qL(e,t){return e===t||Ps(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&zf.compareManyFields(e.children,t.children)}function CKe(e,t){return e===t||Ps(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&zf.visit(e.indices,t.indices)&&zf.visit(e.dictionary,t.dictionary)}function GL(e,t){return e===t||Ps(e,t)&&e.unit===t.unit}function f1(e,t){return e===t||Ps(e,t)&&e.unit===t.unit}function PKe(e,t){return e===t||Ps(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&zf.compareManyFields(e.children,t.children)}function AKe(e,t){return e===t||Ps(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&zf.compareManyFields(e.children,t.children)}It.prototype.visitNull=u1;It.prototype.visitBool=u1;It.prototype.visitInt=Sc;It.prototype.visitInt8=Sc;It.prototype.visitInt16=Sc;It.prototype.visitInt32=Sc;It.prototype.visitInt64=Sc;It.prototype.visitUint8=Sc;It.prototype.visitUint16=Sc;It.prototype.visitUint32=Sc;It.prototype.visitUint64=Sc;It.prototype.visitFloat=JC;It.prototype.visitFloat16=JC;It.prototype.visitFloat32=JC;It.prototype.visitFloat64=JC;It.prototype.visitUtf8=u1;It.prototype.visitBinary=u1;It.prototype.visitFixedSizeBinary=TKe;It.prototype.visitDate=WL;It.prototype.visitDateDay=WL;It.prototype.visitDateMillisecond=WL;It.prototype.visitTimestamp=l1;It.prototype.visitTimestampSecond=l1;It.prototype.visitTimestampMillisecond=l1;It.prototype.visitTimestampMicrosecond=l1;It.prototype.visitTimestampNanosecond=l1;It.prototype.visitTime=c1;It.prototype.visitTimeSecond=c1;It.prototype.visitTimeMillisecond=c1;It.prototype.visitTimeMicrosecond=c1;It.prototype.visitTimeNanosecond=c1;It.prototype.visitDecimal=u1;It.prototype.visitList=xKe;It.prototype.visitStruct=IKe;It.prototype.visitUnion=qL;It.prototype.visitDenseUnion=qL;It.prototype.visitSparseUnion=qL;It.prototype.visitDictionary=CKe;It.prototype.visitInterval=GL;It.prototype.visitIntervalDayTime=GL;It.prototype.visitIntervalYearMonth=GL;It.prototype.visitDuration=f1;It.prototype.visitDurationSecond=f1;It.prototype.visitDurationMillisecond=f1;It.prototype.visitDurationMicrosecond=f1;It.prototype.visitDurationNanosecond=f1;It.prototype.visitFixedSizeList=PKe;It.prototype.visitMap=AKe;const zf=new It;function _k(e,t){return zf.compareSchemas(e,t)}function xx(e){const t=e.type,n=new(SKe.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:u}=a,l=s(a,o);n.children.push(xx(Object.assign(Object.assign({},l),{type:u})))}}return n}function a2(e,t){return OKe(e,t.map(n=>n.data.concat()))}function OKe(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const u=t.length;let l,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)c[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(c=RKe(n,o,c,t,i),o>0&&(r[s++]=es({type:new ss(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new Eo(e,f))]}function RKe(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,u=r.length;++a<u;){const l=n[a],c=l==null?void 0:l.length;if(c>=t)c===t?n[a]=l:(n[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(l.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:es({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var eue;class Ws{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new $n([]),this._offsets=[0],this;let i,s;t[0]instanceof $n&&(i=t.shift()),t.at(-1)instanceof Uint32Array&&(s=t.pop());const o=u=>{if(u){if(u instanceof Eo)return[u];if(u instanceof Ws)return u.batches;if(u instanceof Mn){if(u.type instanceof ss)return[new Eo(new $n(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(l=>o(l));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(l=>o(l));if(typeof u=="object"){const l=Object.keys(u),c=l.map(h=>new xn([u[h]])),f=new $n(l.map((h,p)=>new Nn(String(h),c[p].type))),[,d]=a2(f,c);return d.length===0?[new Eo(u)]:d}}}return[]},a=t.flatMap(u=>o(u));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new $n([]),!(i instanceof $n))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof Eo))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!_k(i,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??vae(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=yae(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?zL.visit(new xn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new Ws(n,r.map(i=>new Eo(n,i)))}slice(t,n){const r=this.schema;[t,n]=pae({length:this.numRows},t,n);const i=_ae(this.data,this._offsets,t,n);return new Ws(r,i.map(s=>new Eo(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=es({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new xn(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new xn([es({type:new rc,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((u,l)=>this.getChildAt(l));[s[t],a[t]]=[o,n],[r,i]=a2(r,a)}return new Ws(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new Ws(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,u,l)=>{const[c,f]=a,d=n.findIndex(h=>h.name===u.name);return~d?f[d]=l:c.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,u)=>[u,i[u]]).map(([a,u])=>u===void 0?this.getChildAt(a):t.getChildAt(u)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new Ws(...a2(s,o))}}eue=Symbol.toStringTag;Ws[eue]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=_m(VL),e.get=_m(lo.getVisitFn(K.Struct)),e.set=bae(ha.getVisitFn(K.Struct)),e.indexOf=wae(yx.getVisitFn(K.Struct)),e.getByteLength=_m(ll.getVisitFn(K.Struct)),"Table"))(Ws.prototype);var tue;let Eo=class ay{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof $n))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=es({nullCount:0,type:new ss(this.schema.fields),children:this.schema.fields.map(n=>es({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Mn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=rH(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((u,l,c)=>(u.children[c]=n[l],u.length=Math.max(u.length,n[l].length),u.fields[c]=Nn.new({name:l,type:n[l].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new $n(r),a=es({type:new ss(r),length:s,children:i,nullCount:0});[this.schema,this.data]=rH(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=nue(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return lo.visit(this.data,t)}set(t,n){return ha.visit(this.data,t,n)}indexOf(t,n){return yx.visit(this.data,t,n)}getByteLength(t){return ll.visit(this.data,t)}[Symbol.iterator](){return zL.visit(new xn([this.data]))}toArray(){return[...this]}concat(...t){return new Ws(this.schema,[this,...t])}slice(t,n){const[r]=new xn([this.data]).slice(t,n).data;return new ay(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new xn([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new xn([es({type:new rc,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new $n(s,new Map(this.schema.metadata)),i=es({type:new ss(s),children:o})}return new ay(r,i)}select(t){const n=this.schema.select(t),r=new ss(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new ay(n,es({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=es({type:new ss(n.fields),length:this.numRows,children:r});return new ay(n,i)}};tue=Symbol.toStringTag;Eo[tue]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Eo.prototype);function rH(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,u]of e.fields.entries()){const l=t[a];(!l||l.length!==n)&&(i[a]=u.clone({nullable:!0}),s[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:es({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),es({type:new ss(i),length:n,children:s})]}function nue(e,t,n=new Map){var r,i;if(((r=e==null?void 0:e.length)!==null&&r!==void 0?r:0)>0&&(e==null?void 0:e.length)===(t==null?void 0:t.length))for(let s=-1,o=e.length;++s<o;){const{type:a}=e[s],u=t[s];for(const l of[u,...((i=u==null?void 0:u.dictionary)===null||i===void 0?void 0:i.data)||[]])nue(a.children,l==null?void 0:l.children,n);if(Vt.isDictionary(a)){const{id:l}=a;if(!n.has(l))u!=null&&u.dictionary&&n.set(l,u.dictionary);else if(n.get(l)!==u.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class NKe extends Eo{constructor(t){const n=t.fields.map(i=>es({type:i.type})),r=es({type:new ss(t.fields),nullCount:0,children:n});super(t,r)}}var Ix;(function(e){e[e.BUFFER=0]="BUFFER"})(Ix||(Ix={}));var Cx;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(Cx||(Cx={}));class Hc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new Hc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+Gn),(n||new Hc).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):Cx.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):Ix.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,Cx.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,Ix.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return Hc.startBodyCompression(t),Hc.addCodec(t,n),Hc.addMethod(t,r),Hc.endBodyCompression(t)}}class rue{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}}let iue=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(BigInt(r??0)),t.writeInt64(BigInt(n??0)),t.offset()}},xl=class bk{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new bk).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+Gn),(n||new bk).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new iue).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new rue).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new Hc).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},wp=class wk{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new wk).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+Gn),(n||new wk).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new xl).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,BigInt("0"))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var Px;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(Px||(Px={}));let kc=class du{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new du).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+Gn),(n||new du).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):sg.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Px.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):BigInt("0")}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new ei).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,sg.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,Px.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return du.startMessage(t),du.addVersion(t,n),du.addHeaderType(t,r),du.addHeader(t,i),du.addBodyLength(t,s),du.addCustomMetadata(t,o),du.endMessage(t)}};class kKe extends Kt{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return Wd.startNull(n),Wd.endNull(n)}visitInt(t,n){return wo.startInt(n),wo.addBitWidth(n,t.bitWidth),wo.addIsSigned(n,t.isSigned),wo.endInt(n)}visitFloat(t,n){return Ou.startFloatingPoint(n),Ou.addPrecision(n,t.precision),Ou.endFloatingPoint(n)}visitBinary(t,n){return Vd.startBinary(n),Vd.endBinary(n)}visitBool(t,n){return zd.startBool(n),zd.endBool(n)}visitUtf8(t,n){return Gd.startUtf8(n),Gd.endUtf8(n)}visitDecimal(t,n){return Us.startDecimal(n),Us.addScale(n,t.scale),Us.addPrecision(n,t.precision),Us.addBitWidth(n,t.bitWidth),Us.endDecimal(n)}visitDate(t,n){return qw.startDate(n),qw.addUnit(n,t.unit),qw.endDate(n)}visitTime(t,n){return Xo.startTime(n),Xo.addUnit(n,t.unit),Xo.addBitWidth(n,t.bitWidth),Xo.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return oy.startTimestamp(n),oy.addUnit(n,t.unit),r!==void 0&&oy.addTimezone(n,r),oy.endTimestamp(n)}visitInterval(t,n){return Ru.startInterval(n),Ru.addUnit(n,t.unit),Ru.endInterval(n)}visitDuration(t,n){return Cu.startDuration(n),Cu.addUnit(n,t.unit),Cu.endDuration(n)}visitList(t,n){return Hd.startList(n),Hd.endList(n)}visitStruct(t,n){return qd.startStruct_(n),qd.endStruct_(n)}visitUnion(t,n){Hs.startTypeIdsVector(n,t.typeIds.length);const r=Hs.createTypeIdsVector(n,t.typeIds);return Hs.startUnion(n),Hs.addMode(n,t.mode),Hs.addTypeIds(n,r),Hs.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return Nl.startDictionaryEncoding(n),Nl.addId(n,BigInt(t.id)),Nl.addIsOrdered(n,t.isOrdered),r!==void 0&&Nl.addIndexType(n,r),Nl.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return Pu.startFixedSizeBinary(n),Pu.addByteWidth(n,t.byteWidth),Pu.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return Au.startFixedSizeList(n),Au.addListSize(n,t.listSize),Au.endFixedSizeList(n)}visitMap(t,n){return Gw.startMap(n),Gw.addKeysSorted(n,t.keysSorted),Gw.endMap(n)}}const u2=new kKe;function DKe(e,t=new Map){return new $n(LKe(e,t),Kw(e.metadata),t)}function sue(e){return new Lo(e.count,oue(e.columns),aue(e.columns))}function $Ke(e){return new cl(sue(e.data),e.id,e.isDelta)}function LKe(e,t){return(e.fields||[]).filter(Boolean).map(n=>Nn.fromJSON(n,t))}function iH(e,t){return(e.children||[]).filter(Boolean).map(n=>Nn.fromJSON(n,t))}function oue(e){return(e||[]).reduce((t,n)=>[...t,new Hf(n.count,MKe(n.VALIDITY)),...oue(n.children)],[])}function aue(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new Mu(t.length,i.VALIDITY.length)),i.TYPE_ID&&t.push(new Mu(t.length,i.TYPE_ID.length)),i.OFFSET&&t.push(new Mu(t.length,i.OFFSET.length)),i.DATA&&t.push(new Mu(t.length,i.DATA.length)),t=aue(i.children,t)}return t}function MKe(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function FKe(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=oH(e,iH(e,t)),i=new Nn(e.name,o,e.nullable,Kw(e.metadata))):t.has(n=s.id)?(r=(r=s.indexType)?sH(r):new Ff,a=new Bf(t.get(n),r,n,s.isOrdered),i=new Nn(e.name,a,e.nullable,Kw(e.metadata))):(r=(r=s.indexType)?sH(r):new Ff,t.set(n,o=oH(e,iH(e,t))),a=new Bf(o,r,n,s.isOrdered),i=new Nn(e.name,a,e.nullable,Kw(e.metadata))),i||null}function Kw(e=[]){return new Map(e.map(({key:t,value:n})=>[t,n]))}function sH(e){return new xs(e.isSigned,e.bitWidth)}function oH(e,t){const n=e.type.name;switch(n){case"NONE":return new rc;case"null":return new rc;case"binary":return new Uv;case"utf8":return new eg;case"bool":return new Vv;case"list":return new rg((t||[])[0]);case"struct":return new ss(t||[]);case"struct_":return new ss(t||[])}switch(n){case"int":{const r=e.type;return new xs(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new jf(Mi[r.precision])}case"decimal":{const r=e.type;return new dx(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new tg(al[r.unit])}case"time":{const r=e.type;return new ic(Et[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new hx(Et[r.unit],r.timezone)}case"interval":{const r=e.type;return new ng(ul[r.unit])}case"duration":{const r=e.type;return new px(Et[r.unit])}case"union":{const r=e.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new zv(uo[o],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new mx(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new ig(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new Hv((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var jKe=Rae,BKe=_x;class Nu{static fromJSON(t,n){const r=new Nu(0,vs.V5,n);return r._createHeader=UKe(t,n),r}static decode(t){t=new BKe(Fn(t));const n=kc.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new Nu(r,i,s);return o._createHeader=VKe(n,s),o}static encode(t){const n=new jKe;let r=-1;return t.isSchema()?r=$n.encode(n,t.header()):t.isRecordBatch()?r=Lo.encode(n,t.header()):t.isDictionaryBatch()&&(r=cl.encode(n,t.header())),kc.startMessage(n),kc.addVersion(n,vs.V5),kc.addHeader(n,r),kc.addHeaderType(n,t.headerType),kc.addBodyLength(n,BigInt(t.bodyLength)),kc.finishMessageBuffer(n,kc.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof $n)return new Nu(0,vs.V5,gi.Schema,t);if(t instanceof Lo)return new Nu(n,vs.V5,gi.RecordBatch,t);if(t instanceof cl)return new Nu(n,vs.V5,gi.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===gi.Schema}isRecordBatch(){return this.headerType===gi.RecordBatch}isDictionaryBatch(){return this.headerType===gi.DictionaryBatch}constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=eu(t)}}class Lo{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=eu(t)}}class cl{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=eu(n)}}class Mu{constructor(t,n){this.offset=eu(t),this.length=eu(n)}}class Hf{constructor(t,n){this.length=eu(t),this.nullCount=eu(n)}}function UKe(e,t){return()=>{switch(t){case gi.Schema:return $n.fromJSON(e);case gi.RecordBatch:return Lo.fromJSON(e);case gi.DictionaryBatch:return cl.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${gi[t]}, type: ${t} }`)}}function VKe(e,t){return()=>{switch(t){case gi.Schema:return $n.decode(e.header(new yu),new Map,e.version());case gi.RecordBatch:return Lo.decode(e.header(new xl),e.version());case gi.DictionaryBatch:return cl.decode(e.header(new wp),e.version())}throw new Error(`Unrecognized Message type: { name: ${gi[t]}, type: ${t} }`)}}Nn.encode=ZKe;Nn.decode=XKe;Nn.fromJSON=FKe;$n.encode=JKe;$n.decode=zKe;$n.fromJSON=DKe;Lo.encode=eQe;Lo.decode=HKe;Lo.fromJSON=sue;cl.encode=tQe;cl.decode=WKe;cl.fromJSON=$Ke;Hf.encode=nQe;Hf.decode=GKe;Mu.encode=rQe;Mu.decode=qKe;function zKe(e,t=new Map,n=vs.V5){const r=QKe(e,t);return new $n(r,Qw(e),t,n)}function HKe(e,t=vs.V5){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new Lo(e.length(),YKe(e),KKe(e,t))}function WKe(e,t=vs.V5){return new cl(Lo.decode(e.data(),t),e.id(),e.isDelta())}function qKe(e){return new Mu(e.offset(),e.length())}function GKe(e){return new Hf(e.length(),e.nullCount())}function YKe(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=Hf.decode(n));return t}function KKe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<vs.V4&&(r.bb_pos+=8*(i+1)),n[++s]=Mu.decode(r));return n}function QKe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=Nn.decode(r,t));return n}function aH(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=Nn.decode(r,t));return n}function XKe(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=lH(e,aH(e,t)),r=new Nn(e.name(),i,e.nullable(),Qw(e))):t.has(n=eu(a.id()))?(s=(s=a.indexType())?uH(s):new Ff,o=new Bf(t.get(n),s,n,a.isOrdered()),r=new Nn(e.name(),o,e.nullable(),Qw(e))):(s=(s=a.indexType())?uH(s):new Ff,t.set(n,i=lH(e,aH(e,t))),o=new Bf(i,s,n,a.isOrdered()),r=new Nn(e.name(),o,e.nullable(),Qw(e))),r||null}function Qw(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function uH(e){return new xs(e.isSigned(),e.bitWidth())}function lH(e,t){const n=e.typeType();switch(n){case dr.NONE:return new rc;case dr.Null:return new rc;case dr.Binary:return new Uv;case dr.Utf8:return new eg;case dr.Bool:return new Vv;case dr.List:return new rg((t||[])[0]);case dr.Struct_:return new ss(t||[])}switch(n){case dr.Int:{const r=e.type(new wo);return new xs(r.isSigned(),r.bitWidth())}case dr.FloatingPoint:{const r=e.type(new Ou);return new jf(r.precision())}case dr.Decimal:{const r=e.type(new Us);return new dx(r.scale(),r.precision(),r.bitWidth())}case dr.Date:{const r=e.type(new qw);return new tg(r.unit())}case dr.Time:{const r=e.type(new Xo);return new ic(r.unit(),r.bitWidth())}case dr.Timestamp:{const r=e.type(new oy);return new hx(r.unit(),r.timezone())}case dr.Interval:{const r=e.type(new Ru);return new ng(r.unit())}case dr.Duration:{const r=e.type(new Cu);return new px(r.unit())}case dr.Union:{const r=e.type(new Hs);return new zv(r.mode(),r.typeIdsArray()||[],t||[])}case dr.FixedSizeBinary:{const r=e.type(new Pu);return new mx(r.byteWidth())}case dr.FixedSizeList:{const r=e.type(new Au);return new ig(r.listSize(),(t||[])[0])}case dr.Map:{const r=e.type(new Gw);return new Hv((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${dr[n]}" (${n})`)}function JKe(e,t){const n=t.fields.map(s=>Nn.encode(e,s));yu.startFieldsVector(e,n.length);const r=yu.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?yu.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),u=e.createString(`${o}`);return ei.startKeyValue(e),ei.addKey(e,a),ei.addValue(e,u),ei.endKeyValue(e)})):-1;return yu.startSchema(e),yu.addFields(e,r),yu.addEndianness(e,iQe?og.Little:og.Big),i!==-1&&yu.addCustomMetadata(e,i),yu.endSchema(e)}function ZKe(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;Vt.isDictionary(s)?(o=s.dictionary.typeId,i=u2.visit(s,e),r=u2.visit(s.dictionary,e)):r=u2.visit(s,e);const a=(s.children||[]).map(c=>Nn.encode(e,c)),u=Wo.createChildrenVector(e,a),l=t.metadata&&t.metadata.size>0?Wo.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return ei.startKeyValue(e),ei.addKey(e,d),ei.addValue(e,h),ei.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Wo.startField(e),Wo.addType(e,r),Wo.addTypeType(e,o),Wo.addChildren(e,u),Wo.addNullable(e,!!t.nullable),n!==-1&&Wo.addName(e,n),i!==-1&&Wo.addDictionary(e,i),l!==-1&&Wo.addCustomMetadata(e,l),Wo.endField(e)}function eQe(e,t){const n=t.nodes||[],r=t.buffers||[];xl.startNodesVector(e,n.length);for(const o of n.slice().reverse())Hf.encode(e,o);const i=e.endVector();xl.startBuffersVector(e,r.length);for(const o of r.slice().reverse())Mu.encode(e,o);const s=e.endVector();return xl.startRecordBatch(e),xl.addLength(e,BigInt(t.length)),xl.addNodes(e,i),xl.addBuffers(e,s),xl.endRecordBatch(e)}function tQe(e,t){const n=Lo.encode(e,t.data);return wp.startDictionaryBatch(e),wp.addId(e,BigInt(t.id)),wp.addIsDelta(e,t.isDelta),wp.addData(e,n),wp.endDictionaryBatch(e)}function nQe(e,t){return iue.createFieldNode(e,BigInt(t.length),BigInt(t.nullCount))}function rQe(e,t){return rue.createBuffer(e,BigInt(t.offset),BigInt(t.length))}const iQe=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),Ek="ARROW1",YL=new Uint8Array(Ek.length);for(let e=0;e<Ek.length;e+=1)YL[e]=Ek.codePointAt(e);YL.length;class Br extends Kt{static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof Eo?s.data.children:s.data),r=new Br;return r.visitMany(n(t)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(t){if(t instanceof xn)return this.visitMany(t.data),this;const{type:n}=t;if(!Vt.isDictionary(n)){const{length:r}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(Vt.isUnion(n))this.nodes.push(new Hf(r,0));else{const{nullCount:i}=t;Vt.isNull(n)||Ya.call(this,i<=0?new Uint8Array(0):gx(t.offset,r,t.nullBitmap)),this.nodes.push(new Hf(r,i))}}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Ya(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new Mu(this._byteLength,t)),this._byteLength+=t,this}function sQe(e){var t;const{type:n,length:r,typeIds:i,valueOffsets:s}=e;if(Ya.call(this,i),n.mode===uo.Sparse)return Sk.call(this,e);if(n.mode===uo.Dense){if(e.offset<=0)return Ya.call(this,s),Sk.call(this,e);{const o=new Int32Array(r),a=Object.create(null),u=Object.create(null);for(let l,c,f=-1;++f<r;)(l=i[f])!==void 0&&((c=a[l])===void 0&&(c=a[l]=s[f]),o[f]=s[f]-c,u[l]=((t=u[l])!==null&&t!==void 0?t:0)+1);Ya.call(this,o),this.visitMany(e.children.map((l,c)=>{const f=n.typeIds[c],d=a[f],h=u[f];return l.slice(d,Math.min(r,h))}))}}return this}function oQe(e){let t;return e.nullCount>=e.length?Ya.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Ya.call(this,gx(e.offset,e.length,t)):Ya.call(this,gae(e.values))}function Tc(e){return Ya.call(this,e.values.subarray(0,e.length*e.stride))}function uue(e){const{length:t,values:n,valueOffsets:r}=e,{[0]:i,[t]:s}=r,o=Math.min(s-i,n.byteLength-i);return Ya.call(this,coe(-i,t+1,r)),Ya.call(this,n.subarray(i,i+o)),this}function KL(e){const{length:t,valueOffsets:n}=e;if(n){const{[0]:r,[t]:i}=n;return Ya.call(this,coe(-r,t+1,n)),this.visit(e.children[0].slice(r,i-r))}return this.visit(e.children[0])}function Sk(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Br.prototype.visitBool=oQe;Br.prototype.visitInt=Tc;Br.prototype.visitFloat=Tc;Br.prototype.visitUtf8=uue;Br.prototype.visitBinary=uue;Br.prototype.visitFixedSizeBinary=Tc;Br.prototype.visitDate=Tc;Br.prototype.visitTimestamp=Tc;Br.prototype.visitTime=Tc;Br.prototype.visitDecimal=Tc;Br.prototype.visitList=KL;Br.prototype.visitStruct=Sk;Br.prototype.visitUnion=sQe;Br.prototype.visitInterval=Tc;Br.prototype.visitDuration=Tc;Br.prototype.visitFixedSizeList=KL;Br.prototype.visitMap=KL;class lue extends kae{static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}constructor(t){super(),this._position=0,this._started=!1,this._sink=new o2,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,id(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return zC(t)?t.then(n=>this.writeAll(n)):HC(t)?ZL(this,t):JL(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof o2?this._sink=t:(this._sink=new o2,t&&dGe(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&hGe(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!_k(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Ws&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof Eo&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!_k(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof Eo?t instanceof NKe||this._writeRecordBatch(t):t instanceof Ws?this.writeAll(t.batches):uL(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=Nu.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,u=a-s-o;return t.headerType===gi.RecordBatch?this._recordBatchBlocks.push(new Vf(a,t.bodyLength,this._position)):t.headerType===gi.DictionaryBatch&&this._dictionaryBlocks.push(new Vf(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(u)}_write(t){if(this._started){const n=Fn(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(Nu.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(YL)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Br.assemble(t),o=new Lo(t.numRows,r,i),a=Nu.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Br.assemble(new xn([t])),u=new Lo(t.length,s,o),l=new cl(u,n,r),c=Nu.from(l,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class QL extends lue{static writeAll(t,n){const r=new QL(n);return zC(t)?t.then(i=>r.writeAll(i)):HC(t)?ZL(r,t):JL(r,t)}}class XL extends lue{static writeAll(t){const n=new XL;return zC(t)?t.then(r=>n.writeAll(r)):HC(t)?ZL(n,t):JL(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=vk.encode(new vk(t,vs.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function JL(e,t){let n=t;t instanceof Ws&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function ZL(e,t){var n,r,i,s,o,a,u;return Ol(this,void 0,void 0,function*(){try{for(n=!0,r=Uy(t);i=yield r.next(),s=i.done,!s;n=!0){u=i.value,n=!1;const l=u;e.write(l)}}catch(l){o={error:l}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return e.finish()})}function aQe(e,t="stream"){return(t==="stream"?QL:XL).writeAll(e).toUint8Array(!0)}function eM(e,t=1){return(e*t+63&-64||64)/t}function Wf(e,t,n=e.BYTES_PER_ELEMENT){return new e(eM(t,n))}function tM(e){return e instanceof Mn?e:new Mn(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function uQe(e){return new xn([tM(e)])}const nM=new TextEncoder;function lQe(e,t,n){const r=nM.encode(n);return e.set(r,t),r.length}function cQe(e,t,n){return nM.encodeInto(n,e.subarray(t)).written}const fQe=nM.encodeInto?cQe:lQe;function cH(e,t){const n=Wf(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function dQe(e,t){const n=Wf(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function hQe(e,t){const n=Wf(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function pQe(e,t){const n=Wf(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function mQe(e){const t=xx({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function gQe(e,t,n){const r=Wf(Int32Array,t+1),i=Wf(Uint8Array,3*n);let s=0;return{set(o,a){s+=fQe(i,s,o),r[a+1]=s},data:()=>{const o=eM(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function yQe(e,t){const n=[],r=Wf(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,u){const l=String(a);let c=i[l];c===void 0&&(o+=l.length,i[l]=c=++s,n.push(l)),r[u]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:vQe(e.dictionary,n,o)})}}function vQe(e,t,n){const r=gQe(e,t.length,n);return t.forEach(r.set),uQe(r.data())}function _Qe(e,t){const n=Wf(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function bQe(e,t,n=!0){let r;switch(e.typeId){case K.Int:r=e.bitWidth<64?cH:null;break;case K.Float:r=e.precision>0?cH:null;break;case K.Dictionary:r=e.dictionary.typeId===K.Utf8&&e.indices.typeId===K.Int&&e.indices.bitWidth<64?yQe:null;break;case K.Bool:r=dQe;break;case K.Date:r=e.unit?pQe:hQe;break}return r==null?mQe(e):n?_Qe(r(e,t),t):r(e,t)}function wQe(e,t){const n=e.length,r=eM(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),tM({type:t,length:n,buffers:[null,i]})}function cue(e,t,n,r,i=!0){const s=bQe(r,e,i);return t(n,s.set),tM(s.data())}function rM(e){if(e instanceof Vt||e==null)return e;switch(e){case K.Binary:return new Uv;case K.Bool:return new Vv;case K.DateDay:return new PGe;case K.DateMillisecond:case K.Date:return new AGe;case K.Dictionary:return new Bf(new eg,new Ff);case K.Float16:return new Noe;case K.Float32:return new vL;case K.Float64:case K.Float:return new _L;case K.Int8:return new fL;case K.Int16:return new dL;case K.Int32:case K.Int:return new Ff;case K.Int64:return new hL;case K.IntervalDayTime:return new DGe;case K.Interval:case K.IntervalYearMonth:return new $Ge;case K.Null:return new rc;case K.TimeMicrosecond:return new NGe;case K.TimeMillisecond:case K.Time:return new RGe;case K.TimeNanosecond:return new kGe;case K.TimeSecond:return new OGe;case K.Uint8:return new pL;case K.Uint16:return new mL;case K.Uint32:return new gL;case K.Uint64:return new yL;case K.Utf8:return new eg;default:Yt(`Unsupported type code: ${sl(e)}. Use a data type constructor instead?`)}}function EQe(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function fue(e,t){const n=Tk();return e(t,n.add),n}function Tk(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(nc(t))++e.dates,EQe(t)&&++e.utcdays;else if(Bd(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=Tk());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=Tk())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return rM(SQe(e))}};return e}function SQe(e){const t=e.count-e.nulls;if(t===0)return K.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?K.Float64:n<128?K.Int8:n<32768?K.Int16:K.Int32:n>=2**32?K.Float64:n<256?K.Uint8:n<65536?K.Uint16:K.Uint32}else{if(e.nums===t)return K.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?K.Int64:Yt(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?K.Uint64:Yt(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return K.Bool;if(e.utcdays===t)return K.DateDay;if(e.dates===t)return K.DateMillisecond;if(e.arrays===t){const n=Nn.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new ig(e.minlen,n):new rg(n)}else if(e.structs===t){const n=e.struct_prof;return new ss(Object.keys(n).map(r=>Nn.new(r,n[r].type(),!0)))}else{if(e.strings>0)return K.Dictionary;Yt("Type inference failure")}}}}function TQe(e,t,n,r,i,s=!0){if(i=rM(i),!i){const o=fue(r,t);s=o.nulls>0,i=o.type()}return cue(n,r,t,i,s)}function xQe(e,t,n,r,i,s=!0){i=rM(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),u=IQe(o);if(u&&a&&fH(u.type,i))return u;const l=o.data;if(s1(l)){const c=CQe(l);if(a&&c&&fH(c,i))return wQe(l,c);i=i||c,s=!1}if(!i){const c=fue(r,o);s=c.nulls>0,i=c.type()}return cue(n,r,o,i,s)}function IQe(e){return e instanceof xn?e:e.vector instanceof xn?e.vector:null}function CQe(e){const n={Float32Array:vL,Float64Array:_L,Int8Array:fL,Int16Array:dL,Int32Array:Ff,Uint8Array:pL,Uint16Array:mL,Uint32Array:gL,BigInt64Array:hL,BigUint64Array:yL}[e.constructor.name];return n?new n:null}function fH(e,t){return!e||!t?!0:e.compareTo(t)}function PQe(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function AQe(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&Bd(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const OQe=()=>Yt("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function RQe(){try{return Ws}catch{OQe()}}function due(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=NQe(e,t),a={};i.forEach(l=>{const c=r(e,l,s,o,n[l]);c.length!==s&&Yt("Column length mismatch"),a[l]=c});const u=RQe();return new u(a)}function NQe(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=ar(n)?n(e):Tn(n)?n:null;if(Tn(e))return{dataFrom:TQe,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:PQe(e,r,i)};if(kQe(e))return{dataFrom:xQe,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:AQe(e,r,i)};Yt("Unsupported input data type")}function kQe(e){return e&&ar(e.reify)}function DQe(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return aQe(due(e,r),n)}function $Qe(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function LQe(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(u=>{if(++n,u==null){++r;return}const l=typeof u;if(l==="object"&&nc(u))++i,$Qe(u)&&++s;else if(l==="number"&&(++o,u===u&&(u|0)!==u)){const c=u+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function ZC(e,t){return ar(t)?t(e):t||e.columnNames()}function hue(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const u=LQe(MQe(e,a),n);o[a]=i[a]||u.align,s[a]=r[a]||u.format}),{align:o,format:s}}function MQe(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function iM(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let u=0;u<o;++u){const l=t[u];i.cell(s[t[u]].get(a),l,u)}},!0,n,r)}function FQe(e,t={}){const n=ZC(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=l=>l==null?"":nc(l)?UC(l,!0):s.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l,a=n.map(o);let u="";return iM(e,n,t.limit||1/0,t.offset,{row(){u+=a.join(i)+`
`},cell(l,c,f){a[f]=o(r[c]?r[c](l):l)}}),u+a.join(i)}function pue(e,t={}){if(ar(t))return t(e)+"";const n=typeof e;if(n==="object"){if(nc(e))return t.utc?UC(e):Lse(e);{const r=JSON.stringify(e,(s,o)=>s1(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function eP(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function jQe(e,t={}){const n=ZC(e,t.columns),{align:r,format:i}=hue(e,n,t),s=BQe(t),o=t.null,a=m=>m==="c"?"center":m==="r"?"right":"left",u=m=>m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=(m,y)=>u(pue(m,y)),c=o?(m,y)=>m==null?o(m):l(m,y):l;let f=-1,d=-1;const h=(m,y,g)=>{const v=g?a(r[y]):"",_=s[m]&&s[m](y,d,f)||"",S=(v?`text-align: ${v};`+(_?" ":""):"")+_;return`<${m}${S?` style="${S}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(m=>`${h("th",m,1)}${m}</th>`).join("")+"</tr></thead>"+h("tbody");return iM(e,n,t.limit,t.offset,{row(m){f=m,p+=(++d?"</tr>":"")+h("tr")},cell(m,y){p+=h("td",y,1)+c(m,i[y])+"</td>"}}),p+"</tr></tbody></table>"}function BQe(e){return eP(e.style,t=>ar(t)?t:()=>t)}function UQe(e,t=!0,n=!1){return e===void 0||e?t:n}const VQe=e=>nc(e)?UC(e,!0):e;function zQe(e,t={}){const n=UQe(t.schema),r=t.format||{},i=ZC(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const u=e.column(o),l=r[o]||VQe;let c=-1;e.scan(f=>{const d=u.get(f);s+=(++c?",":"")+JSON.stringify(l(d))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function HQe(e,t={}){const n=ZC(e,t.columns),{align:r,format:i}=hue(e,n,t),s=u=>u==="c"?":-:":u==="r"?"-:":":-",o=u=>u.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(u=>s(r[u])).join("|")+"|";return iM(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(u,l){a+=o(pue(u,i[l]))+"|"}}),a+`
`}function mue(e,t){for(const[n,r]of VC(t))e.set(n,r);return e}function WQe(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function sc(e,t,n=new Map){return t=Ts(t)?e.columnName(t):t,zi(t)?n.set(t,t):Tn(t)?t.forEach(r=>sc(e,r,n)):ar(t)?sc(e,t(e),n):ls(t)?mue(n,t):Yt(`Invalid column selection: ${sl(t)}`),n}function tP(e,t){return e.toObject=t,e}function gue(e){return Tn(e)?e.map(gue):e&&e.toObject?e.toObject():e}function ag(){return tP(e=>e.columnNames(),()=>({all:[]}))}function yue(...e){return e=e.flat(),tP(t=>{const n=sc(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:gue(e)}))}function qQe(e,t){return tP(n=>{let r=Ts(e)?e:n.columnIndex(e),i=Ts(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function GQe(e){return zi(e)&&(e=RegExp(WQe(e))),tP(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function YQe(e){return s1(e.data)?e.data.constructor:Array}class kl extends fqe{static from(t,n){return new kl(pqe(t,n),n)}static new(t,n){if(t instanceof kl)return t;const r={},i=[];for(const[s,o]of VC(t))r[s]=o,i.push(s);return new kl(r,n||i)}constructor(t,n,r,i,s,o){eP(t,hqe,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new kl(t||this._data,n||(t?null:this._names),o,i!==void 0?i:zqe(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=Uo(r).groupby(r.groups());return t.forEach(s=>{s=kl.new(s),s.numRows()!==n&&Yt("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):Yt(`Unrecognized column: ${t}`)}object(t=0){return dH(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=sc(this,t.columns||ag()),o=aoe(s),a=[];if(this.scan((u,l)=>a.push(o(u,l)),!0,r,i),n&&this.isGrouped()){const u=[];return this.scan(l=>u.push(l),!0,r,i),Wqe(this,u,a,n)}return a}*[Symbol.iterator](){const t=dH(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?u=>t.forEach(u):u=>this.scan(u,!0),a=r.length;i={};for(let u=0;u<a;++u){const l=r[u],c=this.column(l),f=i[l]=new(YQe(c))(n);let d=-1;o(h=>f[++d]=c.get(h))}this.isGrouped()&&(s=Hqe(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return due(this,t)}toArrowBuffer(t){return DQe(this,t)}toCSV(t){return FQe(this,t)}toHTML(t){return jQe(this,t)}toJSON(t){return zQe(this,t)}toMarkdown(t){return HQe(this,t)}}function dH(e){let t=e._builder;if(!t){const n=aoe(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class KQe{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function yn(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=QQe[e.type];s&&s(e,t,n)}const Hb=(e,t,n)=>{yn(e.argument,t,n,e)},l2=(e,t,n)=>{yn(e.left,t,n,e),yn(e.right,t,n,e)},hH=(e,t,n)=>{yn(e.test,t,n,e),yn(e.consequent,t,n,e),e.alternate&&yn(e.alternate,t,n,e)},c2=(e,t,n)=>{vu(e.params,t,n,e),yn(e.body,t,n,e)},pH=(e,t,n)=>{yn(e.callee,t,n,e),vu(e.arguments,t,n,e)},vu=(e,t,n,r)=>{e.forEach(i=>yn(i,t,n,r))},QQe={TemplateLiteral:(e,t,n)=>{vu(e.expressions,t,n,e),vu(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{yn(e.object,t,n,e),yn(e.property,t,n,e)},CallExpression:pH,NewExpression:pH,ArrayExpression:(e,t,n)=>{vu(e.elements,t,n,e)},AssignmentExpression:l2,AwaitExpression:Hb,BinaryExpression:l2,LogicalExpression:l2,UnaryExpression:Hb,UpdateExpression:Hb,ConditionalExpression:hH,ObjectExpression:(e,t,n)=>{vu(e.properties,t,n,e)},Property:(e,t,n)=>{yn(e.key,t,n,e),yn(e.value,t,n,e)},ArrowFunctionExpression:c2,FunctionExpression:c2,FunctionDeclaration:c2,VariableDeclaration:(e,t,n)=>{vu(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{yn(e.id,t,n,e),yn(e.init,t,n,e)},SpreadElement:(e,t,n)=>{yn(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{vu(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{yn(e.expression,t,n,e)},IfStatement:hH,ForStatement:(e,t,n)=>{yn(e.init,t,n,e),yn(e.test,t,n,e),yn(e.update,t,n,e),yn(e.body,t,n,e)},WhileStatement:(e,t,n)=>{yn(e.test,t,n,e),yn(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{yn(e.body,t,n,e),yn(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{yn(e.discriminant,t,n,e),vu(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&yn(e.test,t,n,e),vu(e.consequent,t,n,e)},ReturnStatement:Hb,Program:(e,t,n)=>{yn(e.body[0],t,n,e)}};function vue(e){delete e.start,delete e.end,delete e.optional}function mH(e){vue(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function XQe(e){return yn(e,null,{Column:mH,Constant:mH,Default:vue}),e}function ni(e,t){return t&&t.type===e}function JQe(e){return ni(Yqe,e)||ni(Gqe,e)}function ZQe(e){return ar(e)?e:()=>e}const eXe="Escaped functions are not valid as rollup or pivot values.";function tXe(e,t,n){e.aggronly&&Yt(eXe);const r="(row,data)=>fn("+ooe(e.table.columnNames())+",$)";return{escape:sL.escape(r,ZQe(t.expr),n)}}var nXe=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],_ue=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],rXe="-----------------------------------------------------------------------------------------------------------------------------------------------------",bue="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",f2={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},d2="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",iXe={5:d2,"5module":d2+" export import",6:d2+" const class extends export import super"},sXe=/^in(stanceof)?$/,oXe=new RegExp("["+bue+"]"),aXe=new RegExp("["+bue+rXe+"]");function xk(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function oc(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&oXe.test(String.fromCharCode(e)):t===!1?!1:xk(e,_ue)}function ug(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&aXe.test(String.fromCharCode(e)):t===!1?!1:xk(e,_ue)||xk(e,nXe)}var _n=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function zo(e,t){return new _n(e,{beforeExpr:!0,binop:t})}var Ho={beforeExpr:!0},ks={startsExpr:!0},sM={};function ln(e,t){return t===void 0&&(t={}),t.keyword=e,sM[e]=new _n(e,t)}var D={num:new _n("num",ks),regexp:new _n("regexp",ks),string:new _n("string",ks),name:new _n("name",ks),privateId:new _n("privateId",ks),eof:new _n("eof"),bracketL:new _n("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new _n("]"),braceL:new _n("{",{beforeExpr:!0,startsExpr:!0}),braceR:new _n("}"),parenL:new _n("(",{beforeExpr:!0,startsExpr:!0}),parenR:new _n(")"),comma:new _n(",",Ho),semi:new _n(";",Ho),colon:new _n(":",Ho),dot:new _n("."),question:new _n("?",Ho),questionDot:new _n("?."),arrow:new _n("=>",Ho),template:new _n("template"),invalidTemplate:new _n("invalidTemplate"),ellipsis:new _n("...",Ho),backQuote:new _n("`",ks),dollarBraceL:new _n("${",{beforeExpr:!0,startsExpr:!0}),eq:new _n("=",{beforeExpr:!0,isAssign:!0}),assign:new _n("_=",{beforeExpr:!0,isAssign:!0}),incDec:new _n("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new _n("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:zo("||",1),logicalAND:zo("&&",2),bitwiseOR:zo("|",3),bitwiseXOR:zo("^",4),bitwiseAND:zo("&",5),equality:zo("==/!=/===/!==",6),relational:zo("</>/<=/>=",7),bitShift:zo("<</>>/>>>",8),plusMin:new _n("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:zo("%",10),star:zo("*",10),slash:zo("/",10),starstar:new _n("**",{beforeExpr:!0}),coalesce:zo("??",1),_break:ln("break"),_case:ln("case",Ho),_catch:ln("catch"),_continue:ln("continue"),_debugger:ln("debugger"),_default:ln("default",Ho),_do:ln("do",{isLoop:!0,beforeExpr:!0}),_else:ln("else",Ho),_finally:ln("finally"),_for:ln("for",{isLoop:!0}),_function:ln("function",ks),_if:ln("if"),_return:ln("return",Ho),_switch:ln("switch"),_throw:ln("throw",Ho),_try:ln("try"),_var:ln("var"),_const:ln("const"),_while:ln("while",{isLoop:!0}),_with:ln("with"),_new:ln("new",{beforeExpr:!0,startsExpr:!0}),_this:ln("this",ks),_super:ln("super",ks),_class:ln("class",ks),_extends:ln("extends",Ho),_export:ln("export"),_import:ln("import",ks),_null:ln("null",ks),_true:ln("true",ks),_false:ln("false",ks),_in:ln("in",{beforeExpr:!0,binop:7}),_instanceof:ln("instanceof",{beforeExpr:!0,binop:7}),_typeof:ln("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:ln("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:ln("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Ea=/\r\n?|\n|\u2028|\u2029/,uXe=new RegExp(Ea.source,"g");function Vg(e){return e===10||e===13||e===8232||e===8233}function wue(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(Vg(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var Eue=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Jo=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Sue=Object.prototype,lXe=Sue.hasOwnProperty,cXe=Sue.toString,d1=Object.hasOwn||function(e,t){return lXe.call(e,t)},gH=Array.isArray||function(e){return cXe.call(e)==="[object Array]"},yH=Object.create(null);function sf(e){return yH[e]||(yH[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function qf(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var fXe=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Wv=function(t,n){this.line=t,this.column=n};Wv.prototype.offset=function(t){return new Wv(this.line,this.column+t)};var nP=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function Tue(e,t){for(var n=1,r=0;;){var i=wue(e,r,t);if(i<0)return new Wv(n,t-r);++n,r=i}}var Ik={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},vH=!1;function dXe(e){var t={};for(var n in Ik)t[n]=e&&d1(e,n)?e[n]:Ik[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!vH&&typeof console=="object"&&console.warn&&(vH=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),gH(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return gH(t.onComment)&&(t.onComment=hXe(t,t.onComment)),t}function hXe(e,t){return function(n,r,i,s,o,a){var u={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(u.loc=new nP(this,o,a)),e.ranges&&(u.range=[i,s]),t.push(u)}}var qv=1,zg=2,oM=4,xue=8,Iue=16,Cue=32,aM=64,Pue=128,h1=256,uM=qv|zg|h1;function lM(e,t){return zg|(e?oM:0)|(t?xue:0)}var Ax=0,cM=1,xc=2,Aue=3,Oue=4,Rue=5,ai=function(t,n,r){this.options=t=dXe(t),this.sourceFile=t.sourceFile,this.keywords=sf(iXe[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=f2[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=sf(i);var s=(i?i+" ":"")+f2.strict;this.reservedWordsStrict=sf(s),this.reservedWordsStrictBind=sf(s+" "+f2.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Ea).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=D.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(qv),this.regexpState=null,this.privateNameStack=[]},_l={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ai.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};_l.inFunction.get=function(){return(this.currentVarScope().flags&zg)>0};_l.inGenerator.get=function(){return(this.currentVarScope().flags&xue)>0&&!this.currentVarScope().inClassFieldInit};_l.inAsync.get=function(){return(this.currentVarScope().flags&oM)>0&&!this.currentVarScope().inClassFieldInit};_l.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&h1)return!1;if(t.flags&zg)return(t.flags&oM)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};_l.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&aM)>0||n||this.options.allowSuperOutsideMethod};_l.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Pue)>0};_l.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};_l.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(zg|h1))>0||n};_l.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&h1)>0};ai.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};ai.parse=function(t,n){return new this(n,t).parse()};ai.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};ai.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(ai.prototype,_l);var As=ai.prototype,pXe=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;As.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){Jo.lastIndex=e,e+=Jo.exec(this.input)[0].length;var t=pXe.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){Jo.lastIndex=e+t[0].length;var n=Jo.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||Ea.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,Jo.lastIndex=e,e+=Jo.exec(this.input)[0].length,this.input[e]===";"&&e++}};As.eat=function(e){return this.type===e?(this.next(),!0):!1};As.isContextual=function(e){return this.type===D.name&&this.value===e&&!this.containsEsc};As.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};As.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};As.canInsertSemicolon=function(){return this.type===D.eof||this.type===D.braceR||Ea.test(this.input.slice(this.lastTokEnd,this.start))};As.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};As.semicolon=function(){!this.eat(D.semi)&&!this.insertSemicolon()&&this.unexpected()};As.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};As.expect=function(e){this.eat(e)||this.unexpected()};As.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var rP=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};As.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};As.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};As.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};As.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var mt=ai.prototype;mt.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==D.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var fM={kind:"loop"},mXe={kind:"switch"};mt.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Jo.lastIndex=this.pos;var t=Jo.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(oc(r,!0)){for(var i=n+1;ug(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!sXe.test(s))return!0}return!1};mt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Jo.lastIndex=this.pos;var e=Jo.exec(this.input),t=this.pos+e[0].length,n;return!Ea.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(ug(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};mt.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=D._var,s="let"),r){case D._break:case D._continue:return this.parseBreakContinueStatement(i,r.keyword);case D._debugger:return this.parseDebuggerStatement(i);case D._do:return this.parseDoStatement(i);case D._for:return this.parseForStatement(i);case D._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case D._class:return e&&this.unexpected(),this.parseClass(i,!0);case D._if:return this.parseIfStatement(i);case D._return:return this.parseReturnStatement(i);case D._switch:return this.parseSwitchStatement(i);case D._throw:return this.parseThrowStatement(i);case D._try:return this.parseTryStatement(i);case D._const:case D._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case D._while:return this.parseWhileStatement(i);case D._with:return this.parseWithStatement(i);case D.braceL:return this.parseBlock(!0,i);case D.semi:return this.parseEmptyStatement(i);case D._export:case D._import:if(this.options.ecmaVersion>10&&r===D._import){Jo.lastIndex=this.pos;var o=Jo.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===D._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return r===D.name&&c.type==="Identifier"&&this.eat(D.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}};mt.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(D.semi)||this.insertSemicolon()?e.label=null:this.type!==D.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};mt.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};mt.parseDoStatement=function(e){return this.next(),this.labels.push(fM),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(D._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(D.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};mt.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(fM),this.enterScope(0),this.expect(D.parenL),this.type===D.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===D._var||this.type===D._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===D._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===D._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new rP,u=this.parseExpression(t>-1?"await":!0,a);return this.type===D._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===D._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))};mt.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,zy|(n?0:Ck),!1,t)};mt.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(D._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};mt.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(D.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};mt.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(D.braceL),this.labels.push(mXe),this.enterScope(0);for(var t,n=!1;this.type!==D.braceR;)if(this.type===D._case||this.type===D._default){var r=this.type===D._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(D.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};mt.parseThrowStatement=function(e){return this.next(),Ea.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var gXe=[];mt.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?Cue:0),this.checkLValPattern(e,t?Oue:xc),this.expect(D.parenR),e};mt.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===D._catch){var t=this.startNode();this.next(),this.eat(D.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(D._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};mt.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};mt.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(fM),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};mt.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};mt.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};mt.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===D._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};mt.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};mt.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(D.braceL),e&&this.enterScope(0);this.type!==D.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};mt.parseFor=function(e,t){return e.init=t,this.expect(D.semi),e.test=this.type===D.semi?null:this.parseExpression(),this.expect(D.semi),e.update=this.type===D.parenR?null:this.parseExpression(),this.expect(D.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};mt.parseForIn=function(e,t){var n=this.type===D._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(D.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};mt.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(D.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===D._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===D._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(D.comma))break}return e};mt.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?cM:xc,!1)};var zy=1,Ck=2,Nue=4;mt.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===D.star&&t&Ck&&this.unexpected(),e.generator=this.eat(D.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&zy&&(e.id=t&Nue&&this.type!==D.name?null:this.parseIdent(),e.id&&!(t&Ck)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?cM:xc:Aue));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(lM(e.async,e.generator)),t&zy||(e.id=this.type===D.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&zy?"FunctionDeclaration":"FunctionExpression")};mt.parseFunctionParams=function(e){this.expect(D.parenL),e.params=this.parseBindingList(D.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};mt.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(D.braceL);this.type!==D.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&yXe(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};mt.parseClassElement=function(e){if(this.eat(D.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(D.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===D.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===D.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(D.star)&&(i=!0),!r&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===D.parenL||o!=="method"||i||s){var l=!n.static&&Ox(n,"constructor"),c=l&&e;l&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};mt.isClassElementNameStart=function(){return this.type===D.name||this.type===D.privateId||this.type===D.num||this.type===D.string||this.type===D.bracketL||this.type.keyword};mt.parseClassElementName=function(e){this.type===D.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};mt.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&Ox(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};mt.parseClassField=function(e){if(Ox(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&Ox(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(D.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};mt.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(h1|aM);this.type!==D.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};mt.parseClassId=function(e,t){this.type===D.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,xc,!1)):(t===!0&&this.unexpected(),e.id=null)};mt.parseClassSuper=function(e){e.superClass=this.eat(D._extends)?this.parseExprSubscripts(null,!1):null};mt.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};mt.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];d1(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function yXe(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function Ox(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}mt.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==D.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};mt.parseExport=function(e,t){if(this.next(),this.eat(D.star))return this.parseExportAllDeclaration(e,t);if(this.eat(D._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==D.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};mt.parseExportDeclaration=function(e){return this.parseStatement(null)};mt.parseExportDefaultDeclaration=function(){var e;if(this.type===D._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,zy|Nue,!1,e)}else if(this.type===D._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};mt.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),d1(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};mt.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(e,u)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};mt.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};mt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};mt.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};mt.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(D.braceL);!this.eat(D.braceR);){if(n)n=!1;else if(this.expect(D.comma),this.afterTrailingComma(D.braceR))break;t.push(this.parseExportSpecifier(e))}return t};mt.parseImport=function(e){return this.next(),this.type===D.string?(e.specifiers=gXe,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===D.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};mt.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,xc),this.finishNode(e,"ImportSpecifier")};mt.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,xc),this.finishNode(e,"ImportDefaultSpecifier")};mt.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,xc),this.finishNode(e,"ImportNamespaceSpecifier")};mt.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===D.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(D.comma)))return e;if(this.type===D.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(D.braceL);!this.eat(D.braceR);){if(t)t=!1;else if(this.expect(D.comma),this.afterTrailingComma(D.braceR))break;e.push(this.parseImportSpecifier())}return e};mt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===D.string){var e=this.parseLiteral(this.value);return fXe.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};mt.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};mt.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var Sa=ai.prototype;Sa.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};Sa.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};Sa.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};Sa.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==D.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};Sa.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case D.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(D.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case D.braceL:return this.parseObj(!0)}return this.parseIdent()};Sa.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(D.comma),t&&this.type===D.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===D.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===D.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};Sa.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};Sa.parseBindingListItem=function(e){return e};Sa.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(D.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};Sa.checkLValSimple=function(e,t,n){t===void 0&&(t=Ax);var r=t!==Ax;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===xc&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(d1(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==Rue&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};Sa.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=Ax),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}};Sa.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=Ax),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var Oa=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},mr={b_stat:new Oa("{",!1),b_expr:new Oa("{",!0),b_tmpl:new Oa("${",!1),p_stat:new Oa("(",!1),p_expr:new Oa("(",!0),q_tmpl:new Oa("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Oa("function",!1),f_expr:new Oa("function",!0),f_expr_gen:new Oa("function",!0,!1,null,!0),f_gen:new Oa("function",!1,!1,null,!0)},Hg=ai.prototype;Hg.initialContext=function(){return[mr.b_stat]};Hg.curContext=function(){return this.context[this.context.length-1]};Hg.braceIsBlock=function(e){var t=this.curContext();return t===mr.f_expr||t===mr.f_stat?!0:e===D.colon&&(t===mr.b_stat||t===mr.b_expr)?!t.isExpr:e===D._return||e===D.name&&this.exprAllowed?Ea.test(this.input.slice(this.lastTokEnd,this.start)):e===D._else||e===D.semi||e===D.eof||e===D.parenR||e===D.arrow?!0:e===D.braceL?t===mr.b_stat:e===D._var||e===D._const||e===D.name?!1:!this.exprAllowed};Hg.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};Hg.updateContext=function(e){var t,n=this.type;n.keyword&&e===D.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};Hg.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};D.parenR.updateContext=D.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===mr.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};D.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?mr.b_stat:mr.b_expr),this.exprAllowed=!0};D.dollarBraceL.updateContext=function(){this.context.push(mr.b_tmpl),this.exprAllowed=!0};D.parenL.updateContext=function(e){var t=e===D._if||e===D._for||e===D._with||e===D._while;this.context.push(t?mr.p_stat:mr.p_expr),this.exprAllowed=!0};D.incDec.updateContext=function(){};D._function.updateContext=D._class.updateContext=function(e){e.beforeExpr&&e!==D._else&&!(e===D.semi&&this.curContext()!==mr.p_stat)&&!(e===D._return&&Ea.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===D.colon||e===D.braceL)&&this.curContext()===mr.b_stat)?this.context.push(mr.f_expr):this.context.push(mr.f_stat),this.exprAllowed=!1};D.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};D.backQuote.updateContext=function(){this.curContext()===mr.q_tmpl?this.context.pop():this.context.push(mr.q_tmpl),this.exprAllowed=!1};D.star.updateContext=function(e){if(e===D._function){var t=this.context.length-1;this.context[t]===mr.f_expr?this.context[t]=mr.f_expr_gen:this.context[t]=mr.f_gen}this.exprAllowed=!0};D.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==D.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Lt=ai.prototype;Lt.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};Lt.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===D.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(D.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};Lt.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new rP,r=!0);var a=this.start,u=this.startLoc;(this.type===D.parenL||this.type===D.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===D.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===D.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l};Lt.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(D.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(D.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};Lt.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};Lt.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==D._in)&&s>r){var o=this.type===D.logicalOR||this.type===D.logicalAND,a=this.type===D.coalesce;a&&(s=D.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,s,i),d=this.buildBinary(t,n,e,f,u,o||a);return(o&&this.type===D.coalesce||a&&(this.type===D.logicalOR||this.type===D.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};Lt.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};Lt.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===D.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&kue(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===D.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==D._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(D.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function kue(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&kue(e.expression)}Lt.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};Lt.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}};Lt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(D.arrow)};Lt.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};Lt.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(D.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(D.bracketL);if(l||u&&this.type!==D.parenL&&this.type!==D.backQuote||this.eat(D.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(D.bracketR)):this.type===D.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(D.parenL)){var f=new rP,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(D.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,m,o);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var y=this.startNodeAt(t,n);y.callee=e,y.arguments=m,a&&(y.optional=u),e=this.finishNode(y,"CallExpression")}else if(this.type===D.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var g=this.startNodeAt(t,n);g.tag=e,g.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(g,"TaggedTemplateExpression")}return e};Lt.parseExprAtom=function(e,t,n){this.type===D.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case D._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===D.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==D.dot&&this.type!==D.bracketL&&this.type!==D.parenL&&this.unexpected(),this.finishNode(r,"Super");case D._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case D.name:var s=this.start,o=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(D._function))return this.overrideContext(mr.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(D.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===D.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(D.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[u],!0,t)}return u;case D.regexp:var l=this.value;return r=this.parseLiteral(l.value),r.regex={pattern:l.pattern,flags:l.flags},r;case D.num:case D.string:return this.parseLiteral(this.value);case D._null:case D._true:case D._false:return r=this.startNode(),r.value=this.type===D._null?null:this.type===D._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case D.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case D.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(D.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case D.braceL:return this.overrideContext(mr.b_expr),this.parseObj(!1,e);case D._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case D._class:return this.parseClass(this.startNode(),!1);case D._new:return this.parseNew();case D.backQuote:return this.parseTemplate();case D._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};Lt.parseExprAtomDefault=function(){this.unexpected()};Lt.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===D.parenL&&!e)return this.parseDynamicImport(t);if(this.type===D.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};Lt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(D.parenR)){var t=this.start;this.eat(D.comma)&&this.eat(D.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};Lt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};Lt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};Lt.parseParenExpression=function(){this.expect(D.parenL);var e=this.parseExpression();return this.expect(D.parenR),e};Lt.shouldParseArrow=function(e){return!this.canInsertSemicolon()};Lt.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],l=!0,c=!1,f=new rP,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==D.parenR;)if(l?l=!1:this.expect(D.comma),s&&this.afterTrailingComma(D.parenR,!0)){c=!0;break}else if(this.type===D.ellipsis){p=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===D.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var m=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(D.parenR),e&&this.shouldParseArrow(u)&&this.eat(D.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",m,y)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(n,r);return g.expression=i,this.finishNode(g,"ParenthesizedExpression")}else return i};Lt.parseParenItem=function(e){return e};Lt.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var vXe=[];Lt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===D.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(D.parenL)?e.arguments=this.parseExprList(D.parenR,this.options.ecmaVersion>=8,!1):e.arguments=vXe,this.finishNode(e,"NewExpression")};Lt.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===D.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===D.backQuote,this.finishNode(n,"TemplateElement")};Lt.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===D.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(D.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(D.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};Lt.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===D.name||this.type===D.num||this.type===D.string||this.type===D.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===D.star)&&!Ea.test(this.input.slice(this.lastTokEnd,this.start))};Lt.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(D.braceR);){if(r)r=!1;else if(this.expect(D.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(D.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};Lt.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(D.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===D.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===D.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(D.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(D.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};Lt.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};Lt.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===D.colon&&this.unexpected(),this.eat(D.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===D.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==D.comma&&this.type!==D.braceR&&this.type!==D.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===D.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};Lt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(D.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(D.bracketR),e.key;e.computed=!1}return e.key=this.type===D.num||this.type===D.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Lt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};Lt.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(lM(t,r.generator)|aM|(n?Pue:0)),this.expect(D.parenL),r.params=this.parseBindingList(D.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};Lt.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(lM(n,!1)|Iue),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};Lt.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==D.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,Rue),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()};Lt.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};Lt.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,cM,t?null:n)}};Lt.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(D.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===D.comma?o=null:this.type===D.ellipsis?(o=this.parseSpread(r),r&&this.type===D.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};Lt.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};Lt.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};Lt.parseIdentNode=function(){var e=this.startNode();return this.type===D.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=D.name):this.unexpected(),e};Lt.parsePrivateIdent=function(){var e=this.startNode();return this.type===D.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};Lt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===D.semi||this.canInsertSemicolon()||this.type!==D.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(D.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};Lt.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var Rx=ai.prototype;Rx.raise=function(e,t){var n=Tue(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};Rx.raiseRecoverable=Rx.raise;Rx.curPosition=function(){if(this.options.locations)return new Wv(this.curLine,this.pos-this.lineStart)};var ad=ai.prototype,_Xe=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};ad.enterScope=function(e){this.scopeStack.push(new _Xe(e))};ad.exitScope=function(){this.scopeStack.pop()};ad.treatFunctionsAsVarInScope=function(e){return e.flags&zg||!this.inModule&&e.flags&qv};ad.declareName=function(e,t,n){var r=!1;if(t===xc){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&qv&&delete this.undefinedExports[e]}else if(t===Oue){var s=this.currentScope();s.lexical.push(e)}else if(t===Aue){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(e)>-1&&!(u.flags&Cue&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u.var.push(e),this.inModule&&u.flags&qv&&delete this.undefinedExports[e],u.flags&uM)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};ad.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};ad.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};ad.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&uM)return t}};ad.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&uM&&!(t.flags&Iue))return t}};var iP=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new nP(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},p1=ai.prototype;p1.startNode=function(){return new iP(this,this.start,this.startLoc)};p1.startNodeAt=function(e,t){return new iP(this,e,t)};function Due(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}p1.finishNode=function(e,t){return Due.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};p1.finishNodeAt=function(e,t,n,r){return Due.call(this,e,t,n,r)};p1.copyNode=function(e){var t=new iP(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var $ue="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Lue=$ue+" Extended_Pictographic",Mue=Lue,Fue=Mue+" EBase EComp EMod EPres ExtPict",jue=Fue,bXe=jue,wXe={9:$ue,10:Lue,11:Mue,12:Fue,13:jue,14:bXe},EXe="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",SXe={9:"",10:"",11:"",12:"",13:"",14:EXe},_H="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Bue="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Uue=Bue+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Vue=Uue+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",zue=Vue+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Hue=zue+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",TXe=Hue+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",xXe={9:Bue,10:Uue,11:Vue,12:zue,13:Hue,14:TXe},Wue={};function IXe(e){var t=Wue[e]={binary:sf(wXe[e]+" "+_H),binaryOfStrings:sf(SXe[e]),nonBinary:{General_Category:sf(_H),Script:sf(xXe[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var h2=0,bH=[9,10,11,12,13,14];h2<bH.length;h2+=1){var CXe=bH[h2];IXe(CXe)}var at=ai.prototype,bl=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Wue[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};bl.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};bl.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};bl.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};bl.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};bl.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};bl.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};bl.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};bl.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};bl.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};at.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};at.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};at.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};at.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};at.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};at.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};at.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};at.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};at.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};at.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};at.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};at.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};at.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};at.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};at.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};at.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};at.regexp_eatSyntaxCharacter=function(e){var t=e.current();return que(t)?(e.lastIntValue=t,e.advance(),!0):!1};function que(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}at.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!que(n);)e.advance();return e.pos!==t};at.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};at.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};at.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};at.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=qf(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=qf(e.lastIntValue);return!0}return!1};at.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),PXe(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function PXe(e){return oc(e,!0)||e===36||e===95}at.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),AXe(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function AXe(e){return ug(e,!0)||e===36||e===95||e===8204||e===8205}at.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};at.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};at.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};at.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};at.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};at.regexp_eatZero=function(e){return e.current()===48&&!sP(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};at.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};at.regexp_eatControlLetter=function(e){var t=e.current();return Gue(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function Gue(e){return e>=65&&e<=90||e>=97&&e<=122}at.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&OXe(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function OXe(e){return e>=0&&e<=1114111}at.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};at.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var Yue=0,ac=1,ea=2;at.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(RXe(t))return e.lastIntValue=-1,e.advance(),ac;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===ea&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return Yue};function RXe(e){return e===100||e===68||e===115||e===83||e===119||e===87}at.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),ac}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return Yue};at.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){d1(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};at.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return ac;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return ea;e.raise("Invalid property name")};at.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";Kue(t=e.current());)e.lastStringValue+=qf(t),e.advance();return e.lastStringValue!==""};function Kue(e){return Gue(e)||e===95}at.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";NXe(t=e.current());)e.lastStringValue+=qf(t),e.advance();return e.lastStringValue!==""};function NXe(e){return Kue(e)||sP(e)}at.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};at.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===ea&&e.raise("Negated character class may contain strings"),!0}return!1};at.regexp_classContents=function(e){return e.current()===93?ac:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),ac)};at.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};at.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||Jue(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};at.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};at.regexp_classSetExpression=function(e){var t=ac,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===ea&&(t=ea);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==ea&&(t=ac);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===ea&&(t=ea)}};at.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};at.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?ac:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};at.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===ea&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};at.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};at.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===ea&&(t=ea);return t};at.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?ac:ea};at.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&kXe(n)||DXe(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function kXe(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function DXe(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}at.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return $Xe(t)?(e.lastIntValue=t,e.advance(),!0):!1};function $Xe(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}at.regexp_eatClassControlLetter=function(e){var t=e.current();return sP(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};at.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};at.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;sP(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function sP(e){return e>=48&&e<=57}at.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Que(n=e.current());)e.lastIntValue=16*e.lastIntValue+Xue(n),e.advance();return e.pos!==t};function Que(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Xue(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}at.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};at.regexp_eatOctalDigit=function(e){var t=e.current();return Jue(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function Jue(e){return e>=48&&e<=55}at.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!Que(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Xue(i),e.advance()}return!0};var dM=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new nP(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},an=ai.prototype;an.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new dM(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};an.getToken=function(){return this.next(),new dM(this)};typeof Symbol<"u"&&(an[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===D.eof,value:t}}}});an.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(D.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};an.readToken=function(e){return oc(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};an.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};an.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=wue(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};an.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!Vg(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};an.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&Eue.test(String.fromCharCode(e)))++this.pos;else break e}}};an.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};an.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(D.ellipsis)):(++this.pos,this.finishToken(D.dot))};an.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(D.assign,2):this.finishOp(D.slash,1)};an.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?D.star:D.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=D.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(D.assign,n+1):this.finishOp(r,n)};an.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(D.assign,3)}return this.finishOp(e===124?D.logicalOR:D.logicalAND,2)}return t===61?this.finishOp(D.assign,2):this.finishOp(e===124?D.bitwiseOR:D.bitwiseAND,1)};an.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(D.assign,2):this.finishOp(D.bitwiseXOR,1)};an.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Ea.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(D.incDec,2):t===61?this.finishOp(D.assign,2):this.finishOp(D.plusMin,1)};an.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(D.assign,n+1):this.finishOp(D.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(D.relational,n))};an.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(D.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(D.arrow)):this.finishOp(e===61?D.eq:D.prefix,1)};an.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(D.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(D.assign,3)}return this.finishOp(D.coalesce,2)}}return this.finishOp(D.question,1)};an.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),oc(t,!0)||t===92))return this.finishToken(D.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+qf(t)+"'")};an.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(D.parenL);case 41:return++this.pos,this.finishToken(D.parenR);case 59:return++this.pos,this.finishToken(D.semi);case 44:return++this.pos,this.finishToken(D.comma);case 91:return++this.pos,this.finishToken(D.bracketL);case 93:return++this.pos,this.finishToken(D.bracketR);case 123:return++this.pos,this.finishToken(D.braceL);case 125:return++this.pos,this.finishToken(D.braceR);case 58:return++this.pos,this.finishToken(D.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(D.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(D.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+qf(e)+"'")};an.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};an.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(Ea.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new bl(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(D.regexp,{pattern:i,flags:o,value:u})};an.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,l=t??1/0;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,o=o*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function LXe(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function Zue(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}an.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=Zue(this.input.slice(t,this.pos)),++this.pos):oc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(D.num,n)};an.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=Zue(this.input.slice(t,this.pos));return++this.pos,oc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(D.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),oc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=LXe(this.input.slice(t,this.pos),n);return this.finishToken(D.num,s)};an.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};an.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Vg(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(D.string,t)};var ele={};an.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===ele)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};an.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw ele;this.raise(e,t)};an.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===D.template||this.type===D.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(D.dollarBraceL)):(++this.pos,this.finishToken(D.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(D.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(Vg(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};an.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(D.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};an.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return qf(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return Vg(t)?"":String.fromCharCode(t)}};an.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};an.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(ug(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?oc:ug)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=qf(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};an.readWord=function(){var e=this.readWord1(),t=D.name;return this.keywords.test(e)&&(t=sM[e]),this.finishToken(t,e)};var MXe="8.11.3";ai.acorn={Parser:ai,version:MXe,defaultOptions:Ik,Position:Wv,SourceLocation:nP,getLineInfo:Tue,Node:iP,TokenType:_n,tokTypes:D,keywordTypes:sM,TokContext:Oa,tokContexts:mr,isIdentifierChar:ug,isIdentifierStart:oc,Token:dM,isNewLine:Vg,lineBreak:Ea,lineBreakG:uXe,nonASCIIwhitespace:Eue};function FXe(e,t){return ai.parse(e,t)}const hM={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},jXe={ecmaVersion:11},wH="$",BXe="d",UXe="d1",VXe="d2",Oi=e=>(t,n)=>n.error(t,e+" not allowed"),zXe=Oi("Aggregate function"),HXe=Oi("Window function"),WXe="Invalid argument",pM="Invalid column reference",qXe=pM+" (must be input to an aggregate function)",tle="Invalid function call",GXe="Invalid member expression",YXe="Invalid operator parameter",KXe="Invalid param reference",QXe="Invalid variable reference",XXe="Variable not accessible in operator call",JXe="Unsupported variable declaration",ZXe="Unsupported destructuring pattern",nle="Table expressions do not support closures",rle="Use aq.escape(fn) to use a function as-is (including closures)",eJe="use table.params({ name: value }) to define dynamic parameters",tJe="use aq.addFunction(name, fn) to add new op functions",nJe=`
Note: ${nle}. ${rle}, or ${eJe}.`,ile=`
Note: ${nle}. ${rle}, or ${tJe}.`,rJe=`The ${ioe} method is not valid in multi-table expressions.`;function iJe(e,t){const n=sJe(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,JQe(r)?(aJe(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=UXe),e.scope.add(e.tuple2=VXe),e.scope.add(e.$param=wH)):(e.scope.add(e.tuple=BXe),e.scope.add(e.$param=wH)),yn(r,e,mM),e.root}function sJe(e){try{const t=e.field?oJe(e):Tn(e)?sl(e):e;return FXe(`expr=(${t})`,jXe).body[0].expression.right}catch{Yt(`Expression parse error: ${e+""}`)}}function oJe(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const mM={FunctionDeclaration:Oi("Function definitions"),ForStatement:Oi("For loops"),ForOfStatement:Oi("For-of loops"),ForInStatement:Oi("For-in loops"),WhileStatement:Oi("While loops"),DoWhileStatement:Oi("Do-while loops"),AwaitExpression:Oi("Await expressions"),ArrowFunctionExpression:Oi("Function definitions"),AssignmentExpression:Oi("Assignments"),FunctionExpression:Oi("Function definitions"),NewExpression:Oi('Use of "new"'),UpdateExpression:Oi("Update expressions"),VariableDeclarator(e,t){Ok(e.id,t)},Identifier(e,t,n){ale(e,t,n)&&!t.scope.has(e.name)&&t.error(e,QXe,nJe)},CallExpression(e,t){const n=sle(e.callee),r=toe(n)||noe(n);if(r){if((t.join||t.aggregate===!1)&&rL(n)&&zXe(e,t),(t.join||t.window===!1)&&iL(n)&&HXe(e,t),t.$op=1,t.ast)Ak(e,n,t),e.arguments.forEach(i=>yn(i,t,Pk));else{const i=t.op(uJe(t,r,n,e.arguments));Object.assign(e,{type:Qse,name:i.id})}return t.$op=0,!1}else eoe(n)?Ak(e,n,t):t.error(e,tle,ile)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!ni(xf,r))return;const{name:s}=r;if(ole(e)&&ni(xf,i)&&Za(hM,i.name)){cle(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return EH(e,o,t,ule,n);if(s===t.$param)return EH(e,o,t,cJe);t.paramsRef.has(s)?Gv(e,t.paramsRef.get(s)):t.columnRef.has(s)?lle(r,s,t,e):Za(t.params,s)&&Gv(r,s)}};function EH(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(ni(Mg,s))a=s.value;else try{yn(s,n,mM,e),a=n.param(s)}catch{n.error(e,GXe)}return r(e,a,t,n,i),!1}const Pk={...mM,VariableDeclarator:Oi("Variable declaration in operator call"),Identifier(e,t,n){ale(e,t,n)&&t.error(e,XXe)},CallExpression(e,t){const n=sle(e.callee);eoe(n)?Ak(e,n,t):t.error(e,tle,ile)}};function aJe(e,t){e.generator&&Oi("Generator functions")(e,t),e.async&&Oi("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,u)=>t.columnRef.set(a,[u,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(j0(t,n[0],"tuple1",i(1)),r>1&&j0(t,n[1],"tuple2",i(2)),r>2&&j0(t,n[2],"$param",s)):(j0(t,n[0],"tuple",i(0)),r>1&&j0(t,n[1],"$param",s))),t.root=e.body}function j0(e,t,n,r){ni(xf,t)?(e.scope.add(t.name),e[n]=t.name):ni(Yse,t)&&t.properties.forEach(i=>{const s=ni(xf,i.key)?i.key.name:ni(Mg,i.key)?i.key.value:e.error(i,WXe);ni(xf,i.value)||e.error(i.value,ZXe),r(i.value.name,s)})}function uJe(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((u,l)=>{l<o?(yn(u,e,Pk),i.push(e.field(u))):l<a?(yn(u,e,Pk),s.push(e.param(u))):e.error(u,YXe)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function sle(e){return ni(xf,e)?e.name:ni(Gse,e)?ole(e)?lJe(e.property.name):e.property.name:null}function ole(e){return ni(xf,e.object)&&e.object.name==="Math"}function lJe(e){return e==="max"?"greatest":e==="min"?"least":e}function ale(e,t,n){const{name:r}=e;if(!(ni(Gse,n)&&n.property===e)){if(!(ni(Kse,n)&&n.key===e))if(t.paramsRef.has(r))Gv(e,t.paramsRef.get(r));else if(t.columnRef.has(r))lle(e,r,t,n);else if(Za(t.params,r))Gv(e,r);else if(Za(hM,r))cle(e,r);else return!0}}function ule(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,pM),r.aggronly&&!r.$op&&r.error(e,qXe),roe(e,t,n,o,i)}function lle(e,t,n,r){const[i,s]=n.columnRef.get(t);ule(e,i,s,n,r)}function cJe(e,t,n,r){r.params&&!Za(r.params,t)&&r.error(e,KXe),Gv(e,t)}function Gv(e,t){e.type=Zqe,e.name=t}function cle(e,t){e.type=Qqe,e.name=t,e.raw=hM[t]}function Ak(e,t,n){if(t===ioe){const r=n.table;r||n.error(e,rJe),soe(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=Ts(s)?r.columnName(s):s;return r.column(o)||n.error(i,pM),o}):r.columnNames())}else e.callee={type:Jqe,name:t}}function Ok(e,t){ni(xf,e)?t.scope.add(e.name):ni(qqe,e)?e.elements.forEach(n=>Ok(n,t)):ni(Yse,e)?e.properties.forEach(n=>Ok(n.value,t)):t.error(e.id,JXe)}const fJe={[o1]:1,[Qse]:1};function co(e,t={}){const n=t.generate||lx,r=t.compiler||sL,i=hJe(t),s={},o={},a=[],u=[];let l=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(m){const y=dJe(m);return o[y]||(m.id=++c,o[y]=m)},field(m){const y=n(m);return s[y]||(s[y]=++l)},param(m){return ni(Mg,m)?m.value:r.param(n(m),i)},value(m,y){a.push(m);const g=y.escape||(t.ast?XQe(y):f(n(y),i));u.push(g),fJe[y.type]&&g!==y&&ls(g)&&(g.field=y.name)},error(m,y,g=""){const v=m.start-6,_=m.end-6,S=String(d.spec).slice(v,_);Yt(`${y}: "${S}"${g}`)}};Object.assign(d,t,{params:i});for(const[m,y]of VC(e))d.value(m+"",y.escape?tXe(d,y,i):iJe(d,y));if(t.ast)return{names:a,exprs:u};const h=[];for(const m in s)h[s[m]]=r.expr(m,i);const p=Object.values(o);return p.forEach(m=>m.fields=m.fields.map(y=>h[y])),{names:a,exprs:u,ops:p}}function dJe(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function hJe(e){return(e.table?p2(e.table):e.join?{...p2(e.join[1]),...p2(e.join[0])}:{})||{}}function p2(e){return e&&ar(e.params)?e.params():{}}const fle="Expr",Ra="ExprList",dle="ExprNumber",uy="ExprObject",zp="JoinKeys",Nx="JoinValues",qo="Options",gM="OrderKeys",jc="SelectionList",Nd="TableRef",Hp="TableRefList",pJe="Descending",mJe="Query",gJe="Selection",yJe="Verb",vJe="Window";function oP(e,t){return e&&e.expr?new SH({...e,...t}):new SH(t,e)}class SH{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...ar(this.expr)?{func:!0}:{}}}}function _Je(e){return oP(e,{desc:!0})}function Sh(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return oP(e,t?{expr:t,...r}:r)}function bJe(e,t,n){return oP(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function wJe(e){const t=n=>n;return t.toString=()=>e,t}function TH(e,t){return t=t&&ar(t.query)?t.query():t,t&&ar(t.evaluate)?t.evaluate(null,e):e(t)}function hle(e){return ls(e)&&(Tn(e.all)||Tn(e.matches)||Tn(e.not)||Tn(e.range))}function Yv(e){return e&&ar(e.toObject)?e.toObject():ar(e)?{expr:String(e),func:!0}:Tn(e)?e.map(Yv):ls(e)?eP(e,t=>Yv(t)):e}function yM(e){return Tn(e)?e.map(yM):ls(e)?Tn(e.verbs)?_M.from(e):Tn(e.all)?ag():Tn(e.range)?qQe(...e.range):Tn(e.match)?GQe(RegExp(...e.match)):Tn(e.not)?yue(e.not.map(Yv)):EJe(e):e}function EJe(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=Sh(n):e.func===!0&&(t=n=wJe(n)),ls(e.window)){const{frame:r,peers:i}=e.window;t=n=bJe(n,r,i)}e.desc===!0&&(t=_Je(n))}return e===t?eP(e,r=>yM(r)):t}function SJe(e){return Tn(e)?e.map(TJe):e}function TJe(e){const t=[];return ao(e).forEach(n=>{Ts(n)?t.push(n):zi(n)?t.push(Sh(n,null)):ls(n)&&n.expr||ar(n)?t.push(n):Yt(`Invalid key value: ${n+""}`)}),t}function xJe(e){return Tn(e)?e.map(IJe):e}function IJe(e,t){return t<2?ao(e):e}function CJe(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(ls(r)&&!ar(r))for(const i in r)t.push(r[i]);else n=Ts(r)?r:zi(r)?Sh(n):ar(r)?n:Yt(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const PJe={[fle]:yle,[Ra]:lg,[dle]:DJe,[uy]:Gf,[zp]:$Je,[Nx]:LJe,[gM]:lg,[jc]:NJe};function AJe(e,t,n){return t===Nd?xH(e):t===Hp?e.map(xH):ple(Yv(e),t,n)}function ple(e,t,n){return t===qo?e&&OJe(e,n):PJe[t](e)}function OJe(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?ple(i,t[r]):i}return n}function RJe(e,t){return co({expr:e},{...t,ast:!0}).exprs[0]}function vM(e){return{type:o1,name:e}}function mle(e){return{type:o1,index:e}}function Gf(e,t){if(zi(e))return RJe(e,t);if(e.expr){let n;if(e.field===!0?n=vM(e.expr):e.func===!0&&(n=Gf(e.expr,t)),n)return e.desc&&(n={type:pJe,expr:n}),e.window&&(n={type:vJe,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...Gf(e[n],t),as:n}))}function gle(e){const t=gJe;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:lg(e.not)}:e.range?{type:t,operator:"range",arguments:lg(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:Yt("Invalid input")}function NJe(e){return ao(e).map(kJe).flat()}function kJe(e){return hle(e)?gle(e):Ts(e)?mle(e):zi(e)?vM(e):ls(e)?Object.keys(e).map(t=>({type:o1,name:t,as:e[t]})):Yt("Invalid input")}function yle(e){return hle(e)?gle(e):Ts(e)?mle(e):zi(e)?vM(e):ls(e)?Gf(e):Yt("Invalid input")}function lg(e){return ao(e).map(yle).flat()}function DJe(e){return Ts(e)?e:Gf(e)}function $Je(e){return Tn(e)?e.map(lg):Gf(e,{join:!0})}function LJe(e){return Tn(e)?e.map((t,n)=>n<2?lg(t):Gf(t,{join:!0})):Gf(e,{join:!0})}function xH(e){return e&&ar(e.toAST)?e.toAST():e}class vle{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],u=o===zp?SJe(a):o===Nx?xJe(a):o===gM?CJe(a):a;this[i.name]=u!==void 0?u:i.default})}static from(t){const n=Rk[t.verb],r=(n.schema||[]).map(({name:i})=>yM(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===Nd?TH(n,o):s===Hp?o.map(a=>TH(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=Yv(this[n])}),t}toAST(){const t={type:yJe,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=AJe(this[n],r,i)}),t}}function Wn(e,t){return Object.assign((...n)=>new vle(e,t,n),{schema:t})}const Rk={count:Wn("count",[{name:"options",type:qo}]),derive:Wn("derive",[{name:"values",type:uy},{name:"options",type:qo,props:{before:jc,after:jc}}]),filter:Wn("filter",[{name:"criteria",type:uy}]),groupby:Wn("groupby",[{name:"keys",type:Ra}]),orderby:Wn("orderby",[{name:"keys",type:gM}]),relocate:Wn("relocate",[{name:"columns",type:jc},{name:"options",type:qo,props:{before:jc,after:jc}}]),rename:Wn("rename",[{name:"columns",type:jc}]),rollup:Wn("rollup",[{name:"values",type:uy}]),sample:Wn("sample",[{name:"size",type:dle},{name:"options",type:qo,props:{weight:fle}}]),select:Wn("select",[{name:"columns",type:jc}]),ungroup:Wn("ungroup"),unorder:Wn("unorder"),reify:Wn("reify"),dedupe:Wn("dedupe",[{name:"keys",type:Ra,default:[]}]),impute:Wn("impute",[{name:"values",type:uy},{name:"options",type:qo,props:{expand:Ra}}]),fold:Wn("fold",[{name:"values",type:Ra},{name:"options",type:qo}]),pivot:Wn("pivot",[{name:"keys",type:Ra},{name:"values",type:Ra},{name:"options",type:qo}]),spread:Wn("spread",[{name:"values",type:Ra},{name:"options",type:qo}]),unroll:Wn("unroll",[{name:"values",type:Ra},{name:"options",type:qo,props:{drop:Ra}}]),lookup:Wn("lookup",[{name:"table",type:Nd},{name:"on",type:zp},{name:"values",type:Ra}]),join:Wn("join",[{name:"table",type:Nd},{name:"on",type:zp},{name:"values",type:Nx},{name:"options",type:qo}]),cross:Wn("cross",[{name:"table",type:Nd},{name:"values",type:Nx},{name:"options",type:qo}]),semijoin:Wn("semijoin",[{name:"table",type:Nd},{name:"on",type:zp}]),antijoin:Wn("antijoin",[{name:"table",type:Nd},{name:"on",type:zp}]),concat:Wn("concat",[{name:"tables",type:Hp}]),union:Wn("union",[{name:"tables",type:Hp}]),intersect:Wn("intersect",[{name:"tables",type:Hp}]),except:Wn("except",[{name:"tables",type:Hp}])};let _M=class _le extends Dse{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new _le(t.map(vle.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return IH(this,"toObject")}toJSON(){return this.toObject()}toAST(){return IH(this,"toAST",{type:mJe})}};function IH(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function MJe(e,t){return new _M(e._verbs.concat(t),e._params,e._table)}for(const e in Rk){const t=Rk[e];_M.prototype["__"+e]=function(n,...r){return MJe(n,t(...r))}}function Wg(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,u)=>`${r[o]}${u} = ${r[o]}[${u}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function FJe(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function bM(e,t){const n=Uo();return t.forEach((r,i)=>{const s=zi(r)?r:i;if(s){const o=e.column(i)||Yt(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function ble(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||Yt("relocate requires a before or after option."),i&&s&&Yt("relocate accepts only one of the before or after options."),t=sc(e,t);const o=[...sc(e,i?n:r).keys()],a=i?o[0]:o.pop(),u=new Map;return e.columnNames().forEach(l=>{const c=!t.has(l);if(l===a){s&&c&&u.set(l,l);for(const[f,d]of t)u.set(f,d);if(s)return}c&&u.set(l,l)}),bM(e,u)}function m1(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function wM(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function jJe(e,t=0,n=e.length){let r=n?e[t++]:bn;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function BJe(e,t=0,n=e.length){let r=n?e[t++]:bn;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function Wb(e){return Fv(e)?e:+e}function UJe(e,t){const n=e.length;if(!n)return bn;if((t=+t)<=0||n<2)return Wb(e[0]);if(t>=1)return Wb(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=Wb(e[i]);return Fv(s)?s:s+(Wb(e[i+1])-s)*(r-i)}class VJe{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:jJe(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:BJe(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(wM)),UJe(this._sorted,t)}}const kx=(e,t,n)=>Wg(t,"{"+m1(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function zJe(e,t){const{ops:n,output:r}=HJe(e,t),i=e[0].fields,s=i.length,o=s===0?EM:s===1?WJe:s===2?qJe:Yt("Unsupported field count: "+s);return new o(i,n,r,t)}function HJe(e,t){const n={},r=[];function i(o,a=[]){const u=o+":"+a;if(n[u])return n[u];const l=toe(o),c=l.create(...a);return t<0&&l.stream&&l.stream.forEach(f=>i(f,[])),l.req&&l.req.forEach(f=>i(f,[])),n[u]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class EM extends KQe{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new VJe),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class WJe extends EM{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=kx(n,s,"add"),this._rem=kx(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,Va(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,Va(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class qJe extends EM{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=kx(n,s,"add"),this._rem=kx(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,Va(i)&&Va(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,Va(i)&&Va(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function qh(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=qg(e,t),o=i?(a,u)=>s[a][i[u]]:a=>s[a][0];n=n.map(a=>u=>a(u,r,o))}return n}function qg(e,t,n){if(!t.length)return n;const r=wle(t),i=e.groups(),s=i?i.size:1;return n=n||BC(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=Sle(e,o,i);for(let u=0;u<s;++u)o.write(a[u],n,u)}):r.forEach(o=>{const a=Ele(e,o);o.write(a,n,0)}),n}function wle(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(zJe(r[i],t));return n}function Ele(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function Sle(e,t,n){const{keys:r,size:i}=n,s=BC(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),u=a.length;for(let l=0;l<u;++l){const c=a[l];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let u=a.next(0);u>=0;u=a.next(u+1))t.add(s[r[u]],u,o)}else{const a=e.totalRows();for(let u=0;u<a;++u)t.add(s[r[u]],u,o)}return s}function Tle(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const u=e.add(r[a],Array(s)),l=n[a];for(let c=0;c<s;++c)u[c]=l(i[c])}}function xle(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const CH=xle(wM);function GJe(e,t,n,r,i){let s,o,a,u,l;const c=m=>o[m-1]===o[m],f=r.length,d=i.length,h=r.length?Wg(["w","r","k"],"{"+m1(r,(m,y)=>`r[_${y}.id][k]=_${y}.value(w,_${y}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(m,y,g,v){p.index=p.i0=p.i1=0,p.size=y.length,s=m,o=y,u=g,l=v,a=i?i.map(_=>_.init()):null;for(let _=0;_<f;++_)r[_].init();return p},value(m,y){return y(s[m],e)},step(m){const[y,g]=t,v=p.size,_=p.i0,S=p.i1;p.i0=y!=null?Math.max(0,m-Math.abs(y)):0,p.i1=g!=null?Math.min(v,m+Math.abs(g)+1):v,p.index=m,n&&(p.i0>0&&c(p.i0)&&(p.i0=CH.left(o,o[p.i0])),p.i1<v&&c(p.i1)&&(p.i1=CH.right(o,o[p.i1-1])));for(let T=0;T<d;++T){const E=i[T],x=a[T];for(let P=_;P<p.i0;++P)E.rem(x,s[P],e);for(let P=S;P<p.i1;++P)E.add(x,s[P],e);E.write(x,u,l)}return h(p,u,l),u}};return p}const YJe=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),KJe=e=>!!e.peers;function QJe(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=noe(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function XJe(e,t,n,r={},i){const s=e.data(),o=JJe(i,s),a=o.length,u=Wg(["r","d","op"],"{"+m1(t,(l,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((l,c)=>{const f=l.length,d=ZJe(e,l);for(let p=0;p<a;++p)o[p].init(l,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let m=0;m<a;++m)o[m].step(p);u(l[p],s,h)}})}function JJe(e,t){const n={};return e.forEach(r=>{const i=YJe(r),s=KJe(r),o=`${i},${s}`,{aggOps:a,winOps:u}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});rL(r.name)?a.push(r):u.push(QJe(r))}),Object.values(n).map(r=>GJe(t,r.frame,r.peers,r.winOps,wle(r.aggOps,r.frame[0]!=null?-1:1)))}function ZJe(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function eZe(e){return iL(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function SM(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=Uo(i.drop?null:e),a=t.map(d=>o.add(d,Array(s))),[u,l]=tZe(r),c=e.isGrouped()?e.groups().size:1,f=qg(e,u,BC(r.length,()=>Array(c)));return l.length?XJe(e,a,n,f,l):nZe(e,a,n,f),e.create(o)}function tZe(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(eZe(s)?n:t).push(s)}return[t,n]}function nZe(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(l,c)=>r[l][o[c]]:l=>r[l][0],u=t.length;for(let l=0;l<u;++l){const c=n[l],f=t[l];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,s,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,s,a)}}}function rZe(e,t,n={}){const r=SM(e,co(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:ble(r,Object.keys(t).filter(i=>!e.column(i)),n)}function iZe(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const qb=2147483648,sZe=4294967295;class Ile{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&qb>>>t}set(t){this._bits[t>>5]|=qb>>>t}clear(t){this._bits[t>>5]&=~(qb>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&sZe>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=qb>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function oZe(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new Ile(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function aZe(e,t){const n=co({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=SM(e,n,{drop:!0}).column("p");r=s=>i[s]}return oZe(e,r)}function Cle(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),u=qh(e,r,n),l=Uo(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(S=>{if(!a.has(S)){const T=l.add(S,[]);c.has(S)||(f.push(e.column(S)),d.push(T))}}),t.forEach(S=>{a.has(S)||(l.has(S)||l.add(S,[]),h.push(l.data[S]))});const p=o?l.add(o,[]):null;let m=0;const y=f.length,g=h.length,v=(S,T)=>{for(let E=0;E<y;++E)d[E].length=m+T,d[E].fill(f[E].get(S),m,m+T)},_=p?(S,T)=>{for(let E=0;E<T;++E)p[S+E]=E}:()=>{};if(g===1){const S=u[0],T=h[0];e.scan((E,x)=>{const P=ao(S(E,x)),M=Math.min(P.length,s);v(E,M);for(let L=0;L<M;++L)T[m+L]=P[L];_(m,M),m+=M})}else e.scan((S,T)=>{let E=0;const x=u.map(P=>{const M=ao(P(S,T));return E=Math.min(Math.max(E,M.length),s),M});v(S,E);for(let P=0;P<g;++P){const M=h[P],L=x[P];for(let F=0;F<E;++F)M[m+F]=L[F]}_(m,E),m+=E});return e.create(l.new())}function uZe(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=qh(e,r,n);return Cle(e,{names:[s,o],exprs:[()=>t,(u,l)=>a.map(c=>c(u,l))]},{...i,drop:t})}function tu(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=Ts(o)?t.columnName(o):o,zi(o)?i.set(o,Sh(o)):ar(o)?sc(t,o).forEach(s):ls(o)?mue(i,o):Yt(`Invalid ${e} value: ${o+""}`)};return ao(n).forEach(s),r.preparse&&r.preparse(i),co(i,{table:t,...r})}function lZe(e,t,n){return uZe(e,tu("fold",e,t),n)}function PH(e,t,n,r){const i=n&&n.length;return cZe(i?fZe(e,n,r):e,t,i)}function cZe(e,{names:t,exprs:n,ops:r},i){const s=qh(e,r,n),o=i?null:Uo(e),a=e.totalRows();return t.forEach((u,l)=>{const c=e.column(u),f=i?c.data:o.add(u,Array(a)),d=s[l];e.scan(h=>{const p=c.get(h);f[h]=Va(p)?p:d(h)})}),i?e:e.create(o)}function fZe(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,u=cx(o);e.scan((p,m)=>a.add(u(p,m)));const l=e.columnNames(),c=Uo(),f=l.map(p=>c.add(p,[]));l.forEach((p,m)=>{const y=i[p],g=f[m];e.scan(v=>g.push(y.get(v)))});const d=cx(o.map((p,m)=>y=>y[m])),h=Wg("v","{"+f.map((p,m)=>`_${m}.push(v[$${m}]);`).join("")+"}",f,l.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const m=n.reduce((g,v)=>g*v.length,r.size),y=new Uint32Array(m+(p-a.size));y.set(r.keys),AH(r,n,(g,v)=>{a.has(d(g))||(h(g),y[p++]=v[0])}),c.groupby({...r,keys:y})}else AH(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function AH(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),u=[];if(e){const{get:c,rows:f,size:d}=e;o[0]=d,u.push((h,p)=>{const m=f[p];for(let y=0;y<r;++y)h[y]=c[y](m)})}t.forEach((c,f)=>{const d=f+r;o[f+i]=c.length,u.push((h,p)=>h[d]=c[p])});const l=Array(r+t.length);for(let c=0;c<s;++c)u[c](l,0);n(l,a);for(let c=s-1;c>=0;){const f=++a[c];f<o[c]?(u[c](l,f),n(l,a),c=s-1):(a[c]=0,u[c](l,0),--c)}}function TM(e,{names:t,exprs:n,ops:r}){const i=Uo(),s=e.groups();return s&&Tle(i,s),dZe(t,n,s,qg(e,r),i),e.create(i.new())}function dZe(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(u,l)=>r[u][l],a=e.length;for(let u=0;u<a;++u){const l=t[u];if(l.field!=null)i.add(e[u],r[l.field]);else if(s>1){const c=i.add(e[u],Array(s));for(let f=0;f<s;++f)c[f]=l(f,null,o)}else i.add(e[u],[l(0,null,o)])}}function hZe(e,t,n={}){if(t=co(t,{table:e}),t.names.forEach(r=>e.column(r)?0:Yt(`Invalid impute column ${sl(r)}`)),n.expand){const r={preparse:pZe,aggronly:!0},i=tu("impute",e,n.expand,r),s=TM(e.ungroup(),i);return PH(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return PH(e,t)}function pZe(e){e.forEach((t,n)=>t.field?e.set(n,zse(t+"")):0)}function mZe(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function Ple(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function gZe(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function yZe(e,t){const n=["i","a","j","b"];return Wg(n,"{"+m1(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function vZe(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),u=a.length,l=new Int32Array(u),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,m=Uo(),y=Array(p),g=Array(p);for(let S=0;S<r.length;++S)y[S]=m.add(r[S],[]),g[S]=i[S];const v=yZe(y,g);if((Tn(n)?bZe:_Ze)(v,n,o,c,a,f,l,h,u,d),s.left)for(let S=0;S<u;++S)l[S]||v(a[S],o,-1,c);if(s.right)for(let S=0;S<d;++S)h[S]||v(-1,o,f[S],c);return e.create(m.new())}function _Ze(e,t,n,r,i,s,o,a,u,l){for(let c=0;c<u;++c){const f=i[c];for(let d=0;d<l;++d){const h=s[d];t(f,n,h,r)&&(e(f,n,h,r),o[c]=1,a[d]=1)}}}function bZe(e,[t,n],r,i,s,o,a,u,l,c){let f,d,h,p,m,y,g,v,_=e;l>=c?(f=r,d=t,h=a,p=s,m=i,y=n,g=u,v=o):(f=i,d=n,h=u,p=o,m=r,y=t,g=a,v=s,_=(E,x,P,M)=>e(P,M,E,x));const S=gZe(v,m,y),T=p.length;for(let E=0;E<T;++E){const x=p[E],P=S.get(d(x,f));if(P){const M=P.length;for(let L=0;L<M;++L){const F=P[L];_(x,f,v[F],m),g[F]=1}h[E]=1}}}function Dx(e,t,n){const r=new Map;ao(n).forEach((s,o)=>{s=Ts(s)?t.columnName(s):s,zi(s)?r.set(o,Sh(s)):ar(s)||ls(s)&&s.expr?r.set(o,s):Yt(`Invalid ${e} key value: ${s+""}`)});const i=co(r,{table:t,aggregate:!1,window:!1});return cx(i.exprs,!0)}function wZe(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function xM(e,t,n){if(n)zi(n)?n=[n,n]:Tn(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=wZe(e.columnNames(),t.columnNames());r.length||Yt("Natural join requires shared column names."),n=[r,r]}return n}function Ale(e,t,n,r){return n.length!==r.length&&Yt("Mismatched number of join keys"),[Dx("join",e,n),Dx("join",t,r)]}const EZe={aggregate:!1,window:!1},SZe={...EZe,index:1};function OH(e,t,n,r,i={}){n=xM(e,t,n);const s={join:[e,t]};let o;if(Tn(n)){const[a,u]=n.map(ao);o=Ale(e,t,a,u),r||(r=TZe(e,a,u,i))}else o=co({on:n},s).exprs[0],r||(r=[ag(),ag()]);return vZe(e,t,o,xZe(e,t,r,s,i&&i.suffix),i)}function TZe(e,t,n,r){const i=[];t.forEach((o,a)=>zi(o)&&o===n[a]?i.push(o):0);const s=yue(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const u=`[${sl(a)}]`;return o.has(a)?{[a]:`(a, b) => a${u} == null ? b${u} : a${u}`}:a}),s]}return r.right?[s,ag()]:[ag(),s]}function xZe(e,t,n,r,i=[]){if(Tn(n)){let s,o,a,u=n.length;s=o=a={names:[],exprs:[]},u--&&(s=tu("join",e,n[0],r)),u--&&(o=tu("join",t,n[1],SZe)),u--&&(a=co(n[2],r));const l=new Set,c=new Set(s.names);return o.names.forEach(f=>{c.has(f)&&l.add(f)}),l.size&&(i[0]!==""&&RH(s.names,l,i[0]||"_1"),i[1]!==""&&RH(o.names,l,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return co(n,r)}function RH(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function IZe(e,t,n,r={}){const i=new Ile(e.totalRows());return(Tn(n)?CZe:PZe)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function CZe(e,t,n,[r,i]){const s=Ple(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function PZe(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const u=t.indices(!1),l=n.indices(!1);for(let c=0;c<i;++c){const f=u[c];for(let d=0;d<s;++d)if(r(f,o,l[d],a)){e.set(f);break}}}else for(let u=0;u<i;++u)for(let l=0;l<s;++l)if(r(u,o,l,a)){e.set(u);break}}function NH(e,t,n,r){n=xM(e,t,n);const i=Tn(n)?Ale(e,t,...n.map(ao)):co({on:n},{join:[e,t]}).exprs[0];return IZe(e,t,i,r)}function AZe(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=Uo(e),u=e.totalRows();i.forEach(d=>a.add(d,Array(u).fill(bn)));const l=Ple(t,r),c=Wg(["lr","rr","data"],"{"+m1(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),qh(t,o,s)),f=t.data();return e.scan((d,h)=>{const p=l.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function OZe(e,t,n,r){return n=xM(e,t,n),AZe(e,t,[Dx("lookup",e,n[0]),Dx("lookup",t,n[1])],tu("lookup",t,r))}const Nk=(e,t)=>e??t;function RZe(e,t,n,r={}){const{keys:i,keyColumn:s}=NZe(e,t,r),o=Nk(r.valueSeparator,"_"),a=n.names.length>1?(l,c)=>c+o+i[l]:l=>i[l],u=i.map(l=>qg(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>l===s[h]?1:NaN;return d.toString=()=>l+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,m)=>l===s[p]?d(p,m):NaN;return h.toString=()=>l+":"+d,h});return{...c,fields:f}})));return e.create(kZe(n,a,e.groups(),u))}function NZe(e,t,n){const r=n.limit>0?+n.limit:1/0,i=Nk(n.sort,!0),s=Nk(n.keySeparator,"_"),o=qh(e,t.ops,t.exprs),a=o.length===1?o[0]:(f,d)=>o.map(h=>h(f,d)).join(s),u=Array(e.totalRows());e.scan((f,d)=>u[f]=a(f,d));const l=qg(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>u[f]],params:[]}])[0][0],c=i?l.sort():l;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:u}}function kZe({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=Uo(),a=i.length,u=e.length;let l;const c=(f,d)=>l[f][d];r&&Tle(o,r);for(let f=0;f<u;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[f]),i[h][d.field]);else if(s>1)for(let h=0;h<a;++h){l=i[h];const p=o.add(n(h,e[f]),Array(s));for(let m=0;m<s;++m)p[m]=d(m,null,c)}else for(let h=0;h<a;++h)l=i[h],o.add(n(h,e[f]),[d(0,null,c)])}return o.new()}function DZe(e,t,n,r){return RZe(e,tu("fold",e,t),tu("fold",e,n,{preparse:$Ze,aggronly:!0}),r)}function $Ze(e){e.forEach((t,n)=>t.field?e.set(n,Bse(t+"")):0)}function LZe(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),bM(e,sc(e,t,n))}function kH(e,t){return TM(e,co(t,{table:e,aggronly:!0,window:!1}))}function MZe(e,t,n,r){return(t?r?jZe:FZe:r?UZe:BZe)(e.length,e,n,r)}function FZe(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*Lg()|0];return t}function jZe(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let u=0;u<i;++u)s[u]=o+=r(n[u]);const a=xle(wM).right;for(let u=0;u<e;++u)t[u]=n[a(s,o*Lg())];return t}function BZe(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*Lg();s<e&&(t[s|0]=n[i])}return t}function UZe(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(Lg())/r(n[a]);o.sort((a,u)=>s[a]-s[u]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function VZe(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=Lg()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function zZe(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const u=new Uint32Array(a);let l=0;return o.forEach((c,f)=>{const d=t[f],h=u.subarray(l,l+=d);!i&&d===c.length?h.set(c):MZe(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&VZe(u),e.reify(u)}function HZe(e,t,n={}){return zZe(e,WZe(e,t),qZe(e,n.weight),n)}const Ole=e=>t=>e.get(t)||0;function WZe(e,t){return Ts(t)?()=>t:Ole(TM(e,co({size:t},{table:e,window:!1})).column("size"))}function qZe(e,t){return t==null?null:(t=Ts(t)?e.columnName(t):t,Ole(zi(t)?e.column(t):SM(e,co({w:t},{table:e}),{drop:!0}).column("w")))}function GZe(e,t){return bM(e,sc(e,t))}function YZe(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),u=qh(e,r,n),l=Uo(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=KZe(e,u[d],a),m=p.length;for(let y=0;y<m;++y)l.add(s[y]||`${h}_${y+1}`,p[y])};return e.columnNames().forEach(d=>{c.has(d)?(o||l.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):l.add(d,e.column(d))}),c.forEach(f),e.create(l)}function KZe(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=ao(t(s,o)),u=Math.min(a.length,n);for(;i.length<u;)i.push(Array(r).fill(bn));for(let l=0;l<u;++l)i[l][s]=a[l]}),i}function QZe(e,t,n){return YZe(e,tu("spread",e,t),n)}function XZe(e,t){return e.concat(t).dedupe()}function JZe(e,t,n){return Cle(e,tu("unroll",e,t),n&&n.drop?{...n,drop:tu("unroll",e,n.drop).names}:n)}function ZZe(e,t){return e.create({groups:eet(e,t)})}function eet(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=qh(e,r,n);const o=cx(s),a=e.totalRows(),u=new Uint32Array(a),l={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,f))),{keys:u,get:s,names:t,rows:c,size:c.length}}function tet(e,t){return ZZe(e,tu("groupby",e,t))}function net(e,t){return e.create({order:t})}const ret=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function iet(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:u}=co(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const m=y=>`fn[${i.length}](${y}, data)`;r.push([m("a"),m("b")]),i.push(p.escape)}else r.push([lx(p,{index:"a",op:o}),lx(p,{index:"b",op:a})])},window:!1}),l=qg(e,u),c=(h,p)=>l[h][p],f=n.length;let d="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[m,y]=r[h];d+=ret(m,y,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,s,i,e.data())}function set(e,t){return net(e,oet(e,t))}function oet(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(ls(o)&&!ar(o))for(const a in o)i(o[a]);else i(Ts(o)?Sh(s,e.columnName(o)):zi(o)?Sh(s):ar(o)?s:Yt(`Invalid orderby field: ${s+""}`))}),iet(e,r)}function aet(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=Uo();return e.columnNames().forEach(o=>{const a=Array(r);let u=0;i.forEach(l=>{const c=l.column(o)||{get:()=>bn};l.scan(f=>a[u++]=c.get(f))}),s.add(o,a)}),e.create(s.new())}function uet(e,t){const n=Uo(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},u=new Uint32Array(a+1);s.forEach(d=>n.add(d,null));const l=r?Sle(e,t,r):[Ele(e,t)];t.outputs().map(d=>n.add(d,[]));const c=u.length-1;let f=0;for(let d=0;d<c;++d)f+=u[d+1]=t.write(l[d],n.data,u[d]);if(r){const d=e.data();s.forEach((h,p)=>{const m=n.data[h]=Array(f),y=i[p];for(let g=0,v=0;g<a;++g)m.fill(y(o[g],d),v,v+=u[g+1])})}return e.create(n.new())}function cet(e){return e.isGrouped()?e.create({groups:null}):e}function fet(e){return e.isOrdered()?e.create({order:null}):e}const det={__antijoin:(e,t,n)=>NH(e,t,n,{anti:!0}),__count:(e,t={})=>kH(e,{[t.as||"count"]:Use()}),__cross:(e,t,n,r)=>OH(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:aet,__dedupe:FJe,__derive:rZe,__except:iZe,__filter:aZe,__fold:lZe,__impute:hZe,__intersect:mZe,__join:OH,__lookup:OZe,__pivot:DZe,__relocate:ble,__rename:LZe,__rollup:kH,__sample:HZe,__select:GZe,__semijoin:NH,__spread:QZe,__union:XZe,__unroll:JZe,__groupby:tet,__orderby:set,__ungroup:cet,__unorder:fet,__reduce:uet};Object.assign(kl.prototype,det);function het(e,t){return kl.from(e,t)}function pet(e){return oP(e,{escape:!0,toString(){Yt("Escaped values can not be serialized.")}})}kl.prototype;const Ca={top:30,left:60,right:80,bottom:50};function Rle({data:e,selection:t,parameters:n,dataname:r}){const o=w.useMemo(()=>{const c=e.map(f=>({...f,value:+f[n.y_var]}));return het(c)},[e,n]),a=w.useMemo(()=>{const c=vh(o.filter(pet(f=>t.includes(f[n.cat_var]))).array("value"));return r==="clean_stocks"?c:[0,c[1]]},[o,t,n,r]),u=w.useMemo(()=>_h([Ca.top,400-Ca.bottom]).domain(vh(o.array("value")).reverse()),[o,400]),l=Tf(r==="clean_stocks"?".0%":",.0f");return(t==null?void 0:t.length)===0?null:I.jsxs("svg",{style:{height:"400px",width:"60px",overflow:"visible"},children:[I.jsx("rect",{y:u(a[1]),height:u(a[0])-u(a[1]),x:Ca.left-10,width:10,opacity:.1,fill:"black"}),I.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",textAnchor:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:25,y:Ca.top-5,children:l(u.domain()[0])}),I.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",textAnchor:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:25,y:400-Ca.bottom+8,children:l(u.domain()[1])}),I.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:Ca.left-5,y:u(a[0]),children:l(a[0])}),I.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:Ca.left-5,y:u(a[1]),children:l(a[1])}),e.map(c=>I.jsx("rect",{opacity:.2,fill:+c[n.y_var]>0?"steelblue":"firebrick",x:0,width:50,y:u(+c[n.y_var]),height:1},"strip")),I.jsx("line",{strokeWidth:2,stroke:"black",style:{fontSize:10,dominantBaseline:"middle"},x1:0,x2:50,y1:u(a[0]),y2:u(a[0])}),I.jsx("line",{strokeWidth:2,stroke:"black",x1:0,x2:50,y1:u(a[1]),y2:u(a[1])}),I.jsx("line",{strokeWidth:2,stroke:"black",x1:0,x2:0,y1:u(a[1]),y2:u(a[0])}),I.jsx("line",{strokeWidth:2,stroke:"black",x1:50,x2:50,y1:u(a[1]),y2:u(a[0])}),I.jsx("path",{fill:"black",opacity:"0.1",d:`M${Ca.left}, ${u(a[1])} L 113, ${Ca.top} L 113, ${400-Ca.bottom} L ${Ca.left}, ${u(a[0])}`})]})}const met=Object.freeze(Object.defineProperty({__proto__:null,StripPlot:Rle},Symbol.toStringTag,{value:"Module"}));function Nle({parameters:e}){const t=e.dataset==="clean_data"?I.jsxs(Z0,{children:["Select any subset of countries to the left of the visualization to support the prompt at the top of the page.",I.jsx("h4",{children:"Background:"}),"You live in a fantasy world that consists of your home country, as well as other 15 countries located across 5 continents: Eldoril, Thundoril, Aerion, Silvoria, and Mystara. Countries within each continent are similar to each other in size and demographics.",I.jsx("h4",{children:"Scenario:"}),"You are an analyst for the Viral Disease Policy Center of your home country at time when there is a new viral disease called",I.jsx("i",{children:" Celestial Sniffles"}),". Luckily, your country has not been affected yet and has time to prepare and decide on a policy to combat it. You have access to the infection data from other countries that implemented one of the 3 available policies: A, B, or C. However, due to socioeconomic factors, the Surgeon General in your country has",I.jsx("i",{children:" already decided on a policy"}),".",I.jsx("h4",{children:"Task:"}),"You are tasked with leading the promotion efforts that make the case for the chosen policy. In the experiment, you will use an interactive data explorer that shows infection data from other countries. You should select a view that best shows (and convinces the population) that your country's"," ",I.jsx("b",{children:"chosen policy is the best policy to combat the disease"}),". After finalizing the view, click the camera button and add a caption or a slogan that will go along with your visualization."]}):I.jsxs(Z0,{children:["Select any subset of stocks to the left of the visualization to support the prompt at the top of the page.",I.jsx("h4",{children:"Scenario:"})," ","You are a financial advisor. Your client approached you asking for help in picking a new investmentan industry fund that equally invests within a single industry. The client prefers to make their decisions"," ",I.jsx("i",{children:"solely based on the data"}),", and not based on any inside knowledge about the type of industry. However, your boss"," ",I.jsx("i",{children:"does"})," ","have inside knowledge and orders you to recommend a specific industry (which is ultimately in the best interest of the client). You cannot disclose this to the client and have to use data to support your recommendations.",I.jsx("h4",{children:"Task:"})," ","In the experiment, you will use an interactive data explorer that shows performance of different stocks from a variety of industries. You should select a view that best shows (and convinces your client) that"," ",I.jsx("b",{children:"the chosen industry fund would be the best investment with the highest returns"}),". After finalizing the view, click the camera button and add a caption or a slogan that will go along with your visualization."]}),n=e.dataset==="clean_data"?I.jsxs(Z0,{children:[I.jsx("h4",{children:"Background:"}),"You live in a fantasy world that consists of your home country, as well as other 15 countries located across 5 continents: Eldoril, Thundoril, Aerion, Silvoria, and Mystara. Countries within each continent are similar to each other in size and demographics.",I.jsx("h4",{children:"Scenario:"}),"There's a new viral disease called"," ",I.jsx("i",{children:"Celestial Sniffles"}),". Most countries in the world have adopted one of 3 major disease containment policies: A, B, or C. Luckily, your country has not been affected yet but you may need to travel to one of the affected countries for work. Afraid of getting sick and stuck abroad with a huge hospital bill, you decide to purchase a traveler's health insurance policy. The price of the policy is very flexible and depends on the amount of coverage you'll get: anywhere between $0 (no coverage) to $100 (full coverage). Since you are not familiar with the disease trends or containment policies, you turn to social media to read what people shared about recent infection rates.",I.jsx("h4",{children:"Task:"}),"In the experiment, you will see a set of visualizations that show infection rates in different countries that adopted one of the containment policies A, B, or C. You can refer to the list of countries to the left of the visualization to see which country adopted which Policy. Based on each visualization, you will be asked to decide"," ",I.jsx("b",{children:"how much to spend on your insurance policy"})," ","and"," ",I.jsx("b",{children:"answer a short survey"}),"."]}):I.jsxs(Z0,{children:[I.jsx("h4",{children:"Scenario:"}),"You have $100 that you would like to invest in"," ",I.jsx("i",{children:"industry funds"})," ","but are not sure how to best allocate that money. An industry fund is composed of all individual stocks pertaining to that industry (e.g., a Pharma fund is composed of Pharma A, Pharma B, and Pharma C stocks). Since you are not familiar with the current market, you turn to social media to read what people shared about recent stock performance.",I.jsx("h4",{children:"Task:"}),"In the experiment, you will see a set of visualizations that show performance of different stocks from a variety of industries. Based on each visualization, you will be asked to decide"," ",I.jsx("b",{children:"how much to invest in a given industry fund"})," ","and"," ",I.jsx("b",{children:"answer a short survey"}),"."]});return I.jsx(ti,{position:"right",children:I.jsxs(rm,{width:800,shadow:"md",children:[I.jsx(rm.Target,{children:I.jsx(_s,{variant:"light",color:"gray",compact:!0,children:"Help"})}),I.jsx(rm.Dropdown,{children:I.jsx(tt,{size:"sm",children:e.allow_selection?t:n})})]})})}const get=Object.freeze(Object.defineProperty({__proto__:null,Help:Nle},Symbol.toStringTag,{value:"Module"}));function DH({parameters:e,setAnswer:t}){const[n,r]=w.useState(null),[i,s]=w.useState(e.dataset),[o,a]=w.useState(e.initial_selection),[u,l]=w.useState(null),[c,f]=w.useState([new Date(e.start_date),new Date(e.end_date)]),[d,h]=w.useState(!1),[p,m]=w.useState(e.guardrail),[y,g]=w.useState(2);w.useEffect(()=>{KN(`./data/${i}.csv`).then(L=>{r(L),l(Array.from(new Set(L.map(F=>JSON.stringify({name:F[e.cat_var],group:F[e.group_var],longName:F.long_name||null,sector:F.sector||null,subregion:F.subregion||null})))).map(F=>JSON.parse(F)))}),f(i==="clean_data"?[new Date("2020-01-01"),new Date("2024-01-01")]:[new Date(e.start_date),new Date(e.end_date)])},[i,e]),w.useEffect(()=>{a(e.initial_selection??[]),h(!1),m(e.guardrail),g(2)},[i,e]);const v=w.useMemo(()=>n&&c?n.filter(L=>new Date(L[e.x_var]).getTime()>=c[0].getTime()).filter(L=>new Date(L[e.x_var]).getTime()<=c[1].getTime()):null,[n,c,e.x_var,i]),_=w.useMemo(()=>{if(!v)return null;if(!d||p==="cluster")return v;if(i==="clean_data"){const L=new Set(v.filter(F=>o==null?void 0:o.includes(F.name)).map(F=>F.subregion));return v.filter(F=>L.has(F.subregion))}if(i==="sp500_stocks"){const L=new Set(v.filter(F=>o==null?void 0:o.includes(F.name)).map(F=>F.sector));return v.filter(F=>L.has(F.sector))}return v},[v,i,d,p,o]),S=L=>{s(L),a([])},{actions:T,trrack:E}=w.useMemo(()=>{const L=jC.create(),F=L.register("selection",(U,te)=>(U.selection=te,U)),V=L.register("range",(U,te)=>(U.range=te,U)),oe=xse({registry:L,initialState:{selection:[],range:[e.start_date,e.end_date]}});return{actions:{selection:F,range:V},trrack:oe}},[e.end_date,e.start_date]),x=w.useCallback(L=>{E.apply("Change daterange",T.range([L[0].toISOString().slice(0,10),L[1].toISOString().slice(0,10)]))},[E,T]),P=w.useMemo(()=>fu(x,200),[x]),M=w.useCallback(L=>{E.apply("Change selection",T.selection(L)),t({status:!0,provenanceGraph:E.graph.backend,answers:{}})},[E,T,t]);return v&&u&&c&&o?I.jsxs(bs,{children:[e.allow_guardrail_selector?I.jsx(TS,{shadow:"sm",radius:"md",p:"md",style:{width:"500px"},children:I.jsx(fk,{guardrail:p,setGuardrail:m,dataname:i,setDataname:S,setSelection:a,setMetadataFiltered:h,numRandomSamples:y,setNumRandomSamples:g})}):null,I.jsx(Um,{children:I.jsxs(TS,{shadow:"md",radius:"md",p:"md",withBorder:!0,children:[e.caption===""?null:I.jsx(Um,{style:{width:"800px"},children:e.caption?I.jsx(FJ,{children:e.caption}):null}),I.jsxs(ti,{noWrap:!0,align:"flex-start",style:{alignItems:"flex-start",height:"100%"},children:[e.allow_selection===!1&&e.guardrail!=="juxt_data"?null:I.jsx(ti,{style:{flex:"1",display:"flex",flexDirection:"column",height:"100%",alignContent:"flex-start",...i==="sp500_stocks"?{width:"380px"}:{}},children:I.jsx(lk,{parameters:e,data:v,dataname:i,items:u,selection:o,setSelection:a,trackSelection:M,range:c,guardrail:p})}),e.allow_selection===!1&&e.guardrail!=="juxt_data"?null:I.jsx(_f,{orientation:"vertical",size:"xs"}),I.jsxs(bs,{children:[I.jsxs(ti,{position:"apart",children:[I.jsxs(bs,{spacing:0,justify:"flex-start",children:[I.jsx(tt,{fw:500,children:i==="clean_stocks"||i==="sp500_stocks"?"Percent change in stock price":"Infections per million people"}),p==="super_summDELETE"?I.jsx(tt,{fz:"xs",c:"dimmed",children:"Shaded area contains the industry average and shows the middle 50% of all values in the industry."}):null,p==="juxt_summ"?I.jsx(tt,{fz:"xs",c:"dimmed",children:"Bar on the left highlights the range of selection among all data."}):null]}),e.allow_help?I.jsx(Nle,{parameters:e}):null]}),I.jsxs(bs,{children:[I.jsxs(ti,{noWrap:!0,children:[p==="juxt_summ"?I.jsx(Rle,{parameters:e,data:v,selection:o,dataname:i}):null,I.jsx(uk,{parameters:e,data:_??[],dataname:i,items:u,selection:o,range:c,guardrail:p,metadataFiltered:d,numRandomSamples:y})]}),e.allow_time_slider&&i==="clean_data"?I.jsx("div",{style:{width:"500px"},children:I.jsx(ck,{parameters:e,range:c,setRange:f,trackRange:P})}):null]})]})]})]})})]}):I.jsx(nd,{})}const yet=Object.freeze(Object.defineProperty({__proto__:null,DataExplorer:DH,default:DH},Symbol.toStringTag,{value:"Module"})),vet=Object.assign({"../public/viz-guardrails/AudioTest.tsx":ZVe,"../public/viz-guardrails/Color.tsx":e7e,"../public/viz-guardrails/DataExplorer.tsx":yet,"../public/viz-guardrails/Help.tsx":get,"../public/viz-guardrails/LineChart.tsx":GWe,"../public/viz-guardrails/RangeSelector.tsx":uqe,"../public/viz-guardrails/Selector.tsx":lqe,"../public/viz-guardrails/Sidebar.tsx":aqe,"../public/viz-guardrails/StripPlot.tsx":met,"../public/viz-guardrails/XAxis.tsx":HWe,"../public/viz-guardrails/YAxis.tsx":WWe,"../public/viz-guardrails/hooks/useRandomGuardrail.tsx":qWe});function _et({currentConfig:e,provState:t}){const n=vl(),r=`../public/${e.path}`,i=vet[r].default,s=rl(),{updateResponseBlockValidation:o,setIframeAnswers:a}=nl(),u=w.useCallback(({status:l,provenanceGraph:c,answers:f})=>{s(o({location:"sidebar",currentStep:n,status:l,values:f,provenanceGraph:c})),s(a(Object.values(f).map(d=>d)))},[s,o,n,a]);return I.jsx(w.Suspense,{fallback:I.jsx("div",{children:"Loading..."}),children:I.jsx(i,{parameters:e.parameters,setAnswer:u,provenanceState:t})})}function bet({currentConfig:e}){const[t,n]=w.useState(null);return w.useEffect(()=>{fetch(`${gl}${e.path}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:I.jsx("div",{style:{maxWidth:700,margin:"0 0"},children:I.jsx(oo,{text:t})})}function Th(){return da(e=>e.config)}function kle(){const e=vl(),{setAlertModal:t}=nl(),n=rl();w.useEffect(()=>{(new URLSearchParams(window.location.search).get("admin")||"f")==="t"||(window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))})},[e,t,n])}function Dle({provState:e}){var S;const t=Th(),n=la(),{trialName:r}=fh(),i=t.components[r],s=c6(),o=hC(i)&&t.baseComponents?l6({},(S=t.baseComponents)==null?void 0:S[i.baseComponent],i):i,a=o.instruction||"",{instructionLocation:u}=o,l=t.uiConfig.sidebar&&(u==="sidebar"||u===void 0),[c,f]=w.useState(null),d=rl(),{setIsRecording:h}=nl(),{trialName:p}=fh(),[m,y]=w.useState(null);w.useEffect(()=>{!p||!t||!t.recordStudyAudio||!n.storageEngine||(c&&m&&n.storageEngine.saveAudio(c,m),t.tasksToNotRecordAudio&&t.tasksToNotRecordAudio.includes(p)?(y(null),f(null),d(h(!1))):(navigator.mediaDevices.getUserMedia({audio:!0}).then(E=>{const x=new MediaRecorder(E);x.start(),f(x),d(h(!0))}),y(p)))},[p]),kle();const{storageEngine:g}=la(),v=rl(),{setAlertModal:_}=nl();return w.useEffect(()=>{(g==null?void 0:g.getEngine())!=="firebase"&&v(_({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[_,g,v]),I.jsxs(I.Fragment,{children:[u==="aboveStimulus"&&I.jsx(oo,{text:a}),I.jsx(qT,{status:s,config:o,location:"aboveStimulus"},`${r}-above-response-block`),I.jsxs(w.Suspense,{fallback:I.jsx("div",{children:"Loading..."}),children:[o.type==="markdown"&&I.jsx(bet,{currentConfig:o}),o.type==="website"&&I.jsx(QVe,{currentConfig:o}),o.type==="image"&&I.jsx(JVe,{currentConfig:o}),o.type==="react-component"&&I.jsx(_et,{currentConfig:o,provState:e})]},`${r}-stimulus`),(u==="belowStimulus"||u===void 0&&!l)&&I.jsx(oo,{text:a}),I.jsx("div",{style:{maxWidth:800,margin:"0 0"},children:I.jsx(qT,{status:s,config:o,location:"belowStimulus"},`${r}-below-response-block`)})]})}function wet(e){const[t]=w$();return I.jsx(N0e,{...e,to:{pathname:e.to,search:t.toString()}})}function Eet(){const e=Th(),{storageEngine:t}=la(),{answers:n}=da(s=>s),[r,i]=w.useState(!1);return w.useEffect(()=>{const s=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(s))},1e3)},[]),kle(),I.jsx(fa,{style:{height:"100%"},children:I.jsx(Um,{direction:"column",children:r?I.jsx(tt,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?I.jsx(oo,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):I.jsxs(I.Fragment,{children:[I.jsx(tt,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),I.jsx(ST,{h:"lg"}),I.jsx(fa,{children:I.jsx(nd,{color:"blue"})})]})})})}function Tet(e,t=!1){return typeof e=="number"?$H(e,t):$H(e.length,t).map(r=>r.map(i=>e[i]))}function $H(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function $le(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=$le(i,t,`${n}-${r}`))}if(e.order==="random"){const r=e.components.sort(()=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t[n].pop().map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.slice(0,e.numSamples?e.numSamples:void 0).flat()}function xet(e,t){const n=Ag(e);return $le(n,t,"root"),n.components.slice(0,n.numSamples?n.numSamples:void 0).flat()}function Lle(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&Lle(s,t,i,o)})}function Iet(e){const t=[];return Lle(e,t,"",0),t}function LH(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_orderObj${a}`);return Tet(i.sort(()=>.5-Math.random()),!0)}function Cet(e){const n=Iet(e.sequence).map(s=>({[s]:LH(e,s)})).reduce((s,o)=>({...s,...o}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const s=xet(e.sequence,n);s.push("end"),i.push(s),Object.entries(n).forEach(([o,a])=>{a.length===0&&(n[o]=LH(e,o))})}),i}const kk=["description","instruction","answer","correctAnswer","startTime","endTime","duration","taskOrder"],Xw=["participantId","trialId","responseId"];function Jw(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function Pet(e,t,n){return Object.entries(t.components).map(([r,i])=>{const s=hC(i)&&i.baseComponent&&t.baseComponents?l6({},t.baseComponents[i.baseComponent],i):i,o=e.answers[r],a=o!==void 0?o:{answer:{},startTime:-1,endTime:-1,windowEvents:[]},u=a.endTime-a.startTime;return Object.entries(a.answer).map(([c,f])=>{const d={participantId:e.participantId,trialId:r,responseId:c,startTime:new Date(a.startTime).toUTCString(),endTime:new Date(a.endTime).toUTCString(),duration:u};return n.includes("description")&&(d.description=s.description),n.includes("instruction")&&(d.instruction=s.instruction),n.includes("answer")&&(d.answer=f),n.includes("correctAnswer")&&(d.correctAnswer=s.correctAnswer),n.includes("taskOrder")&&(d.taskOrder=e.sequence.indexOf(r)),d}).flat()}).flat()}async function Aet(e,t,n,r=[...Xw,...kk]){const s=(await t.getAllParticipantsData()).map(l=>Pet(l,n,r)).flat(),o=l=>l.replace(/"/g,'""'),a=s.map(l=>r.map(c=>l===null?"":typeof l[c]=="string"?`"${o(l[c])}"`:JSON.stringify(l[c])).join(",")),u=[r.join(","),...a].join(`
`);Jw(u,e)}function Oet({opened:e,close:t,filename:n,studyConfig:r}){const[i,s]=E_e([...Xw,...kk]),o=w.useCallback(l=>{Xw.every(c=>l.includes(c))&&s(l)},[s]),a=w.useMemo(()=>[...Xw,...kk],[]),{storageEngine:u}=la();return u?I.jsxs(YI,{opened:e,size:"lg",onClose:t,title:I.jsx(tt,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[I.jsx(ft,{children:I.jsx(jee,{searchable:!0,limit:30,nothingFound:"Property not found",data:a,value:i,onChange:o,label:I.jsx(tt,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),I.jsxs(Um,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[I.jsx(_s,{leftIcon:I.jsx(kse,{}),onClick:()=>Aet(n,u,r,i),children:"Download"}),I.jsx(_s,{onClick:t,color:"red",children:"Close"})]})]}):null}function Ret({studyConfig:e}){const{storageEngine:t}=la(),[n,{open:r,close:i}]=k$(!1),[s,o]=w.useState(),[a,u]=w.useState(""),l=e.studyMetadata.title.replace(" ","_");w.useEffect(()=>{async function m(){if(t){const y=await t.getCurrentParticipantId(),g=await t.getParticipantData();u(y),o(g)}}m()},[t]);const c=w.useCallback(async()=>{Jw(JSON.stringify(s,null,2),`${l}_${a}.json`)},[s]),f=e.uiConfig.autoDownloadStudy||!1,d=f&&e.uiConfig.autoDownloadTime||-1,[h,p]=w.useState(Math.floor(d/1e3));return w.useEffect(()=>{const m=setInterval(()=>{p(y=>y-1)},1e3);return h<=0?(c(),clearInterval(m),()=>clearInterval(m)):()=>clearInterval(m)},[h]),I.jsxs(bs,{children:[I.jsx(_s,{leftIcon:I.jsx(nqe,{}),onClick:()=>Jw(JSON.stringify(s,null,2),`${l}_${a}.json`),display:"block",children:"Download Current (JSON)"}),I.jsx(_s,{disabled:!(t!=null&&t.isConnected()),leftIcon:I.jsx(rqe,{}),onClick:async()=>{if(!t)return;const m=await t.getAllParticipantsData();Jw(JSON.stringify(m,null,2),`${l}_all.json`)},display:"block",children:"Download All (JSON)"}),I.jsx(_s,{disabled:!(t!=null&&t.isConnected()),leftIcon:I.jsx(kse,{}),onClick:r,display:"block",children:"Download All (Tidy)"}),f&&I.jsxs(tt,{size:"lg",children:["Study results will be downloaded in"," ",h," ","seconds. If the download does not start automatically, click above to download."]}),I.jsx(Oet,{opened:n,close:i,filename:`${l}_${a}.csv`,studyConfig:e})]})}function aP(e){return e.components.flatMap(t=>typeof t=="string"?t:aP(t))}function MH(e,t){return aP(t).find(i=>e.indexOf(i)!==-1)}function Net(e,t){return aP(t).filter(i=>e.indexOf(i)!==-1)}function ket({step:e,currentStep:t,sequence:n,task:r,studyId:i}){const s=td(),[o,{close:a,open:u}]=k$(!1);return I.jsxs(_i,{position:"left",withArrow:!0,arrowSize:10,shadow:"md",opened:o,offset:20,children:[I.jsx(_i.Target,{children:I.jsx("div",{onMouseEnter:u,onMouseLeave:a,children:I.jsx(zee,{active:e===t,style:{lineHeight:"32px",height:"32px"},label:I.jsx("div",{style:{opacity:n.indexOf(e)===-1?".3":1},children:e===t?I.jsx("strong",{children:e}):e}),onClick:()=>s(`/${i}/${e}`),disabled:n.indexOf(e)===-1})})}),r&&(r.description||r.meta)&&pc.createPortal(I.jsx(_i.Dropdown,{onMouseLeave:a,children:I.jsx(tt,{size:"sm",children:I.jsxs("div",{children:[r.description&&I.jsxs("div",{children:[I.jsx(tt,{fw:900,display:"inline-block",mr:2,children:"Description:"}),I.jsx(tt,{fw:400,component:"span",children:r.description})]}),r.meta&&I.jsxs(tt,{children:[I.jsx(tt,{fw:"900",component:"span",children:"Task Meta: "}),I.jsx("pre",{style:{margin:0,padding:0},children:`${JSON.stringify(r.meta,null,2)}`})]})]})})}),document.body)]})}function Mle({sequence:e,order:t,depth:n=0}){const{studyId:r=null}=fh(),i=vl(),s=Th(),o=w.useMemo(()=>{const a=Ag(t);return a.components.sort((u,l)=>{const c=typeof u=="string"?u:MH(e,u),f=typeof l=="string"?l:MH(e,l),d=c?e.indexOf(c):1e4,h=f?e.indexOf(f):1e4;return(d===-1?1e4:d)-(h===-1?1e4:h)}),a},[t,e]);return I.jsx("div",{children:o.components.map((a,u)=>{if(typeof a=="string"){const f=a in s.components&&s.components[a];return I.jsx(ket,{currentStep:i,sequence:e,step:a,studyId:r,task:f},u)}const l=aP(a),c=Net(e,a);return I.jsx(zee,{label:I.jsxs("div",{style:{opacity:c.length?1:.5},children:["Group:",I.jsxs(Uxe,{ml:5,children:[c.length,"/",l.length]}),I.jsx(tt,{c:"dimmed",display:"inline",mr:5,ml:5,children:a.order}),a.order==="random"||a.order==="latinSquare"?I.jsx(tqe,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}}):null]}),defaultOpened:!0,childrenOffset:32,style:{lineHeight:"32px",height:"32px",position:"sticky",top:`${32*n}px`,backgroundColor:"#fff"},children:I.jsx("div",{style:{borderLeft:"1px solid #e9ecef"},children:I.jsx(Mle,{order:a,sequence:e,depth:n+1})})},u)})})}function Det(){const{showAdmin:e,sequence:t}=da(s=>s),n=vl(),r=Th(),i=w.useMemo(()=>{const s=Ag(r.sequence);return s.components.push("end"),s},[r.sequence]);return e||n==="end"&&r.uiConfig.autoDownloadStudy?I.jsx($$,{p:"0",width:{base:300},style:{zIndex:0},children:I.jsxs(j$,{p:"0",children:[n==="end"&&I.jsxs("div",{style:{padding:10,paddingBottom:15,borderBottom:"1px solid #e9ecef"},children:[I.jsx(tt,{size:"md",p:10,weight:"bold",children:"Download"}),I.jsx(Ret,{studyConfig:r})]}),I.jsx(tt,{size:"md",p:10,weight:"bold",children:"Study Sequence"}),I.jsx(Mle,{order:i,sequence:t})]})}):null}const Fle=w.createContext(null),IM=({id:e="waveform",children:t})=>R.createElement("div",{id:e},t),$et=["audioRate","audioContext","audioScriptProcessor","autoCenter","backend","backgroundColor","barGap","barHeight","barMinHeight","barRadius","barWidth","closeAudioContext","cursorColor","cursorWidth","fillParent","forceDecode","height","hideScrollbar","interact","loopSelection","maxCanvasWidth","mediaControls","mediaType","minPxPerSec","normalize","partialRender","pixelRatio","progressColor","removeMediaElementOnDestroy","renderer","responsive","scrollParent","skipLength","splitChannels","waveColor","autoCenterRate","autoCenterImmediately","drawingContextAttributes","duration","ignoreSilenceMode","rtl","splitChannelsOptions","vertical","xhr"],Let=e=>e?$et.reduce((t,n)=>Object.prototype.hasOwnProperty.call(e,n)?Object.assign(Object.assign({},t),{[n]:e[n]}):t,{}):{};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ri(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(l){try{u(r.next(l))}catch(c){s(c)}}function a(l){try{u(r.throw(l))}catch(c){s(c)}}function u(l){var c;l.done?i(l.value):(c=l.value,c instanceof n?c:new n(function(f){f(c)})).then(o,a)}u((r=r.apply(e,t||[])).next())})}let g1=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}};const FH={decode:function(e,t){return ri(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally(()=>n.close())})},createBuffer:function(e,t){return typeof e[0]=="number"&&(e=[e]),function(n){const r=n[0];if(r.some(i=>i>1||i<-1)){const i=r.length;let s=0;for(let o=0;o<i;o++){const a=Math.abs(r[o]);a>s&&(s=a)}for(const o of n)for(let a=0;a<i;a++)o[a]/=s}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function jle(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children")for(const[s,o]of Object.entries(t))typeof o=="string"?n.appendChild(document.createTextNode(o)):n.appendChild(jle(s,o));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function jH(e,t,n){const r=jle(e,t||{});return n==null||n.appendChild(r),r}var Met=Object.freeze({__proto__:null,createElement:jH,default:jH});const Fet={fetchBlob:function(e,t,n){return ri(this,void 0,void 0,function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return function(i,s){ri(this,void 0,void 0,function*(){if(!i.body||!i.headers)return;const o=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let u=0;const l=f=>ri(this,void 0,void 0,function*(){u+=(f==null?void 0:f.length)||0;const d=Math.round(u/a*100);s(d)}),c=()=>ri(this,void 0,void 0,function*(){let f;try{f=yield o.read()}catch{return}f.done||(l(f.value),yield c())});c()})}(r.clone(),t),r.blob()})}};class jet extends g1{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onceMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n)}onceMediaEvent(t,n){return this.onMediaEvent(t,n,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){if(this.getSrc()===t)return;this.revokeSrc();const r=n instanceof Blob&&this.canPlayType(n.type)?URL.createObjectURL(n):t;this.media.src=r}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return ri(this,void 0,void 0,function*(){if(this.media.src)return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}class uP extends g1{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,s]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=s.querySelector(".scroll"),this.wrapper=s.querySelector(".wrapper"),this.canvasWrapper=s.querySelector(".canvases"),this.progressWrapper=s.querySelector(".progress"),this.cursor=s.querySelector(".cursor"),n&&s.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=r=>{const i=this.wrapper.getBoundingClientRect(),s=r.clientX-i.left,o=r.clientX-i.left;return[s/i.width,o/i.height]};this.wrapper.addEventListener("click",r=>{const[i,s]=t(r);this.emit("click",i,s)}),this.wrapper.addEventListener("dblclick",r=>{const[i,s]=t(r);this.emit("dblclick",i,s)}),this.options.dragToSeek&&this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=r/i,a=(r+s)/i;this.emit("scroll",o,a)});const n=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{n().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){(function(t,n,r,i,s=3,o=0){if(!t)return()=>{};let a=()=>{};const u=l=>{if(l.button!==o)return;l.preventDefault(),l.stopPropagation();let c=l.clientX,f=l.clientY,d=!1;const h=v=>{v.preventDefault(),v.stopPropagation();const _=v.clientX,S=v.clientY,T=_-c,E=S-f;if(d||Math.abs(T)>s||Math.abs(E)>s){const x=t.getBoundingClientRect(),{left:P,top:M}=x;d||(r==null||r(c-P,f-M),d=!0),n(T,E,_-P,S-M),c=_,f=S}},p=()=>{d&&(i==null||i()),a()},m=v=>{v.relatedTarget&&v.relatedTarget!==document.documentElement||p()},y=v=>{d&&(v.stopPropagation(),v.preventDefault())},g=v=>{d&&v.preventDefault()};document.addEventListener("pointermove",h),document.addEventListener("pointerup",p),document.addEventListener("pointerout",m),document.addEventListener("pointercancel",m),document.addEventListener("touchmove",g,{passive:!1}),document.addEventListener("click",y,{capture:!0}),a=()=>{document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",p),document.removeEventListener("pointerout",m),document.removeEventListener("pointercancel",m),document.removeEventListener("touchmove",g),setTimeout(()=>{document.removeEventListener("click",y,{capture:!0})},10)}};t.addEventListener("pointerdown",u)})(this.wrapper,(t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))},()=>this.isDragging=!0,()=>this.isDragging=!1)}getHeight(t){return t==null?128:isNaN(Number(t))?t==="auto"&&this.parent.clientHeight||128:Number(t)}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"});return n.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek&&!this.options.dragToSeek&&this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t;this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect()}createDelay(t=10){let n,r;const i=()=>{n&&clearTimeout(n),r&&r()};return this.timeouts.push(i),()=>new Promise((s,o)=>{i(),r=o,n=setTimeout(()=>{n=void 0,r=void 0,s()},t)})}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),i=n.height*(window.devicePixelRatio||1),s=r.createLinearGradient(0,0,0,i),o=1/(t.length-1);return t.forEach((a,u)=>{const l=u*o;s.addColorStop(l,a)}),s}renderBarWaveform(t,n,r,i){const s=t[0],o=t[1]||t[0],a=s.length,{width:u,height:l}=r.canvas,c=l/2,f=window.devicePixelRatio||1,d=n.barWidth?n.barWidth*f:1,h=n.barGap?n.barGap*f:n.barWidth?d/2:0,p=n.barRadius||0,m=u/(d+h)/a,y=p&&"roundRect"in r?"roundRect":"rect";r.beginPath();let g=0,v=0,_=0;for(let S=0;S<=a;S++){const T=Math.round(S*m);if(T>g){const P=Math.round(v*c*i),M=P+Math.round(_*c*i)||1;let L=c-P;n.barAlign==="top"?L=0:n.barAlign==="bottom"&&(L=l-M),r[y](g*(d+h),L,d,M,p),g=T,v=0,_=0}const E=Math.abs(s[S]||0),x=Math.abs(o[S]||0);E>v&&(v=E),x>_&&(_=x)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const s=o=>{const a=t[o]||t[0],u=a.length,{height:l}=r.canvas,c=l/2,f=r.canvas.width/u;r.moveTo(0,c);let d=0,h=0;for(let p=0;p<=u;p++){const m=Math.round(p*f);if(m>d){const g=c+(Math.round(h*c*i)||1)*(o===0?-1:1);r.lineTo(d,g),d=m,h=0}const y=Math.abs(a[p]||0);y>h&&(h=y)}r.lineTo(d,c)};r.beginPath(),s(0),s(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);let i=n.barHeight||1;if(n.normalize){const s=Array.from(t[0]).reduce((o,a)=>Math.max(o,Math.abs(a)),0);i=s?1/s:1}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,s,o,a,u){const l=window.devicePixelRatio||1,c=document.createElement("canvas"),f=t[0].length;c.width=Math.round(r*(o-s)/f),c.height=i*l,c.style.width=`${Math.floor(c.width/l)}px`,c.style.height=`${i}px`,c.style.left=`${Math.floor(s*r/l/f)}px`,a.appendChild(c);const d=c.getContext("2d");if(this.renderWaveform(t.map(h=>h.slice(s,o)),n,d),c.width>0&&c.height>0){const h=c.cloneNode(),p=h.getContext("2d");p.drawImage(c,0,0),p.globalCompositeOperation="source-in",p.fillStyle=this.convertColorValues(n.progressColor),p.fillRect(0,0,c.width,c.height),u.appendChild(h)}}renderChannel(t,n,r){return ri(this,void 0,void 0,function*(){const i=document.createElement("div"),s=this.getHeight(n.height);i.style.height=`${s}px`,this.canvasWrapper.style.minHeight=`${s}px`,this.canvasWrapper.appendChild(i);const o=i.cloneNode();this.progressWrapper.appendChild(o);const a=t[0].length,u=(g,v)=>{this.renderSingleCanvas(t,n,r,s,Math.max(0,g),Math.min(v,a),i,o)};if(!this.isScrollable)return void u(0,a);const{scrollLeft:l,scrollWidth:c,clientWidth:f}=this.scrollContainer,d=a/c;let h=Math.min(uP.MAX_CANVAS_WIDTH,f);if(n.barWidth||n.barGap){const g=n.barWidth||.5,v=g+(n.barGap||g/2);h%v!=0&&(h=Math.floor(h/v)*v)}const p=Math.floor(Math.abs(l)*d),m=Math.floor(p+h*d),y=m-p;y<=0||(u(p,m),yield Promise.all([ri(this,void 0,void 0,function*(){if(p===0)return;const g=this.createDelay();for(let v=p;v>=0;v-=y)yield g(),u(Math.max(0,v-y),v)}),ri(this,void 0,void 0,function*(){if(m===a)return;const g=this.createDelay();for(let v=m;v<a;v+=y)yield g(),u(v,Math.min(a,v+y))})]))})}render(t){return ri(this,void 0,void 0,function*(){this.timeouts.forEach(a=>a()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const n=window.devicePixelRatio||1,r=this.scrollContainer.clientWidth,i=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=i>r;const s=this.options.fillParent&&!this.isScrollable,o=(s?r:i)*n;this.wrapper.style.width=s?"100%":`${i}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render");try{if(this.options.splitChannels)yield Promise.all(Array.from({length:t.numberOfChannels}).map((a,u)=>{var l;const c=Object.assign(Object.assign({},this.options),(l=this.options.splitChannels)===null||l===void 0?void 0:l[u]);return this.renderChannel([t.getChannelData(u)],c,o)}));else{const a=[t.getChannelData(0)];t.numberOfChannels>1&&a.push(t.getChannelData(1)),yield this.renderChannel(a,this.options,o)}}catch{return}this.emit("rendered")})}reRender(){if(!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let i=r-n;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=t*i,a=r,u=r+s,l=s/2;if(this.isDragging)o+30>u?this.scrollContainer.scrollLeft+=30:o-30<a&&(this.scrollContainer.scrollLeft-=30);else{(o<a||o>u)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?l:0));const c=o-r-l;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=Math.min(c,10))}{const c=this.scrollContainer.scrollLeft,f=c/i,d=(c+s)/i;this.emit("scroll",f,d)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0, 100% 0, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=`translateX(-${Math.round(r)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return ri(this,void 0,void 0,function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const s=Array.from(i).map(o=>o.toDataURL(t,n));return Promise.resolve(s)}return Promise.all(Array.from(i).map(s=>new Promise((o,a)=>{s.toBlob(u=>{u?o(u):a(new Error("Could not export image"))},t,n)})))})}}uP.MAX_CANVAS_WIDTH=4e3;let Bet=class extends g1{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}};class Uet extends g1{constructor(t=new AudioContext){super(),this.bufferNode=null,this.autoplay=!1,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return ri(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then(n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()}).then(n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n)).then(n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.bufferNode.buffer=this.buffer,this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let n=this.playedDuration*this._playbackRate;n>=this.duration&&(n=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,n),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return ri(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){var n,r;const i=t-this.currentTime;(n=this.bufferNode)===null||n===void 0||n.stop(this.audioContext.currentTime+i),(r=this.bufferNode)===null||r===void 0||r.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(t){return ri(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){this.emit("seeking");const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("timeupdate")}get duration(){var t;return((t=this.buffer)===null||t===void 0?void 0:t.duration)||0}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}}const Vet={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class Kv extends jet{static create(t){return new Kv(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new Uet:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.options=Object.assign({},Vet,t),this.timer=new Bet;const r=n?void 0:this.getMediaElement();this.renderer=new uP(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins(),Promise.resolve().then(()=>{this.emit("init");const i=this.options.url||this.getSrc()||"";(i||this.options.peaks&&this.options.duration)&&this.load(i,this.options.peaks,this.options.duration)})}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.updateProgress();this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))}),this.renderer.on("dblclick",(t,n)=>{this.emit("dblclick",t,n)}),this.renderer.on("scroll",(t,n)=>{const r=this.getDuration();this.emit("scroll",t*r,n*r)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}));{let t;this.subscriptions.push(this.renderer.on("drag",n=>{this.options.interact&&(this.renderer.renderProgress(n),clearTimeout(t),t=setTimeout(()=>{this.seekTo(n)},this.isPlaying()?0:200),this.emit("interaction",n*this.getDuration()),this.emit("drag",n))}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(n=>n!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return ri(this,void 0,void 0,function*(){if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!n&&!r){const o=a=>this.emit("loading",a);n=yield Fet.fetchBlob(t,o,this.options.fetchParams)}this.setSrc(t,n);const s=i||this.getDuration()||(yield new Promise(o=>{this.onceMediaEvent("loadedmetadata",()=>o(this.getDuration()))}));if(r)this.decodedData=FH.createBuffer(r,s||0);else if(n){const o=yield n.arrayBuffer();this.decodedData=yield FH.decode(o,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,n,r){return ri(this,void 0,void 0,function*(){yield this.loadAudio(t,void 0,n,r)})}loadBlob(t,n,r){return ri(this,void 0,void 0,function*(){yield this.loadAudio("blob",t,n,r)})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),s=[];for(let o=0;o<i;o++){const a=this.decodedData.getChannelData(o),u=[],l=Math.round(a.length/n);for(let c=0;c<n;c++){const f=a.slice(c*l,(c+1)*l);let d=0;for(let h=0;h<f.length;h++){const p=f[h];Math.abs(p)>Math.abs(d)&&(d=p)}u.push(Math.round(d*r)/r)}s.push(u)}return s}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){super.setTime(t),this.updateProgress(t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}playPause(){return ri(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(t="image/png",n=1,r="dataURL"){return ri(this,void 0,void 0,function*(){return this.renderer.exportImage(t,n,r)})}destroy(){this.emit("destroy"),this.plugins.forEach(t=>t.destroy()),this.subscriptions.forEach(t=>t()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}Kv.BasePlugin=class extends g1{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e())}},Kv.dom=Met;function zet(e){return Kv.create(e)}function BH(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const Het=(e,t)=>{const n=[...e],r=[...t],i=n.filter(o=>r.findIndex(a=>a.name===o.name)===-1),s=r.filter(o=>n.findIndex(a=>a.name===o.name)===-1);return{disabled:i,enabled:s}};var Wet=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Ble(e){var{container:t,plugins:n=[],onMount:r}=e,i=Wet(e,["container","plugins","onMount"]);const s=w.useRef([]),[o,a]=w.useState(null);return w.useEffect(()=>{if(!t)return;let u=[];n&&(u=n.map(BH)),s.current=u;const l=zet(Object.assign(Object.assign({container:t},i),{plugins:u}));return r==null||r(l),a(l),()=>{l.destroy()}},[t]),w.useEffect(()=>{if(o){const u=n.map(BH),{disabled:l,enabled:c}=Het(s.current,u);s.current=u,l.forEach(f=>{f.name&&(o==null||o.destroyPlugin(f.name))}),c.forEach(f=>{f.name&&(o==null||o.addPlugin(f).initPlugin(f.name))})}},[n]),o}function qet(e){return!!e&&typeof e!="string"&&typeof e!="number"&&typeof e!="boolean"&&"type"in e&&"props"in e}var Get=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ule=e=>{var{children:t,plugins:n=[],onMount:r}=e,i=Get(e,["children","plugins","onMount"]);const s=w.useMemo(()=>{let a={};return w.Children.forEach(t,u=>{if(typeof u!="object"||u===null||["string","number"].includes(typeof u)||!qet(u))return;const{props:l,type:c}=u;if(c===IM){const{id:f}=l;a=Let(l),a=Object.assign(Object.assign({},a),{container:"#"+f})}}),a},[t]),o=Ble(Object.assign(Object.assign({plugins:n,onMount:r},i),s));return R.createElement(Fle.Provider,{value:o},t)};Ule.defaultProps={children:null,plugins:[]};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function m2(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(l){try{u(r.next(l))}catch(c){s(c)}}function a(l){try{u(r.throw(l))}catch(c){s(c)}}function u(l){var c;l.done?i(l.value):(c=l.value,c instanceof n?c:new n(function(f){f(c)})).then(o,a)}u((r=r.apply(e,t||[])).next())})}class Vle{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}}class Yet extends Vle{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}}class Ket extends Vle{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}const Qet=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"];class CM extends Yet{constructor(t){var n,r,i,s;super(Object.assign(Object.assign({},t),{audioBitsPerSecond:(n=t.audioBitsPerSecond)!==null&&n!==void 0?n:128e3,scrollingWaveform:(r=t.scrollingWaveform)!==null&&r!==void 0&&r,scrollingWaveformWindow:(i=t.scrollingWaveformWindow)!==null&&i!==void 0?i:5,renderRecordedAudio:(s=t.renderRecordedAudio)===null||s===void 0||s})),this.stream=null,this.mediaRecorder=null,this.dataWindow=null,this.isWaveformPaused=!1,this.lastStartTime=0,this.lastDuration=0,this.duration=0,this.timer=new Ket,this.subscriptions.push(this.timer.on("tick",()=>{const o=performance.now()-this.lastStartTime;this.duration=this.isPaused()?this.duration:this.lastDuration+o,this.emit("record-progress",this.duration)}))}static create(t){return new CM(t||{})}renderMicStream(t){const n=new AudioContext,r=n.createMediaStreamSource(t),i=n.createAnalyser();r.connect(i);const s=i.frequencyBinCount,o=new Float32Array(s);let a;const u=Math.floor((this.options.scrollingWaveformWindow||0)*n.sampleRate),l=()=>{var c;if(this.isWaveformPaused)return void(a=requestAnimationFrame(l));if(i.getFloatTimeDomainData(o),this.options.scrollingWaveform){const d=Math.min(u,this.dataWindow?this.dataWindow.length+s:s),h=new Float32Array(u);if(this.dataWindow){const p=Math.max(0,u-this.dataWindow.length);h.set(this.dataWindow.slice(-d+s),p)}h.set(o,u-s),this.dataWindow=h}else this.dataWindow=o;const f=this.options.scrollingWaveformWindow;this.wavesurfer&&((c=this.originalOptions)!==null&&c!==void 0||(this.originalOptions={cursorWidth:this.wavesurfer.options.cursorWidth,interact:this.wavesurfer.options.interact}),this.wavesurfer.options.cursorWidth=0,this.wavesurfer.options.interact=!1,this.wavesurfer.load("",[this.dataWindow],f)),a=requestAnimationFrame(l)};return l(),{onDestroy:()=>{cancelAnimationFrame(a),r==null||r.disconnect(),n==null||n.close()},onEnd:()=>{this.isWaveformPaused=!0,cancelAnimationFrame(a),this.stopMic()}}}startMic(t){return m2(this,void 0,void 0,function*(){let n;try{n=yield navigator.mediaDevices.getUserMedia({audio:!(t!=null&&t.deviceId)||{deviceId:t.deviceId}})}catch(s){throw new Error("Error accessing the microphone: "+s.message)}const{onDestroy:r,onEnd:i}=this.renderMicStream(n);return this.subscriptions.push(this.once("destroy",r)),this.subscriptions.push(this.once("record-end",i)),this.stream=n,n})}stopMic(){this.stream&&(this.stream.getTracks().forEach(t=>t.stop()),this.stream=null,this.mediaRecorder=null)}startRecording(t){return m2(this,void 0,void 0,function*(){const n=this.stream||(yield this.startMic(t));this.dataWindow=null;const r=this.mediaRecorder||new MediaRecorder(n,{mimeType:this.options.mimeType||Qet.find(o=>MediaRecorder.isTypeSupported(o)),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=r,this.stopRecording();const i=[];r.ondataavailable=o=>{o.data.size>0&&i.push(o.data)};const s=o=>{var a;const u=new Blob(i,{type:r.mimeType});this.emit(o,u),this.options.renderRecordedAudio&&(this.applyOriginalOptionsIfNeeded(),(a=this.wavesurfer)===null||a===void 0||a.load(URL.createObjectURL(u)))};r.onpause=()=>s("record-pause"),r.onstop=()=>s("record-end"),r.start(),this.lastStartTime=performance.now(),this.lastDuration=0,this.duration=0,this.isWaveformPaused=!1,this.timer.start(),this.emit("record-start")})}getDuration(){return this.duration}isRecording(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="recording"}isPaused(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)==="paused"}isActive(){var t;return((t=this.mediaRecorder)===null||t===void 0?void 0:t.state)!=="inactive"}stopRecording(){var t;this.isActive()&&((t=this.mediaRecorder)===null||t===void 0||t.stop(),this.timer.stop())}pauseRecording(){var t,n;this.isRecording()&&(this.isWaveformPaused=!0,(t=this.mediaRecorder)===null||t===void 0||t.requestData(),(n=this.mediaRecorder)===null||n===void 0||n.pause(),this.timer.stop(),this.lastDuration=this.duration)}resumeRecording(){var t;this.isPaused()&&(this.isWaveformPaused=!1,(t=this.mediaRecorder)===null||t===void 0||t.resume(),this.timer.start(),this.lastStartTime=performance.now(),this.emit("record-resume"))}static getAvailableAudioDevices(){return m2(this,void 0,void 0,function*(){return navigator.mediaDevices.enumerateDevices().then(t=>t.filter(n=>n.kind==="audioinput"))})}destroy(){this.applyOriginalOptionsIfNeeded(),super.destroy(),this.stopRecording(),this.stopMic()}applyOriginalOptionsIfNeeded(){this.wavesurfer&&this.originalOptions&&(this.wavesurfer.options.cursorWidth=this.originalOptions.cursorWidth,this.wavesurfer.options.interact=this.originalOptions.interact,delete this.originalOptions)}}function Xet(){const{config:e,sequence:t}=da(E=>E),n=rl(),{toggleShowHelpText:r,toggleShowAdmin:i}=nl(),{storageEngine:s}=la(),o=da(E=>E.isRecording),a=vl(),u=e!==null?t.indexOf(a):0,l=t.length-1,c=u/l*100,[f,d]=w.useState(!1),h=e==null?void 0:e.uiConfig.logoPath,p=e==null?void 0:e.uiConfig.withProgressBar,[m]=w.useState(new URLSearchParams(window.location.search)),y=m.get("admin")||"f",g=ure(),v=m0e(`/${g}`);function _(){s==null||s.nextParticipant(e).then(()=>{window.location.href=v}).catch(E=>{console.error(E)})}const S=w.useRef(null),T=w.useCallback(E=>{S.current=E,S.current&&(S.current.registerPlugin(CM.create({scrollingWaveform:!0,renderRecordedAudio:!1})).startRecording(),S.current.setOptions({height:50,waveColor:"#FA5252"}))},[]);return I.jsx(oX,{height:"70",p:"md",children:I.jsxs(Ll,{mt:-7,align:"center",children:[I.jsx(Ll.Col,{span:4,children:I.jsxs(ti,{align:"center",noWrap:!0,children:[I.jsx(U_,{maw:40,src:`${gl}${h}`,alt:"Study Logo"}),I.jsx(ST,{w:"md"}),I.jsx(Vc,{order:4,children:e==null?void 0:e.studyMetadata.title}),o?I.jsxs(ti,{spacing:20,noWrap:!0,children:[I.jsx(tt,{color:"red",children:"Recording audio"}),I.jsx(ft,{style:{width:"70px",height:"50px"},children:I.jsx(Ule,{onMount:T,children:I.jsx(IM,{id:"waveform"})})})]}):null]})}),I.jsx(Ll.Col,{span:4,children:p&&I.jsx(ate,{radius:"md",size:"lg",value:c})}),I.jsx(Ll.Col,{span:4,children:I.jsxs(Um,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&I.jsx(_s,{variant:"outline",onClick:()=>n(r()),children:"Help"}),I.jsx(ST,{w:"md"}),y==="t"&&I.jsxs(rs,{shadow:"md",width:200,zIndex:1,opened:f,onChange:d,children:[I.jsx(rs.Target,{children:I.jsx(RQ,{size:"lg",children:I.jsx(iqe,{})})}),I.jsxs(rs.Dropdown,{children:[I.jsx(rs.Item,{icon:I.jsx(Mz,{size:14}),onClick:()=>n(i()),children:"Admin Mode"}),I.jsx(rs.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:I.jsx(sqe,{size:14}),children:"Contact"}),I.jsx(rs.Item,{icon:I.jsx(Mz,{size:14}),onClick:()=>_(),children:"Next Participant"})]})]})]})})]})})}function Jet(){var u;const e=(u=Th())==null?void 0:u.uiConfig.sidebar,t=Th(),n=vl(),r=t.components[n],i=w.useMemo(()=>{var l;return r?hC(r)&&t.baseComponents?l6({},(l=t.baseComponents)==null?void 0:l[r.baseComponent],r):r:null},[r]),s=c6(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?I.jsxs(Ty,{bg:"gray.1",display:"block",width:{base:300},style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&I.jsx(Ty.Section,{bg:"gray.3",p:"xl",children:I.jsxs(tt,{c:"gray.9",children:[I.jsx(tt,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),I.jsx(oo,{text:o})]})}),I.jsx(Ty.Section,{p:"xl",children:I.jsx(qT,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):I.jsx(qT,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)}function Zet(){const{showHelpText:e,config:t}=da(o=>o),n=rl(),{toggleShowHelpText:r}=nl(),[i,s]=w.useState("");return w.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${gl}${t.uiConfig.helpTextPath}`).then(o=>o.text()).then(o=>s(o))},[t]),I.jsx(YI,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:I.jsx(oo,{text:i})})}function ett(){const{alertModal:e}=da(o=>o),{setAlertModal:t}=nl(),n=rl(),[r,i]=w.useState(e.show),s=w.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return w.useEffect(()=>i(e.show),[e.show]),I.jsx(YI,{opened:r,centered:!0,size:"lg",withCloseButton:!1,styles:{modal:{padding:"0 !important"}},onClose:s,children:I.jsxs(UQ,{color:"red",radius:"xs",p:"lg",title:"Alert",icon:I.jsx(eqe,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[I.jsx(tt,{my:"md",children:e.message}),I.jsx(ft,{style:{float:"right"},color:"red",children:I.jsx(_s,{onClick:s,color:"red",variant:"filled",children:"Continue Study"})})]})})}function ttt(){const e=w.useRef([]),n=Th().uiConfig.windowEventDebounceTime??100;return w.useEffect(()=>{const r=fu(d=>{e.current.push([Date.now(),"focus",d.target instanceof HTMLElement?d.target.tagName:""])},n,{maxWait:n}),i=fu(d=>{e.current.push([Date.now(),"input",d.data??""])},n,{maxWait:n}),s=fu(d=>{e.current.push([Date.now(),"keypress",d.key])},n,{maxWait:n}),o=fu(d=>{e.current.push([Date.now(),"mousedown",[d.clientX,d.clientY]])},n,{maxWait:n}),a=fu(d=>{e.current.push([Date.now(),"mouseup",[d.clientX,d.clientY]])},n,{maxWait:n}),u=fu(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),l=fu(d=>{e.current.push([Date.now(),"mousemove",[d.clientX,d.clientY]])},n,{maxWait:n}),c=fu(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),f=fu(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",r,!0),window.addEventListener("input",i),window.addEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.addEventListener("resize",u),window.addEventListener("mousemove",l),window.addEventListener("scroll",c),document.addEventListener("visibilitychange",f),()=>{window.removeEventListener("focus",r,!0),window.removeEventListener("input",i),window.removeEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.removeEventListener("resize",u),window.removeEventListener("mousemove",l),window.removeEventListener("scroll",c),document.removeEventListener("visibilitychange",f)}},[]),I.jsx(lre.Provider,{value:e,children:I.jsxs(lX,{navbar:I.jsx(Jet,{}),aside:I.jsx(Det,{}),header:I.jsx(Xet,{}),children:[I.jsx(Zet,{}),I.jsx(ett,{}),I.jsx(k0e,{})]})})}var UH=Object.prototype.hasOwnProperty;function VH(e,t,n){for(n of e.keys())if(Hy(n,t))return n}function Hy(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Hy(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=VH(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=VH(t,i),!i)||!Hy(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(UH.call(e,n)&&++r&&!UH.call(t,n)||!(n in t)||!Hy(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function ntt(e){var t=w.useRef(e),n=w.useRef(0);return Hy(e,t.current)||(t.current=e,n.current+=1),w.useMemo(function(){return t.current},[n.current])}function rtt(e,t){return w.useEffect(e,ntt(t))}const Wp=(e,t=null)=>{const[n,r]=w.useState("idle"),[i,s]=w.useState(null),[o,a]=w.useState(null),u=w.useRef(),l=w.useRef(!1);w.useEffect(()=>(l.current=!0,()=>{l.current=!1}),[]);const c=w.useCallback((...f)=>{r("pending"),a(null);const d=Promise.resolve(e(...f)).then(h=>(l.current&&d===u.current&&(s(h),r("success")),h)).catch(h=>{throw l.current&&d===u.current&&(s(null),a(h),r("error")),h});return u.current=d,d},[e]);return rtt(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:o}},Gb=3,fp=25,Yb=25,Kb=20,zH=1;function itt({xScale:e,answer:t,name:n,height:r,setSelectedTask:i,isSelected:s,labelHeight:o=0}){const[a,u]=w.useState(!1),[l,{width:c}]=LI();return I.jsxs("g",{onClick:()=>i(s?null:n),onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),style:{cursor:"pointer"},children:[I.jsx("rect",{opacity:1,fill:a||s?"cornflowerblue":"lightgray",x:e(t.startTime)+zH,width:e(t.endTime)-e(t.startTime)-zH*2,y:r-fp,height:fp}),I.jsx("rect",{rx:3,opacity:1,x:e(t.startTime)-Gb,width:c+Gb*2,y:r-fp-Yb-o,height:Kb,fill:"whitesmoke"}),I.jsx("line",{stroke:"black",strokeWidth:1,x1:e(t.startTime)-Gb,x2:c+e(t.startTime)+Gb,y1:r-fp-Yb+Kb-o,y2:r-fp-Yb+Kb-o}),I.jsx("foreignObject",{x:e(t.startTime),width:c,y:r-fp-Yb-o,height:Kb,children:I.jsx(fa,{style:{width:"fit-content"},children:I.jsx(tt,{weight:600,lineClamp:1,ref:l,mx:0,style:{width:"fit-content"},size:12,children:n})})})]})}function stt({xScale:e,answer:t,height:n,labelHeight:r=0}){return I.jsx("g",{children:I.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(t.startTime)+2,x2:e(t.startTime)+2,y1:n-45-r,y2:n-25})})}const g2={left:5,top:0,right:5,bottom:0},HH=25,WH=8;function zle({participantData:e,width:t,height:n,setSelectedTask:r,selectedTask:i,maxDuration:s}){const o=w.useMemo(()=>{const c=Object.values(e.answers||{}).map(h=>[h.startTime,h.endTime]).flat(),f=vh(c);return _h([g2.left,t+g2.left+g2.right]).domain(s?[f[0],f[0]+s]:f).clamp(!0)},[s,e.answers,t]),a=w.useMemo(()=>{let c=0;const f=Object.entries(e.answers||{}).sort((d,h)=>d[1].startTime-h[1].startTime);return f.map((d,h)=>{const[p,m]=d,y=h>0?f[h-c-1]:null;return y&&y[0].length*WH+o(y[1].startTime)>o(m.startTime)?c+=1:c=0,I.jsx(itt,{labelHeight:c*HH,isSelected:i===p,setSelectedTask:r,answer:m,height:n,name:p,xScale:o},p)})},[n,e.answers,i,r,o]),u=w.useMemo(()=>{let c=0;const f=Object.entries(e.answers||{}).sort((d,h)=>d[1].startTime-h[1].startTime);return f.map((d,h)=>{const[p,m]=d,y=h>0?f[h-c-1]:null;return y&&y[0].length*WH+o(y[1].startTime)>o(m.startTime)?c+=1:c=0,I.jsx(stt,{labelHeight:c*HH,answer:m,height:n,xScale:o},p)})},[n,e.answers,i,r,o]),l=w.useMemo(()=>Object.entries(e.answers||{}).sort((f,d)=>f[1].startTime-d[1].startTime).map(f=>{const[d,h]=f,p=[];let m=[-1,-1],y="visible";if(h.windowEvents)for(let g=0;g<h.windowEvents.length;g+=1)h.windowEvents[g][1]==="visibility"&&(h.windowEvents[g][2]==="hidden"&&y==="visible"?(m=[h.windowEvents[g][0],-1],y="hidden"):h.windowEvents[g][2]==="visible"&&y==="hidden"&&(m[1]=h.windowEvents[g][0],p.push(m),m=[-1,-1],y="visible"));return p.map((g,v)=>I.jsx(QI,{withinPortal:!0,label:"Browsed away",children:I.jsx("rect",{x:o(g[0]),width:o(g[1])-o(g[0]),y:n-5,height:10})},v))}),[n,e,o]);return I.jsxs("svg",{style:{width:t,height:n,overflow:"visible"},children:[u,a,l]})}var ott=Object.defineProperty,att=(e,t)=>{for(var n in t)ott(e,n,{get:t[n],enumerable:!0})},nu={};att(nu,{assign:()=>ctt,colors:()=>If,createStringInterpolator:()=>DM,skipAnimation:()=>Qle,to:()=>Kle,willAdvance:()=>$M});var PM=v1(),zt=e=>y1(e,PM),AM=v1();zt.write=e=>y1(e,AM);var lP=v1();zt.onStart=e=>y1(e,lP);var OM=v1();zt.onFrame=e=>y1(e,OM);var RM=v1();zt.onFinish=e=>y1(e,RM);var bm=[];zt.setTimeout=(e,t)=>{const n=zt.now()+t,r=()=>{const s=bm.findIndex(o=>o.cancel==r);~s&&bm.splice(s,1),af-=~s?1:0},i={time:n,handler:e,cancel:r};return bm.splice(Hle(n),0,i),af+=1,Wle(),i};var Hle=e=>~(~bm.findIndex(t=>t.time>e)||~bm.length);zt.cancel=e=>{lP.delete(e),OM.delete(e),RM.delete(e),PM.delete(e),AM.delete(e)};zt.sync=e=>{Dk=!0,zt.batchedUpdates(e),Dk=!1};zt.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,zt.onStart(n)}return r.handler=e,r.cancel=()=>{lP.delete(n),t=null},r};var NM=typeof window<"u"?window.requestAnimationFrame:()=>{};zt.use=e=>NM=e;zt.now=typeof performance<"u"?()=>performance.now():Date.now;zt.batchedUpdates=e=>e();zt.catch=console.error;zt.frameLoop="always";zt.advance=()=>{zt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Gle()};var of=-1,af=0,Dk=!1;function y1(e,t){Dk?(t.delete(e),e(0)):(t.add(e),Wle())}function Wle(){of<0&&(of=0,zt.frameLoop!=="demand"&&NM(qle))}function utt(){of=-1}function qle(){~of&&(NM(qle),zt.batchedUpdates(Gle))}function Gle(){const e=of;of=zt.now();const t=Hle(of);if(t&&(Yle(bm.splice(0,t),n=>n.handler()),af-=t),!af){utt();return}lP.flush(),PM.flush(e?Math.min(64,of-e):16.667),OM.flush(),AM.flush(),RM.flush()}function v1(){let e=new Set,t=e;return{add(n){af+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return af-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,af-=t.size,Yle(t,r=>r(n)&&e.add(r)),af+=e.size,t=e)}}}function Yle(e,t){e.forEach(n=>{try{t(n)}catch(r){zt.catch(r)}})}function $k(){}var ltt=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),ze={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Il(e,t){if(ze.arr(e)){if(!ze.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var dn=(e,t)=>e.forEach(t);function fl(e,t,n){if(ze.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Co=e=>ze.und(e)?[]:ze.arr(e)?e:[e];function Wy(e,t){if(e.size){const n=Array.from(e);e.clear(),dn(n,t)}}var ly=(e,...t)=>Wy(e,n=>n(...t)),kM=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),DM,Kle,If=null,Qle=!1,$M=$k,ctt=e=>{e.to&&(Kle=e.to),e.now&&(zt.now=e.now),e.colors!==void 0&&(If=e.colors),e.skipAnimation!=null&&(Qle=e.skipAnimation),e.createStringInterpolator&&(DM=e.createStringInterpolator),e.requestAnimationFrame&&zt.use(e.requestAnimationFrame),e.batchedUpdates&&(zt.batchedUpdates=e.batchedUpdates),e.willAdvance&&($M=e.willAdvance),e.frameLoop&&(zt.frameLoop=e.frameLoop)},qy=new Set,ta=[],y2=[],$x=0,cP={get idle(){return!qy.size&&!ta.length},start(e){$x>e.priority?(qy.add(e),zt.onStart(ftt)):(Xle(e),zt(Lk))},advance:Lk,sort(e){if($x)zt.onFrame(()=>cP.sort(e));else{const t=ta.indexOf(e);~t&&(ta.splice(t,1),Jle(e))}},clear(){ta=[],qy.clear()}};function ftt(){qy.forEach(Xle),qy.clear(),zt(Lk)}function Xle(e){ta.includes(e)||Jle(e)}function Jle(e){ta.splice(dtt(ta,t=>t.priority>e.priority),0,e)}function Lk(e){const t=y2;for(let n=0;n<ta.length;n++){const r=ta[n];$x=r.priority,r.idle||($M(r),r.advance(e),r.idle||t.push(r))}return $x=0,y2=ta,y2.length=0,ta=t,ta.length>0}function dtt(e,t){const n=e.findIndex(t);return n<0?e.length:n}var htt=(e,t,n)=>Math.min(Math.max(n,e),t),ptt={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},za="[-+]?\\d*\\.?\\d+",Lx=za+"%";function fP(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var mtt=new RegExp("rgb"+fP(za,za,za)),gtt=new RegExp("rgba"+fP(za,za,za,za)),ytt=new RegExp("hsl"+fP(za,Lx,Lx)),vtt=new RegExp("hsla"+fP(za,Lx,Lx,za)),_tt=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,btt=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,wtt=/^#([0-9a-fA-F]{6})$/,Ett=/^#([0-9a-fA-F]{8})$/;function Stt(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=wtt.exec(e))?parseInt(t[1]+"ff",16)>>>0:If&&If[e]!==void 0?If[e]:(t=mtt.exec(e))?(dp(t[1])<<24|dp(t[2])<<16|dp(t[3])<<8|255)>>>0:(t=gtt.exec(e))?(dp(t[1])<<24|dp(t[2])<<16|dp(t[3])<<8|YH(t[4]))>>>0:(t=_tt.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Ett.exec(e))?parseInt(t[1],16)>>>0:(t=btt.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ytt.exec(e))?(qH(GH(t[1]),Qb(t[2]),Qb(t[3]))|255)>>>0:(t=vtt.exec(e))?(qH(GH(t[1]),Qb(t[2]),Qb(t[3]))|YH(t[4]))>>>0:null}function v2(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function qH(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,s=v2(i,r,e+1/3),o=v2(i,r,e),a=v2(i,r,e-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function dp(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function GH(e){return(parseFloat(e)%360+360)%360/360}function YH(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Qb(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function KH(e){let t=Stt(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,s=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var Qv=(e,t,n)=>{if(ze.fun(e))return e;if(ze.arr(e))return Qv({range:e,output:t,extrapolate:n});if(ze.str(e.output[0]))return DM(e);const r=e,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||(l=>l);return l=>{const c=xtt(l,s);return Ttt(l,s[c],s[c+1],i[c],i[c+1],u,o,a,r.map)}};function Ttt(e,t,n,r,i,s,o,a,u){let l=u?u(e):e;if(l<t){if(o==="identity")return l;o==="clamp"&&(l=t)}if(l>n){if(a==="identity")return l;a==="clamp"&&(l=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?l=-l:n===1/0?l=l-t:l=(l-t)/(n-t),l=s(l),r===-1/0?l=-l:i===1/0?l=l+r:l=l*(i-r)+r,l)}function xtt(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var Itt=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return htt(0,1,i/e)},Mx=1.70158,Xb=Mx*1.525,QH=Mx+1,XH=2*Math.PI/3,JH=2*Math.PI/4.5,Jb=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Ctt={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>QH*e*e*e-Mx*e*e,easeOutBack:e=>1+QH*Math.pow(e-1,3)+Mx*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((Xb+1)*2*e-Xb)/2:(Math.pow(2*e-2,2)*((Xb+1)*(e*2-2)+Xb)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*XH),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*XH)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*JH))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*JH)/2+1,easeInBounce:e=>1-Jb(1-e),easeOutBounce:Jb,easeInOutBounce:e=>e<.5?(1-Jb(1-2*e))/2:(1+Jb(2*e-1))/2,steps:Itt},Xv=Symbol.for("FluidValue.get"),cg=Symbol.for("FluidValue.observers"),Zo=e=>!!(e&&e[Xv]),Vs=e=>e&&e[Xv]?e[Xv]():e,ZH=e=>e[cg]||null;function Ptt(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Jv(e,t){const n=e[cg];n&&n.forEach(r=>{Ptt(r,t)})}var Zle=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Att(this,e)}},Att=(e,t)=>ece(e,Xv,t);function Gg(e,t){if(e[Xv]){let n=e[cg];n||ece(e,cg,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Zv(e,t){const n=e[cg];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[cg]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var ece=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Zw=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ott=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,eW=new RegExp(`(${Zw.source})(%|[a-z]+)`,"i"),Rtt=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,dP=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,tce=e=>{const[t,n]=Ntt(e);if(!t||kM())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&dP.test(n))return tce(n);if(n)return n}return e},Ntt=e=>{const t=dP.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},_2,ktt=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,nce=e=>{_2||(_2=If?new RegExp(`(${Object.keys(If).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(s=>Vs(s).replace(dP,tce).replace(Ott,KH).replace(_2,KH)),n=t.map(s=>s.match(Zw).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>Qv({...e,output:s}));return s=>{var u;const o=!eW.test(t[0])&&((u=t.find(l=>eW.test(l)))==null?void 0:u.replace(Zw,""));let a=0;return t[0].replace(Zw,()=>`${i[a++](s)}${o||""}`).replace(Rtt,ktt)}},LM="react-spring: ",rce=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${LM}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},Dtt=rce(console.warn);function $tt(){Dtt(`${LM}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Ltt=rce(console.warn);function Mtt(){Ltt(`${LM}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function hP(e){return ze.str(e)&&(e[0]=="#"||/\d/.test(e)||!kM()&&dP.test(e)||e in(If||{}))}var MM=kM()?w.useEffect:w.useLayoutEffect,Ftt=()=>{const e=w.useRef(!1);return MM(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function ice(){const e=w.useState()[1],t=Ftt();return()=>{t.current&&e(Math.random())}}function jtt(e,t){const[n]=w.useState(()=>({inputs:t,result:e()})),r=w.useRef(),i=r.current;let s=i;return s?t&&s.inputs&&Btt(t,s.inputs)||(s={inputs:t,result:e()}):s=n,w.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function Btt(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var sce=e=>w.useEffect(e,Utt),Utt=[];function tW(e){const t=w.useRef();return w.useEffect(()=>{t.current=e}),t.current}var e_=Symbol.for("Animated:node"),Vtt=e=>!!e&&e[e_]===e,bu=e=>e&&e[e_],FM=(e,t)=>ltt(e,e_,t),pP=e=>e&&e[e_]&&e[e_].getPayload(),oce=class{constructor(){FM(this,this)}getPayload(){return this.payload||[]}},_1=class extends oce{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,ze.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new _1(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return ze.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,ze.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},t_=class extends _1{constructor(e){super(0),this._string=null,this._toString=Qv({output:[e,e]})}static create(e){return new t_(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(ze.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Qv({output:[this.getValue(),e]})),this._value=0,super.reset()}},Fx={dependencies:null},mP=class extends oce{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return fl(this.source,(n,r)=>{Vtt(n)?t[r]=n.getValue(e):Zo(n)?t[r]=Vs(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&dn(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return fl(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Fx.dependencies&&Zo(e)&&Fx.dependencies.add(e);const t=pP(e);t&&dn(t,n=>this.add(n))}},ace=class extends mP{constructor(e){super(e)}static create(e){return new ace(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(ztt)),!0)}};function ztt(e){return(hP(e)?t_:_1).create(e)}function Mk(e){const t=bu(e);return t?t.constructor:ze.arr(e)?ace:hP(e)?t_:_1}var nW=(e,t)=>{const n=!ze.fun(e)||e.prototype&&e.prototype.isReactComponent;return w.forwardRef((r,i)=>{const s=w.useRef(null),o=n&&w.useCallback(p=>{s.current=qtt(i,p)},[i]),[a,u]=Wtt(r,t),l=ice(),c=()=>{const p=s.current;if(n&&!p)return;(p?t.applyAnimatedValues(p,a.getValue(!0)):!1)===!1&&l()},f=new Htt(c,u),d=w.useRef();MM(()=>(d.current=f,dn(u,p=>Gg(p,f)),()=>{d.current&&(dn(d.current.deps,p=>Zv(p,d.current)),zt.cancel(d.current.update))})),w.useEffect(c,[]),sce(()=>()=>{const p=d.current;dn(p.deps,m=>Zv(m,p))});const h=t.getComponentProps(a.getValue());return w.createElement(e,{...h,ref:o})})},Htt=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&zt.write(this.update)}};function Wtt(e,t){const n=new Set;return Fx.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new mP(e),Fx.dependencies=null,[e,n]}function qtt(e,t){return e&&(ze.fun(e)?e(t):e.current=t),t}var rW=Symbol.for("AnimatedComponent"),Gtt=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new mP(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=iW(o)||"Anonymous";return ze.str(o)?o=s[o]||(s[o]=nW(o,i)):o=o[rW]||(o[rW]=nW(o,i)),o.displayName=`Animated(${a})`,o};return fl(e,(o,a)=>{ze.arr(e)&&(a=iW(o)),s[a]=s(o)}),{animated:s}},iW=e=>ze.str(e)?e:e&&ze.str(e.displayName)?e.displayName:ze.fun(e)&&e.name||null;function kd(e,...t){return ze.fun(e)?e(...t):e}var Gy=(e,t)=>e===!0||!!(t&&e&&(ze.fun(e)?e(t):Co(e).includes(t))),uce=(e,t)=>ze.obj(e)?t&&e[t]:e,lce=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Ytt=e=>e,jM=(e,t=Ytt)=>{let n=Ktt;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const s=t(e[i],i);ze.und(s)||(r[i]=s)}return r},Ktt=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Qtt={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Xtt(e){const t={};let n=0;if(fl(e,(r,i)=>{Qtt[i]||(t[i]=r,n++)}),n)return t}function cce(e){const t=Xtt(e);if(t){const n={to:t};return fl(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function n_(e){return e=Vs(e),ze.arr(e)?e.map(n_):hP(e)?nu.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Jtt(e){for(const t in e)return!0;return!1}function Fk(e){return ze.fun(e)||ze.arr(e)&&ze.obj(e[0])}function Ztt(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function ent(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var tnt={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},jk={...tnt.default,mass:1,damping:1,easing:Ctt.linear,clamp:!1},nnt=class{constructor(){this.velocity=0,Object.assign(this,jk)}};function rnt(e,t,n){n&&(n={...n},sW(n,t),t={...n,...t}),sW(e,t),Object.assign(e,t);for(const o in jk)e[o]==null&&(e[o]=jk[o]);let{frequency:r,damping:i}=e;const{mass:s}=e;return ze.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*i*s/r),e}function sW(e,t){if(!ze.und(t.decay))e.duration=void 0;else{const n=!ze.und(t.tension)||!ze.und(t.friction);(n||!ze.und(t.frequency)||!ze.und(t.damping)||!ze.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var oW=[],int=class{constructor(){this.changed=!1,this.values=oW,this.toValues=null,this.fromValues=oW,this.config=new nnt,this.immediate=!1}};function fce(e,{key:t,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let u,l,c=Gy(n.cancel??(r==null?void 0:r.cancel),t);if(c)h();else{ze.und(n.pause)||(i.paused=Gy(n.pause,t));let p=r==null?void 0:r.pause;p!==!0&&(p=i.paused||Gy(p,t)),u=kd(n.delay||0,t),p?(i.resumeQueue.add(d),s.pause()):(s.resume(),d())}function f(){i.resumeQueue.add(d),i.timeouts.delete(l),l.cancel(),u=l.time-zt.now()}function d(){u>0&&!nu.skipAnimation?(i.delayed=!0,l=zt.setTimeout(h,u),i.pauseQueue.add(f),i.timeouts.add(l)):h()}function h(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(l),e<=(i.cancelId||0)&&(c=!0);try{s.start({...n,callId:e,cancel:c},o)}catch(p){a(p)}}})}var BM=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?wm(e.get()):t.every(n=>n.noop)?dce(e.get()):Ma(e.get(),t.every(n=>n.finished)),dce=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Ma=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),wm=e=>({value:e,cancelled:!0,finished:!1});function hce(e,t,n,r){const{callId:i,parentId:s,onRest:o}=t,{asyncTo:a,promise:u}=n;return!s&&e===a&&!t.reset?u:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const l=jM(t,(y,g)=>g==="onRest"?void 0:y);let c,f;const d=new Promise((y,g)=>(c=y,f=g)),h=y=>{const g=i<=(n.cancelId||0)&&wm(r)||i!==n.asyncId&&Ma(r,!1);if(g)throw y.result=g,f(y),y},p=(y,g)=>{const v=new aW,_=new uW;return(async()=>{if(nu.skipAnimation)throw r_(n),_.result=Ma(r,!1),f(_),_;h(v);const S=ze.obj(y)?{...y}:{...g,to:y};S.parentId=i,fl(l,(E,x)=>{ze.und(S[x])&&(S[x]=E)});const T=await r.start(S);return h(v),n.paused&&await new Promise(E=>{n.resumeQueue.add(E)}),T})()};let m;if(nu.skipAnimation)return r_(n),Ma(r,!1);try{let y;ze.arr(e)?y=(async g=>{for(const v of g)await p(v)})(e):y=Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([y.then(c),d]),m=Ma(r.get(),!0,!1)}catch(y){if(y instanceof aW)m=y.result;else if(y instanceof uW)m=y.result;else throw y}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?u:void 0)}return ze.fun(o)&&zt.batchedUpdates(()=>{o(m,r,r.item)}),m})()}function r_(e,t){Wy(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var aW=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},uW=class extends Error{constructor(){super("SkipAnimationSignal")}},Bk=e=>e instanceof UM,snt=1,UM=class extends Zle{constructor(){super(...arguments),this.id=snt++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=bu(this);return e&&e.getValue()}to(...e){return nu.to(this,e)}interpolate(...e){return $tt(),nu.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Jv(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||cP.sort(this),Jv(this,{type:"priority",parent:this,priority:e})}},xh=Symbol.for("SpringPhase"),pce=1,Uk=2,Vk=4,b2=e=>(e[xh]&pce)>0,Dc=e=>(e[xh]&Uk)>0,B0=e=>(e[xh]&Vk)>0,lW=(e,t)=>t?e[xh]|=Uk|pce:e[xh]&=~Uk,cW=(e,t)=>t?e[xh]|=Vk:e[xh]&=~Vk,ont=class extends UM{constructor(e,t){if(super(),this.animation=new int,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ze.und(e)||!ze.und(t)){const n=ze.obj(e)?{...e}:{...t,from:e};ze.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Dc(this)||this._state.asyncTo)||B0(this)}get goal(){return Vs(this.animation.to)}get velocity(){const e=bu(this);return e instanceof _1?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return b2(this)}get isAnimating(){return Dc(this)}get isPaused(){return B0(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=pP(r.to);!o&&Zo(r.to)&&(i=Co(Vs(r.to))),r.values.forEach((l,c)=>{if(l.done)return;const f=l.constructor==t_?1:o?o[c].lastPosition:i[c];let d=r.immediate,h=f;if(!d){if(h=l.lastPosition,s.tension<=0){l.done=!0;return}let p=l.elapsedTime+=e;const m=r.fromValues[c],y=l.v0!=null?l.v0:l.v0=ze.arr(s.velocity)?s.velocity[c]:s.velocity;let g;const v=s.precision||(m==f?.005:Math.min(1,Math.abs(f-m)*.001));if(ze.und(s.duration))if(s.decay){const _=s.decay===!0?.998:s.decay,S=Math.exp(-(1-_)*p);h=m+y/(1-_)*(1-S),d=Math.abs(l.lastPosition-h)<=v,g=y*S}else{g=l.lastVelocity==null?y:l.lastVelocity;const _=s.restVelocity||v/10,S=s.clamp?0:s.bounce,T=!ze.und(S),E=m==f?l.v0>0:m<f;let x,P=!1;const M=1,L=Math.ceil(e/M);for(let F=0;F<L&&(x=Math.abs(g)>_,!(!x&&(d=Math.abs(f-h)<=v,d)));++F){T&&(P=h==f||h>f==E,P&&(g=-g*S,h=f));const V=-s.tension*1e-6*(h-f),oe=-s.friction*.001*g,U=(V+oe)/s.mass;g=g+U*M,h=h+g*M}}else{let _=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,l.durationProgress>0&&(l.elapsedTime=s.duration*l.durationProgress,p=l.elapsedTime+=e)),_=(s.progress||0)+p/this._memoizedDuration,_=_>1?1:_<0?0:_,l.durationProgress=_),h=m+s.easing(_)*(f-m),g=(h-l.lastPosition)/e,d=_==1}l.lastVelocity=g,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),d=!0)}o&&!o[c].done&&(d=!1),d?l.done=!0:t=!1,l.setValue(h,s.round)&&(n=!0)});const a=bu(this),u=a.getValue();if(t){const l=Vs(r.to);(u!==l||n)&&!s.decay?(a.setValue(l),this._onChange(l)):n&&s.decay&&this._onChange(u),this._stop()}else n&&this._onChange(u)}set(e){return zt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Dc(this)){const{to:e,config:t}=this.animation;zt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return ze.und(e)?(n=this.queue||[],this.queue=[]):n=[ze.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>BM(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),r_(this._state,e&&this._lastCallId),zt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=ze.obj(n)?n[t]:n,(n==null||Fk(n))&&(n=void 0),r=ze.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return b2(this)||(e.reverse&&([n,r]=[r,n]),r=Vs(r),ze.und(r)?bu(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,jM(e,(o,a)=>/^on/.test(a)?uce(o,n):o)),dW(this,e,"onProps"),V0(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return fce(++this._lastCallId,{key:n,props:e,defaultProps:r,state:s,actions:{pause:()=>{B0(this)||(cW(this,!0),ly(s.pauseQueue),V0(this,"onPause",Ma(this,U0(this,this.animation.to)),this))},resume:()=>{B0(this)&&(cW(this,!1),Dc(this)&&this._resume(),ly(s.resumeQueue),V0(this,"onResume",Ma(this,U0(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const a=mce(e);if(a)return this._update(a,!0)}return o})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(wm(this));const r=!ze.und(e.to),i=!ze.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(wm(this));const{key:s,defaultProps:o,animation:a}=this,{to:u,from:l}=a;let{to:c=u,from:f=l}=e;i&&!r&&(!t.default||ze.und(c))&&(c=f),t.reverse&&([c,f]=[f,c]);const d=!Il(f,l);d&&(a.from=f),f=Vs(f);const h=!Il(c,u);h&&this._focus(c);const p=Fk(t.to),{config:m}=a,{decay:y,velocity:g}=m;(r||i)&&(m.velocity=0),t.config&&!p&&rnt(m,kd(t.config,s),t.config!==o.config?kd(o.config,s):void 0);let v=bu(this);if(!v||ze.und(c))return n(Ma(this,!0));const _=ze.und(t.reset)?i&&!t.default:!ze.und(f)&&Gy(t.reset,s),S=_?f:this.get(),T=n_(c),E=ze.num(T)||ze.arr(T)||hP(T),x=!p&&(!E||Gy(o.immediate||t.immediate,s));if(h){const F=Mk(c);if(F!==v.constructor)if(x)v=this._set(T);else throw Error(`Cannot animate between ${v.constructor.name} and ${F.name}, as the "to" prop suggests`)}const P=v.constructor;let M=Zo(c),L=!1;if(!M){const F=_||!b2(this)&&d;(h||F)&&(L=Il(n_(S),T),M=!L),(!Il(a.immediate,x)&&!x||!Il(m.decay,y)||!Il(m.velocity,g))&&(M=!0)}if(L&&Dc(this)&&(a.changed&&!_?M=!0:M||this._stop(u)),!p&&((M||Zo(u))&&(a.values=v.getPayload(),a.toValues=Zo(c)?null:P==t_?[1]:Co(T)),a.immediate!=x&&(a.immediate=x,!x&&!_&&this._set(u)),M)){const{onRest:F}=a;dn(unt,oe=>dW(this,t,oe));const V=Ma(this,U0(this,u));ly(this._pendingCalls,V),this._pendingCalls.add(n),a.changed&&zt.batchedUpdates(()=>{var oe;a.changed=!_,F==null||F(V,this),_?kd(o.onRest,V):(oe=a.onStart)==null||oe.call(a,V,this)})}_&&this._set(S),p?n(hce(t.to,t,this._state,this)):M?this._start():Dc(this)&&!h?this._pendingCalls.add(n):n(dce(S))}_focus(e){const t=this.animation;e!==t.to&&(ZH(this)&&this._detach(),t.to=e,ZH(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Zo(t)&&(Gg(t,this),Bk(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Zo(e)&&Zv(e,this)}_set(e,t=!0){const n=Vs(e);if(!ze.und(n)){const r=bu(this);if(!r||!Il(n,r.getValue())){const i=Mk(n);!r||r.constructor!=i?FM(this,i.create(n)):r.setValue(n),r&&zt.batchedUpdates(()=>{this._onChange(n,t)})}}return bu(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,V0(this,"onStart",Ma(this,U0(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),kd(this.animation.onChange,e,this)),kd(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;bu(this).reset(Vs(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Dc(this)||(lW(this,!0),B0(this)||this._resume())}_resume(){nu.skipAnimation?this.finish():cP.start(this)}_stop(e,t){if(Dc(this)){lW(this,!1);const n=this.animation;dn(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Jv(this,{type:"idle",parent:this});const r=t?wm(this.get()):Ma(this.get(),U0(this,e??n.to));ly(this._pendingCalls,r),n.changed&&(n.changed=!1,V0(this,"onRest",r,this))}}};function U0(e,t){const n=n_(t),r=n_(e.get());return Il(r,n)}function mce(e,t=e.loop,n=e.to){const r=kd(t);if(r){const i=r!==!0&&cce(r),s=(i||e).reverse,o=!i||i.reset;return i_({...e,loop:t,default:!1,pause:void 0,to:!s||Fk(n)?n:void 0,from:o?e.from:void 0,reset:o,...i})}}function i_(e){const{to:t,from:n}=e=cce(e),r=new Set;return ze.obj(t)&&fW(t,r),ze.obj(n)&&fW(n,r),e.keys=r.size?Array.from(r):null,e}function ant(e){const t=i_(e);return ze.und(t.default)&&(t.default=jM(t)),t}function fW(e,t){fl(e,(n,r)=>n!=null&&t.add(r))}var unt=["onStart","onRest","onChange","onPause","onResume"];function dW(e,t,n){e.animation[n]=t[n]!==lce(t,n)?uce(t[n],e.key):void 0}function V0(e,t,...n){var r,i,s,o;(i=(r=e.animation)[t])==null||i.call(r,...n),(o=(s=e.defaultProps)[t])==null||o.call(s,...n)}var lnt=["onStart","onChange","onRest"],cnt=1,fnt=class{constructor(e,t){this.id=cnt++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];ze.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(i_(e)),this}start(e){let{queue:t}=this;return e?t=Co(e).map(i_):this.queue=[],this._flush?this._flush(this,t):(bce(this,t),zk(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;dn(Co(t),r=>n[r].stop(!!e))}else r_(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(ze.und(e))this.start({pause:!0});else{const t=this.springs;dn(Co(e),n=>t[n].pause())}return this}resume(e){if(ze.und(e))this.start({pause:!1});else{const t=this.springs;dn(Co(e),n=>t[n].resume())}return this}each(e){fl(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Wy(e,([a,u])=>{u.value=this.get(),a(u,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&t.size&&Wy(t,([a,u])=>{u.value=o,a(u,this,this._item)}),s&&(this._started=!1,Wy(n,([a,u])=>{u.value=o,a(u,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;zt.onFrame(this._onFrame)}};function zk(e,t){return Promise.all(t.map(n=>gce(e,n))).then(n=>BM(e,n))}async function gce(e,t,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:u}=t,l=ze.obj(t.default)&&t.default;o&&(t.loop=!1),i===!1&&(t.to=null),s===!1&&(t.from=null);const c=ze.arr(i)||ze.fun(i)?i:void 0;c?(t.to=void 0,t.onRest=void 0,l&&(l.onRest=void 0)):dn(lnt,m=>{const y=t[m];if(ze.fun(y)){const g=e._events[m];t[m]=({finished:v,cancelled:_})=>{const S=g.get(y);S?(v||(S.finished=!1),_&&(S.cancelled=!0)):g.set(y,{value:null,finished:v||!1,cancelled:_||!1})},l&&(l[m]=t[m])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,ly(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const d=(r||Object.keys(e.springs)).map(m=>e.springs[m].start(t)),h=t.cancel===!0||lce(t,"cancel")===!0;(c||h&&f.asyncId)&&d.push(fce(++e._lastAsyncId,{props:t,state:f,actions:{pause:$k,resume:$k,start(m,y){h?(r_(f,e._lastAsyncId),y(wm(e))):(m.onRest=a,y(hce(c,m,f,e)))}}})),f.paused&&await new Promise(m=>{f.resumeQueue.add(m)});const p=BM(e,await Promise.all(d));if(o&&p.finished&&!(n&&p.noop)){const m=mce(t,o,i);if(m)return bce(e,[m]),gce(e,m,!0)}return u&&zt.batchedUpdates(()=>u(p,e,e.item)),p}function hW(e,t){const n={...e.springs};return t&&dn(Co(t),r=>{ze.und(r.keys)&&(r=i_(r)),ze.obj(r.to)||(r={...r,to:void 0}),_ce(n,r,i=>vce(i))}),yce(e,n),n}function yce(e,t){fl(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,Gg(n,e))})}function vce(e,t){const n=new ont;return n.key=e,t&&Gg(n,t),n}function _ce(e,t,n){t.keys&&dn(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function bce(e,t){dn(t,n=>{_ce(e.springs,n,r=>vce(r,e))})}var gP=({children:e,...t})=>{const n=w.useContext(jx),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=jtt(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=jx;return w.createElement(s,{value:t},e)},jx=dnt(gP,{});gP.Provider=jx.Provider;gP.Consumer=jx.Consumer;function dnt(e,t){return Object.assign(e,w.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var hnt=()=>{const e=[],t=function(r){Mtt();const i=[];return dn(e,(s,o)=>{if(ze.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return dn(e,r=>r.pause(...arguments)),this},t.resume=function(){return dn(e,r=>r.resume(...arguments)),this},t.set=function(r){dn(e,(i,s)=>{const o=ze.fun(r)?r(s,i):r;o&&i.set(o)})},t.start=function(r){const i=[];return dn(e,(s,o)=>{if(ze.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},t.stop=function(){return dn(e,r=>r.stop(...arguments)),this},t.update=function(r){return dn(e,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return ze.fun(r)?r(s,i):r};return t._getProps=n,t};function pnt(e,t,n){const r=ze.fun(t)&&t;r&&!n&&(n=[]);const i=w.useMemo(()=>r||arguments.length==3?hnt():void 0,[]),s=w.useRef(0),o=ice(),a=w.useMemo(()=>({ctrls:[],queue:[],flush(g,v){const _=hW(g,v);return s.current>0&&!a.queue.length&&!Object.keys(_).some(T=>!g.springs[T])?zk(g,v):new Promise(T=>{yce(g,_),a.queue.push(()=>{T(zk(g,v))}),o()})}}),[]),u=w.useRef([...a.ctrls]),l=[],c=tW(e)||0;w.useMemo(()=>{dn(u.current.slice(e,c),g=>{Ztt(g,i),g.stop(!0)}),u.current.length=e,f(c,e)},[e]),w.useMemo(()=>{f(0,Math.min(c,e))},n);function f(g,v){for(let _=g;_<v;_++){const S=u.current[_]||(u.current[_]=new fnt(null,a.flush)),T=r?r(_,S):t[_];T&&(l[_]=ant(T))}}const d=u.current.map((g,v)=>hW(g,l[v])),h=w.useContext(gP),p=tW(h),m=h!==p&&Jtt(h);MM(()=>{s.current++,a.ctrls=u.current;const{queue:g}=a;g.length&&(a.queue=[],dn(g,v=>v())),dn(u.current,(v,_)=>{i==null||i.add(v),m&&v.start({default:h});const S=l[_];S&&(ent(v,S.ref),v.ref?v.queue.push(S):v.start(S))})}),sce(()=>()=>{dn(a.ctrls,g=>g.stop(!0))});const y=d.map(g=>({...g}));return i?[y,i]:y}function mnt(e,t){const n=ze.fun(e),[[r],i]=pnt(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,i]:r}var gnt=class extends UM{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Qv(...t);const n=this._get(),r=Mk(n);FM(this,r.create(n))}advance(e){const t=this._get(),n=this.get();Il(t,n)||(bu(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&pW(this._active)&&w2(this)}_get(){const e=ze.arr(this.source)?this.source.map(Vs):Co(Vs(this.source));return this.calc(...e)}_start(){this.idle&&!pW(this._active)&&(this.idle=!1,dn(pP(this),e=>{e.done=!1}),nu.skipAnimation?(zt.batchedUpdates(()=>this.advance()),w2(this)):cP.start(this))}_attach(){let e=1;dn(Co(this.source),t=>{Zo(t)&&Gg(t,this),Bk(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){dn(Co(this.source),e=>{Zo(e)&&Zv(e,this)}),this._active.clear(),w2(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Co(this.source).reduce((t,n)=>Math.max(t,(Bk(n)?n.priority:0)+1),0))}};function ynt(e){return e.idle!==!1}function pW(e){return!e.size||Array.from(e).every(ynt)}function w2(e){e.idle||(e.idle=!0,dn(pP(e),t=>{t.done=!0}),Jv(e,{type:"idle",parent:e}))}nu.assign({createStringInterpolator:nce,to:(e,t)=>new gnt(e,t)});var wce=/^--/;function vnt(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!wce.test(e)&&!(Yy.hasOwnProperty(e)&&Yy[e])?t+"px":(""+t).trim()}var mW={};function _nt(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...u}=t,l=Object.values(u),c=Object.keys(u).map(f=>n||e.hasAttribute(f)?f:mW[f]||(mW[f]=f.replace(/([A-Z])/g,d=>"-"+d.toLowerCase())));i!==void 0&&(e.textContent=i);for(const f in r)if(r.hasOwnProperty(f)){const d=vnt(f,r[f]);wce.test(f)?e.style.setProperty(f,d):e.style[f]=d}c.forEach((f,d)=>{e.setAttribute(f,l[d])}),s!==void 0&&(e.scrollTop=s),o!==void 0&&(e.scrollLeft=o),a!==void 0&&e.setAttribute("viewBox",a)}var Yy={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bnt=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),wnt=["Webkit","Ms","Moz","O"];Yy=Object.keys(Yy).reduce((e,t)=>(wnt.forEach(n=>e[bnt(n,t)]=e[t]),e),Yy);var Ent=/^(matrix|translate|scale|rotate|skew)/,Snt=/^(translate)/,Tnt=/^(rotate|skew)/,E2=(e,t)=>ze.num(e)&&e!==0?e+t:e,eE=(e,t)=>ze.arr(e)?e.every(n=>eE(n,t)):ze.num(e)?e===t:parseFloat(e)===t,xnt=class extends mP{constructor({x:e,y:t,z:n,...r}){const i=[],s=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),s.push(o=>[`translate3d(${o.map(a=>E2(a,"px")).join(",")})`,eE(o,0)])),fl(r,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(u=>[u,u===""]);else if(Ent.test(a)){if(delete r[a],ze.und(o))return;const u=Snt.test(a)?"px":Tnt.test(a)?"deg":"";i.push(Co(o)),s.push(a==="rotate3d"?([l,c,f,d])=>[`rotate3d(${l},${c},${f},${E2(d,u)})`,eE(d,0)]:l=>[`${a}(${l.map(c=>E2(c,u)).join(",")})`,eE(l,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new Int(i,s)),super(r)}},Int=class extends Zle{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return dn(this.inputs,(n,r)=>{const i=Vs(n[0]),[s,o]=this.transforms[r](ze.arr(i)?i:n.map(Vs));e+=" "+s,t=t&&o}),t?"none":e}observerAdded(e){e==1&&dn(this.inputs,t=>dn(t,n=>Zo(n)&&Gg(n,this)))}observerRemoved(e){e==0&&dn(this.inputs,t=>dn(t,n=>Zo(n)&&Zv(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Jv(this,e)}},Cnt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];nu.assign({batchedUpdates:pc.unstable_batchedUpdates,createStringInterpolator:nce,colors:ptt});var Pnt=Gtt(Cnt,{applyAnimatedValues:_nt,createAnimatedStyle:e=>new xnt(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Ant=Pnt.animated;function Ont({cx:e,cy:t,r:n,color:r}){const i=mnt({cx:e,cy:t,r:n});return I.jsx(Ant.circle,{...i,fill:r})}function Rnt({xScale:e,answer:t,height:n,currentNode:r,setCurrentNode:i}){return I.jsxs("g",{style:{cursor:"pointer"},children:[t.provenanceGraph?Object.entries(t.provenanceGraph.nodes).map(s=>{const[o,a]=s;return I.jsx("g",{onClick:()=>i(o),children:I.jsx(Ont,{color:o===r?"cornflowerblue":"lightgray",cx:e(a.createdOn),cy:n/2,r:5})},o)}):null,r&&t.provenanceGraph&&t.provenanceGraph.nodes[r]?I.jsx("circle",{fill:"cornflowerblue",cx:e(t.provenanceGraph.nodes[r].createdOn),cy:n/2,r:5}):null]})}const $c={left:5,top:0,right:5,bottom:0};function Nnt({participantData:e,width:t,height:n,selectedTask:r,currentNode:i,setCurrentNode:s,playTime:o,setPlayTime:a,isPlaying:u,setIsPlaying:l,setSelectedTask:c}){const[f,d]=w.useState(0),[h,p]=w.useState(0),m=w.useMemo(()=>{const S=r?[e.answers[r].startTime,e.answers[r].endTime]:Object.values(e.answers).map(E=>[E.startTime,E.endTime]).flat();return _h([$c.left,t+$c.left+$c.right]).domain(vh(S))},[e.answers,r,t]),{allTaskTimes:y}=w.useMemo(()=>({allTaskTimes:Object.entries(e.answers).map(T=>{var E;return{time:T[1].startTime,name:T[0],nodes:T[1].provenanceGraph?Object.entries((E=T[1].provenanceGraph)==null?void 0:E.nodes).map(x=>({time:x[1].createdOn,name:x[0]})).sort((x,P)=>x.time-P.time):[]}}).flat().sort((T,E)=>T.time-E.time)}),[e.answers]),g=w.useMemo(()=>{const S=Object.values(e.answers).map(E=>[E.startTime,E.endTime]).flat();return _h([$c.left,t+$c.left+$c.right]).domain(vh(S))},[e.answers,t]),v=w.useMemo(()=>g.domain()[1]-g.domain()[0],[g]);w.useEffect(()=>{var S,T;u&&o<=m.domain()[1]&&(o+g.domain()[0]>y[f+1].time?(d(f+1),c(y[f+1].name),p(0)):o+g.domain()[0]>((T=(S=y[f])==null?void 0:S.nodes[h+1])==null?void 0:T.time)&&(p(h+1),s(y[f].nodes[h+1].name)))},[y,u,o,h,s,c,f,g,m]),w.useEffect(()=>{a(m.domain()[0]-g.domain()[0],(m.domain()[0]-g.domain()[0])/v)},[a,v,g,m]),w.useEffect(()=>{d(y.indexOf(y.find(S=>S.name===r)))},[r,y]);const _=w.useCallback(S=>{a(y[f].nodes.find(T=>T.name===S).time,(y[f].nodes.find(T=>T.name===S).time-g.domain()[0])/v),p(y[f].nodes.indexOf(y[f].nodes.find(T=>T.name===S))),l(!1),s(S)},[y,a,f,g,v,l,s]);return I.jsx(bs,{children:I.jsxs("svg",{style:{width:t,height:n},children:[I.jsx("line",{stroke:"black",strokeWidth:1,x1:$c.left,x2:t+$c.left,y1:n/2,y2:n/2}),Object.entries(e.answers).map(S=>{const[T,E]=S;return I.jsx(Rnt,{answer:E,height:n,currentNode:i,setCurrentNode:_,xScale:m},T)})]})})}function knt(e){const t=r_e(),[n,r]=w.useState(null),i=()=>{r(e.getSelection()),t()};return w.useEffect(()=>(r(e.getSelection()),e.addEventListener("selectionchange",i),()=>e.removeEventListener("selectionchange",i)),[e]),n}function Dnt(e,t){return t?t.getParticipantData(e):null}function $nt(e){return e?e.getAllParticipantsData():null}function Lnt(e){return e?e.getAudioTags():null}function Mnt(e,t){return t?t.getTextTags(e):null}function Fnt({cssUpdate:e,popoutWindow:t}){const{trrackId:n,trialName:r,studyId:i}=fh(),{storageEngine:s}=la(),[o,{width:a}]=LI(),[u,l]=w.useState(null),[c,f]=w.useState(null),[d,h]=w.useState(null),[p,m]=w.useState(null),{value:y,status:g}=Wp(Dnt,[n,s]);Wp($nt,[s]);const{value:v,status:_,execute:S}=Wp(Lnt,[s]),{value:T,status:E,execute:x}=Wp(Mnt,[n||"",s]),[P,M]=w.useState(!1),[L,F]=w.useState(0),[V,oe]=w.useState({name:"",icon:""}),U=knt(t),te=w.useRef(null);w.useState(!1),e();const ue=w.useCallback(A=>{A&&(s==null||s.getAudio(n).then(W=>{A&&(A.load(W),m(2))}))},[s,n]),ne=Ble({container:te.current,plugins:[],onMount:ue}),q=w.useCallback((A,W)=>{F(A),ne&&W&&(ne==null||ne.seekTo(W))},[ne]),fe=w.useCallback(A=>{M(A),ne&&(A?ne.play():ne.pause())},[ne]);return w.useEffect(()=>{i&&r&&n&&(s==null||s.getTranscription(n).then(A=>{h(JSON.parse(A))}))},[s,i,r,n]),I.jsxs(ti,{noWrap:!0,spacing:25,children:[I.jsxs(bs,{ref:o,style:{width:"100%"},spacing:25,children:[g==="success"&&y?I.jsx(zle,{selectedTask:u,setSelectedTask:l,participantData:y,width:a,height:200}):I.jsx(fa,{style:{height:"275px"},children:I.jsx(nd,{})}),g==="success"&&y?I.jsx(Nnt,{setSelectedTask:l,playTime:L,setPlayTime:q,isPlaying:P,setIsPlaying:fe,currentNode:c,setCurrentNode:f,selectedTask:u,participantData:y,width:a,height:50}):null,I.jsx(ft,{ref:te,style:{width:"100%"},children:I.jsx(Fle.Provider,{value:ne,children:I.jsx(IM,{id:"waveform"})})}),I.jsx(ti,{style:{width:"100%",height:"100px"},align:"center",position:"center",children:I.jsx(fa,{children:I.jsx(tt,{color:"dimmed",size:20,style:{width:"100%"},children:d&&p!==null?d.results[p].alternatives[0].transcript:""})})}),I.jsxs(ti,{children:[I.jsx(_s,{onClick:()=>fe(!0),children:"Play"}),I.jsx(_s,{onClick:()=>fe(!1),children:"Pause"}),I.jsx(tt,{children:new Date(L).toLocaleString()})]}),I.jsxs(rs,{width:250,position:"bottom",shadow:"md",trigger:"hover",children:[I.jsx(rs.Target,{children:I.jsx(QI,{withinPortal:!0,label:"example",children:I.jsx(jPe,{highlight:(T==null?void 0:T.map(A=>A.text))||[],highlightStyles:{backgroundImage:"cornflowerblue",fontWeight:700,backgroundColor:"cornflowerblue",color:"cornflowerblue",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:(d==null?void 0:d.results.map(A=>A.alternatives[0].transcript).join(" "))||""})})}),I.jsx(rs.Dropdown,{children:v&&n?v.map(A=>I.jsx(rs.Item,{onClick:()=>{s==null||s.saveTextTags(n,[...T||[],{tag:A,text:(U==null?void 0:U.toString())||""}]).then(()=>x(n||"",s))},children:I.jsx(ti,{children:I.jsx(tt,{children:A.name},A.name)})},A.name)):null})]})]}),I.jsx(_f,{orientation:"vertical",ml:25}),I.jsx(bs,{style:{width:"300px",height:"100%"},children:I.jsx(j$,{h:380,children:I.jsxs(bs,{children:[I.jsxs(_i,{width:200,trapFocus:!0,position:"bottom",withArrow:!0,shadow:"md",children:[I.jsx(_i.Target,{children:I.jsx(_s,{children:"Create new tag"})}),I.jsxs(_i.Dropdown,{children:[I.jsx(zm,{value:V.name,onChange:A=>oe({...V,name:A.currentTarget.value}),label:"Name",placeholder:"Name",size:"xs"}),I.jsx(zm,{value:V.icon,onChange:A=>oe({...V,icon:A.currentTarget.value}),label:"Icon",placeholder:"icon",size:"xs",mt:"xs"}),I.jsx(_s,{onClick:()=>s==null?void 0:s.saveAudioTags([...v||[],V]).then(()=>S(s)),children:"Create Tag"})]})]}),v?v.map(A=>I.jsx(ti,{children:I.jsx(tt,{children:A.name},A.name)},A.name)):null]})})})]})}function jnt(e,t){return t?t.getParticipantData(e):null}function Bnt({setProvState:e}){const{trrackId:t,trialName:n,studyId:r}=fh(),i=td(),s=Lh(),{storageEngine:o}=la(),[a,u]=w.useState(null),[l,c]=w.useState(null),{value:f,status:d}=Wp(jnt,[t,o]),h=w.useRef();w.useEffect(()=>{if(a){const y=s.pathname.split("/");c(null),y[y.length-1]=a,i(y.join("/"))}},[s.pathname,i,a]),w.useEffect(()=>{if(l&&a&&f){const y=jC.create(),g=xse({registry:y,initialState:{}});if(f.answers[a].provenanceGraph){g.importObject(Ag(f.answers[a].provenanceGraph));const v=g.getState(g.graph.backend.nodes[l]);e(v)}}else e(null)},[l,f,a,e]);const p=w.useMemo(()=>document.createElement("div"),[]);w.useEffect(()=>{const y=window.open("about:blank","newWin",`width=2000,height=400,left=${window.screen.availWidth/3-200},top=${window.screen.availHeight/3-150}`);return y.document.body.appendChild(p),y.document.head.innerHTML=window.document.head.innerHTML,h.current=y,()=>{y.close()}},[]);const m=w.useCallback(()=>{h.current&&(h.current.document.head.innerHTML=window.document.head.innerHTML)},[]);return I.jsx("div",{children:pc.createPortal(I.jsx("div",{children:I.jsx(Fnt,{popoutWindow:h.current||document,cssUpdate:m})}),p)})}function Unt(){const[e,t]=w.useState();return I.jsxs(bs,{children:[I.jsx(Bnt,{setProvState:t}),I.jsx(Dle,{provState:e})]})}function Vnt(e){const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,s=n<10?`0${n}`:`${n}`;return`${t<10?`0${t}`:`${t}`}h ${s}m ${i}s`}function znt({participant:e,maxDuration:t}){const n=td(),r=w.useMemo(()=>{if(!e.answers||Object.entries(e.answers).length===0)return 0;const o=Object.values(e.answers).sort((a,u)=>a.startTime-u.startTime);return new Date(o[o.length-1].endTime-o[0].startTime).getTime()},[e]),[i,{width:s}]=LI();return I.jsx(fa,{children:I.jsxs(bs,{spacing:25,ref:i,style:{width:"75%"},children:[I.jsxs(ti,{position:"apart",children:[I.jsx(YQ,{size:25,onClick:()=>n(`${e.participantId}/${e.sequence[0]}`),children:e.participantId})," ",I.jsx(tt,{size:"xl",children:`${Vnt(r)}`})," "]}),I.jsx(zle,{maxDuration:t,selectedTask:null,setSelectedTask:()=>null,participantData:e,width:s,height:250})]},e.participantId)})}function Hnt(e){return e?e.getAllParticipantsData():null}function Wnt(){const{storageEngine:e}=la(),{value:t,status:n}=Wp(Hnt,[e]),r=w.useMemo(()=>{if(!(n!=="success"||!t))return HN(t==null?void 0:t.map(i=>{if(!i.answers||Object.entries(i.answers).length===0)return 0;const s=Object.values(i.answers).sort((o,a)=>o.startTime-a.startTime);return new Date(s[s.length-1].endTime-s[0].startTime).getTime()}))},[t,n]);return n==="success"&&t?I.jsx(bs,{spacing:50,style:{width:"100%"},children:t==null?void 0:t.map(i=>I.jsx(znt,{maxDuration:r,participant:i},i.participantId))}):I.jsx(nd,{})}async function qnt(e,t){const n=await(await fetch(`${gl}${e}`)).text();return Fne(n,t)}function Gnt({studyId:e,config:t,storage:n}){const r=da(s=>s.sequence),i=w.useMemo(()=>{if(e&&t&&r){const s=[];return s.push({path:"/",element:I.jsx(wet,{to:`${r[0]}`,replace:!0})}),s.push({path:"/analysis/:trrackId/:trialName/",element:I.jsx(Unt,{})}),s.push({path:"/analysis",element:I.jsx(Wnt,{})}),s.push({path:"/:trialName",element:I.jsx(Dle,{})}),s.push({path:"/end",element:I.jsx(Eet,{})}),[{element:I.jsx(ttt,{}),children:s}]}return[]},[t,r,e]);return EK(i)}function Ynt({globalConfig:e}){const{studyId:t}=fh();if(!t||!e.configsList.find(u=>sN(u)))throw new Error("Study id invalid");const[n,r]=w.useState(null);w.useEffect(()=>{const u=e.configsList.find(l=>sN(l)===t);if(u){const l=e.configs[u];qnt(`${l.path}`,u).then(c=>{r(c)})}},[e,t]);const[i,s]=w.useState(null),{storageEngine:o}=la(),[a]=w$();return w.useEffect(()=>{async function u(){if(!o||!n||!t)return;await o.initializeStudyDb(t,n),await o.getSequenceArray()||await o.setSequenceArray(await Cet(n));const c=n.uiConfig.urlParticipantIdParam&&a.get(n.uiConfig.urlParticipantIdParam)||void 0,f=Object.fromEntries(a.entries()),d=await o.initializeParticipantSession(f,n,c),h=await m4e(t,n,d.sequence,d.answers);s(h)}u()},[o,n,t,a]),!i||!o?I.jsx(ft,{style:{height:"100vh"},children:I.jsx(fa,{style:{height:"100%"},children:I.jsx(nd,{style:{height:"100%"},size:60})})}):I.jsx(are.Provider,{value:i,children:I.jsx(VDe,{store:i.store,children:I.jsx(Gnt,{studyId:t,config:n,storage:o})})})}async function Knt(){const t=await(await fetch(`${gl}configs/global.json`)).text();return dMe(t)}async function gW(e){const t={},n=e.configsList.map(i=>`${gl}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(s=>s.text()))).then(i=>Promise.all(i.map((s,o)=>Fne(s,e.configsList[o]))));return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function Qnt(){const[e,t]=w.useState(null),[n,r]=w.useState({});return w.useEffect(()=>{async function i(){e&&r(await gW(e))}i()},[e]),w.useEffect(()=>{Knt().then(i=>{t(i),gW(i).then(s=>{r(s)})})},[]),e?I.jsx(j0e,{basename:gl,children:I.jsxs($0e,{children:[I.jsx(BR,{path:"/",element:I.jsx(aDe,{globalConfig:e,studyConfigs:n})}),I.jsx(BR,{path:"/:studyId/*",element:I.jsx(Ynt,{globalConfig:e})})]})}):null}function Zb(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ece={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,c){if(!i[l]){if(!r[l]){var f=typeof Zb=="function"&&Zb;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var m=r[l][1][p];return o(m||p)},h,h.exports,n,r,i,s)}return i[l].exports}for(var a=typeof Zb=="function"&&Zb,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(p),c=s.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var y=s.document.createElement("script");y.onreadystatechange=function(){p(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var y,g,v=h.length;v;){for(g=h,h=[],y=-1;++y<v;)g[y]();v=h.length}d=!1}r.exports=m;function m(y){h.push(y)===1&&!d&&a()}}).call(this,typeof So<"u"?So:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,T!==o&&m(this,T)}f.prototype.catch=function(T){return this.then(null,T)},f.prototype.then=function(T,E){if(typeof T!="function"&&this.state===l||typeof E!="function"&&this.state===u)return this;var x=new this.constructor(o);if(this.state!==c){var P=this.state===l?T:E;h(x,P,this.outcome)}else this.queue.push(new d(x,T,E));return x};function d(T,E,x){this.promise=T,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(T){a.resolve(this.promise,T)},d.prototype.otherCallFulfilled=function(T){h(this.promise,this.onFulfilled,T)},d.prototype.callRejected=function(T){a.reject(this.promise,T)},d.prototype.otherCallRejected=function(T){h(this.promise,this.onRejected,T)};function h(T,E,x){s(function(){var P;try{P=E(x)}catch(M){return a.reject(T,M)}P===T?a.reject(T,new TypeError("Cannot resolve promise with itself")):a.resolve(T,P)})}a.resolve=function(T,E){var x=y(p,E);if(x.status==="error")return a.reject(T,x.value);var P=x.value;if(P)m(T,P);else{T.state=l,T.outcome=E;for(var M=-1,L=T.queue.length;++M<L;)T.queue[M].callFulfilled(E)}return T},a.reject=function(T,E){T.state=u,T.outcome=E;for(var x=-1,P=T.queue.length;++x<P;)T.queue[x].callRejected(E);return T};function p(T){var E=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof E=="function")return function(){E.apply(T,arguments)}}function m(T,E){var x=!1;function P(V){x||(x=!0,a.reject(T,V))}function M(V){x||(x=!0,a.resolve(T,V))}function L(){E(M,P)}var F=y(L);F.status==="error"&&P(F.value)}function y(T,E){var x={};try{x.value=T(E),x.status="success"}catch(P){x.status="error",x.value=P}return x}f.resolve=g;function g(T){return T instanceof this?T:a.resolve(new this(o),T)}f.reject=v;function v(T){var E=new this(o);return a.reject(E,T)}f.all=_;function _(T){var E=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=T.length,P=!1;if(!x)return this.resolve([]);for(var M=new Array(x),L=0,F=-1,V=new this(o);++F<x;)oe(T[F],F);return V;function oe(U,te){E.resolve(U).then(ue,function(ne){P||(P=!0,a.reject(V,ne))});function ue(ne){M[te]=ne,++L===x&&!P&&(P=!0,a.resolve(V,M))}}}f.race=S;function S(T){var E=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=T.length,P=!1;if(!x)return this.resolve([]);for(var M=-1,L=new this(o);++M<x;)F(T[M]);return L;function F(V){E.resolve(V).then(function(oe){P||(P=!0,a.resolve(L,oe))},function(oe){P||(P=!0,a.reject(L,oe))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof So<"u"?So:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N};function o(N,J){if(!(N instanceof J))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var N=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),J=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!N||J)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(N,J){N=N||[],J=J||{};try{return new Blob(N,J)}catch(ie){if(ie.name!=="TypeError")throw ie;for(var j=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,re=new j,ce=0;ce<N.length;ce+=1)re.append(N[ce]);return re.getBlob(J.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(N,J){J&&N.then(function(j){J(null,j)},function(j){J(j)})}function h(N,J,j){typeof J=="function"&&N.then(J),typeof j=="function"&&N.catch(j)}function p(N){return typeof N!="string"&&(console.warn(N+" used as a key, but it is not a string."),N=String(N)),N}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",g=void 0,v={},_=Object.prototype.toString,S="readonly",T="readwrite";function E(N){for(var J=N.length,j=new ArrayBuffer(J),re=new Uint8Array(j),ce=0;ce<J;ce++)re[ce]=N.charCodeAt(ce);return j}function x(N){return new f(function(J){var j=N.transaction(y,T),re=c([""]);j.objectStore(y).put(re,"key"),j.onabort=function(ce){ce.preventDefault(),ce.stopPropagation(),J(!1)},j.oncomplete=function(){var ce=navigator.userAgent.match(/Chrome\/(\d+)/),ie=navigator.userAgent.match(/Edge\//);J(ie||!ce||parseInt(ce[1],10)>=43)}}).catch(function(){return!1})}function P(N){return typeof g=="boolean"?f.resolve(g):x(N).then(function(J){return g=J,g})}function M(N){var J=v[N.name],j={};j.promise=new f(function(re,ce){j.resolve=re,j.reject=ce}),J.deferredOperations.push(j),J.dbReady?J.dbReady=J.dbReady.then(function(){return j.promise}):J.dbReady=j.promise}function L(N){var J=v[N.name],j=J.deferredOperations.pop();if(j)return j.resolve(),j.promise}function F(N,J){var j=v[N.name],re=j.deferredOperations.pop();if(re)return re.reject(J),re.promise}function V(N,J){return new f(function(j,re){if(v[N.name]=v[N.name]||Y(),N.db)if(J)M(N),N.db.close();else return j(N.db);var ce=[N.name];J&&ce.push(N.version);var ie=u.open.apply(u,ce);J&&(ie.onupgradeneeded=function(Ce){var De=ie.result;try{De.createObjectStore(N.storeName),Ce.oldVersion<=1&&De.createObjectStore(y)}catch(Me){if(Me.name==="ConstraintError")console.warn('The database "'+N.name+'" has been upgraded from version '+Ce.oldVersion+" to version "+Ce.newVersion+', but the storage "'+N.storeName+'" already exists.');else throw Me}}),ie.onerror=function(Ce){Ce.preventDefault(),re(ie.error)},ie.onsuccess=function(){var Ce=ie.result;Ce.onversionchange=function(De){De.target.close()},j(Ce),L(N)}})}function oe(N){return V(N,!1)}function U(N){return V(N,!0)}function te(N,J){if(!N.db)return!0;var j=!N.db.objectStoreNames.contains(N.storeName),re=N.version<N.db.version,ce=N.version>N.db.version;if(re&&(N.version!==J&&console.warn('The database "'+N.name+`" can't be downgraded from version `+N.db.version+" to version "+N.version+"."),N.version=N.db.version),ce||j){if(j){var ie=N.db.version+1;ie>N.version&&(N.version=ie)}return!0}return!1}function ue(N){return new f(function(J,j){var re=new FileReader;re.onerror=j,re.onloadend=function(ce){var ie=btoa(ce.target.result||"");J({__local_forage_encoded_blob:!0,data:ie,type:N.type})},re.readAsBinaryString(N)})}function ne(N){var J=E(atob(N.data));return c([J],{type:N.type})}function q(N){return N&&N.__local_forage_encoded_blob}function fe(N){var J=this,j=J._initReady().then(function(){var re=v[J._dbInfo.name];if(re&&re.dbReady)return re.dbReady});return h(j,N,N),j}function A(N){M(N);for(var J=v[N.name],j=J.forages,re=0;re<j.length;re++){var ce=j[re];ce._dbInfo.db&&(ce._dbInfo.db.close(),ce._dbInfo.db=null)}return N.db=null,oe(N).then(function(ie){return N.db=ie,te(N)?U(N):ie}).then(function(ie){N.db=J.db=ie;for(var Ce=0;Ce<j.length;Ce++)j[Ce]._dbInfo.db=ie}).catch(function(ie){throw F(N,ie),ie})}function W(N,J,j,re){re===void 0&&(re=1);try{var ce=N.db.transaction(N.storeName,J);j(null,ce)}catch(ie){if(re>0&&(!N.db||ie.name==="InvalidStateError"||ie.name==="NotFoundError"))return f.resolve().then(function(){if(!N.db||ie.name==="NotFoundError"&&!N.db.objectStoreNames.contains(N.storeName)&&N.version<=N.db.version)return N.db&&(N.version=N.db.version+1),U(N)}).then(function(){return A(N).then(function(){W(N,J,j,re-1)})}).catch(j);j(ie)}}function Y(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function C(N){var J=this,j={db:null};if(N)for(var re in N)j[re]=N[re];var ce=v[j.name];ce||(ce=Y(),v[j.name]=ce),ce.forages.push(J),J._initReady||(J._initReady=J.ready,J.ready=fe);var ie=[];function Ce(){return f.resolve()}for(var De=0;De<ce.forages.length;De++){var Me=ce.forages[De];Me!==J&&ie.push(Me._initReady().catch(Ce))}var Fe=ce.forages.slice(0);return f.all(ie).then(function(){return j.db=ce.db,oe(j)}).then(function(He){return j.db=He,te(j,J._defaultConfig.version)?U(j):He}).then(function(He){j.db=ce.db=He,J._dbInfo=j;for(var lt=0;lt<Fe.length;lt++){var qt=Fe[lt];qt!==J&&(qt._dbInfo.db=j.db,qt._dbInfo.version=j.version)}})}function O(N,J){var j=this;N=p(N);var re=new f(function(ce,ie){j.ready().then(function(){W(j._dbInfo,S,function(Ce,De){if(Ce)return ie(Ce);try{var Me=De.objectStore(j._dbInfo.storeName),Fe=Me.get(N);Fe.onsuccess=function(){var He=Fe.result;He===void 0&&(He=null),q(He)&&(He=ne(He)),ce(He)},Fe.onerror=function(){ie(Fe.error)}}catch(He){ie(He)}})}).catch(ie)});return d(re,J),re}function k(N,J){var j=this,re=new f(function(ce,ie){j.ready().then(function(){W(j._dbInfo,S,function(Ce,De){if(Ce)return ie(Ce);try{var Me=De.objectStore(j._dbInfo.storeName),Fe=Me.openCursor(),He=1;Fe.onsuccess=function(){var lt=Fe.result;if(lt){var qt=lt.value;q(qt)&&(qt=ne(qt));var Sn=N(qt,lt.key,He++);Sn!==void 0?ce(Sn):lt.continue()}else ce()},Fe.onerror=function(){ie(Fe.error)}}catch(lt){ie(lt)}})}).catch(ie)});return d(re,J),re}function G(N,J,j){var re=this;N=p(N);var ce=new f(function(ie,Ce){var De;re.ready().then(function(){return De=re._dbInfo,_.call(J)==="[object Blob]"?P(De.db).then(function(Me){return Me?J:ue(J)}):J}).then(function(Me){W(re._dbInfo,T,function(Fe,He){if(Fe)return Ce(Fe);try{var lt=He.objectStore(re._dbInfo.storeName);Me===null&&(Me=void 0);var qt=lt.put(Me,N);He.oncomplete=function(){Me===void 0&&(Me=null),ie(Me)},He.onabort=He.onerror=function(){var Sn=qt.error?qt.error:qt.transaction.error;Ce(Sn)}}catch(Sn){Ce(Sn)}})}).catch(Ce)});return d(ce,j),ce}function de(N,J){var j=this;N=p(N);var re=new f(function(ce,ie){j.ready().then(function(){W(j._dbInfo,T,function(Ce,De){if(Ce)return ie(Ce);try{var Me=De.objectStore(j._dbInfo.storeName),Fe=Me.delete(N);De.oncomplete=function(){ce()},De.onerror=function(){ie(Fe.error)},De.onabort=function(){var He=Fe.error?Fe.error:Fe.transaction.error;ie(He)}}catch(He){ie(He)}})}).catch(ie)});return d(re,J),re}function he(N){var J=this,j=new f(function(re,ce){J.ready().then(function(){W(J._dbInfo,T,function(ie,Ce){if(ie)return ce(ie);try{var De=Ce.objectStore(J._dbInfo.storeName),Me=De.clear();Ce.oncomplete=function(){re()},Ce.onabort=Ce.onerror=function(){var Fe=Me.error?Me.error:Me.transaction.error;ce(Fe)}}catch(Fe){ce(Fe)}})}).catch(ce)});return d(j,N),j}function ge(N){var J=this,j=new f(function(re,ce){J.ready().then(function(){W(J._dbInfo,S,function(ie,Ce){if(ie)return ce(ie);try{var De=Ce.objectStore(J._dbInfo.storeName),Me=De.count();Me.onsuccess=function(){re(Me.result)},Me.onerror=function(){ce(Me.error)}}catch(Fe){ce(Fe)}})}).catch(ce)});return d(j,N),j}function Te(N,J){var j=this,re=new f(function(ce,ie){if(N<0){ce(null);return}j.ready().then(function(){W(j._dbInfo,S,function(Ce,De){if(Ce)return ie(Ce);try{var Me=De.objectStore(j._dbInfo.storeName),Fe=!1,He=Me.openKeyCursor();He.onsuccess=function(){var lt=He.result;if(!lt){ce(null);return}N===0||Fe?ce(lt.key):(Fe=!0,lt.advance(N))},He.onerror=function(){ie(He.error)}}catch(lt){ie(lt)}})}).catch(ie)});return d(re,J),re}function Pe(N){var J=this,j=new f(function(re,ce){J.ready().then(function(){W(J._dbInfo,S,function(ie,Ce){if(ie)return ce(ie);try{var De=Ce.objectStore(J._dbInfo.storeName),Me=De.openKeyCursor(),Fe=[];Me.onsuccess=function(){var He=Me.result;if(!He){re(Fe);return}Fe.push(He.key),He.continue()},Me.onerror=function(){ce(Me.error)}}catch(He){ce(He)}})}).catch(ce)});return d(j,N),j}function Se(N,J){J=m.apply(this,arguments);var j=this.config();N=typeof N!="function"&&N||{},N.name||(N.name=N.name||j.name,N.storeName=N.storeName||j.storeName);var re=this,ce;if(!N.name)ce=f.reject("Invalid arguments");else{var ie=N.name===j.name&&re._dbInfo.db,Ce=ie?f.resolve(re._dbInfo.db):oe(N).then(function(De){var Me=v[N.name],Fe=Me.forages;Me.db=De;for(var He=0;He<Fe.length;He++)Fe[He]._dbInfo.db=De;return De});N.storeName?ce=Ce.then(function(De){if(De.objectStoreNames.contains(N.storeName)){var Me=De.version+1;M(N);var Fe=v[N.name],He=Fe.forages;De.close();for(var lt=0;lt<He.length;lt++){var qt=He[lt];qt._dbInfo.db=null,qt._dbInfo.version=Me}var Sn=new f(function(Cn,Tr){var ur=u.open(N.name,Me);ur.onerror=function(Rs){var cd=ur.result;cd.close(),Tr(Rs)},ur.onupgradeneeded=function(){var Rs=ur.result;Rs.deleteObjectStore(N.storeName)},ur.onsuccess=function(){var Rs=ur.result;Rs.close(),Cn(Rs)}});return Sn.then(function(Cn){Fe.db=Cn;for(var Tr=0;Tr<He.length;Tr++){var ur=He[Tr];ur._dbInfo.db=Cn,L(ur._dbInfo)}}).catch(function(Cn){throw(F(N,Cn)||f.resolve()).catch(function(){}),Cn})}}):ce=Ce.then(function(De){M(N);var Me=v[N.name],Fe=Me.forages;De.close();for(var He=0;He<Fe.length;He++){var lt=Fe[He];lt._dbInfo.db=null}var qt=new f(function(Sn,Cn){var Tr=u.deleteDatabase(N.name);Tr.onerror=function(){var ur=Tr.result;ur&&ur.close(),Cn(Tr.error)},Tr.onblocked=function(){console.warn('dropInstance blocked for database "'+N.name+'" until all open connections are closed')},Tr.onsuccess=function(){var ur=Tr.result;ur&&ur.close(),Sn(ur)}});return qt.then(function(Sn){Me.db=Sn;for(var Cn=0;Cn<Fe.length;Cn++){var Tr=Fe[Cn];L(Tr._dbInfo)}}).catch(function(Sn){throw(F(N,Sn)||f.resolve()).catch(function(){}),Sn})})}return d(ce,J),ce}var st={_driver:"asyncStorage",_initStorage:C,_support:l(),iterate:k,getItem:O,setItem:G,removeItem:de,clear:he,length:ge,key:Te,keys:Pe,dropInstance:Se};function Je(){return typeof openDatabase=="function"}var vt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve="~~local_forage_type~",ct=/^~~local_forage_type~([^~]+)~/,gt="__lfsc__:",rn=gt.length,hn="arbf",ae="blob",ye="si08",ve="ui08",se="uic8",be="si16",$e="si32",X="ur16",me="ui32",_e="fl32",Oe="fl64",We=rn+hn.length,_t=Object.prototype.toString;function Be(N){var J=N.length*.75,j=N.length,re,ce=0,ie,Ce,De,Me;N[N.length-1]==="="&&(J--,N[N.length-2]==="="&&J--);var Fe=new ArrayBuffer(J),He=new Uint8Array(Fe);for(re=0;re<j;re+=4)ie=vt.indexOf(N[re]),Ce=vt.indexOf(N[re+1]),De=vt.indexOf(N[re+2]),Me=vt.indexOf(N[re+3]),He[ce++]=ie<<2|Ce>>4,He[ce++]=(Ce&15)<<4|De>>2,He[ce++]=(De&3)<<6|Me&63;return Fe}function Qe(N){var J=new Uint8Array(N),j="",re;for(re=0;re<J.length;re+=3)j+=vt[J[re]>>2],j+=vt[(J[re]&3)<<4|J[re+1]>>4],j+=vt[(J[re+1]&15)<<2|J[re+2]>>6],j+=vt[J[re+2]&63];return J.length%3===2?j=j.substring(0,j.length-1)+"=":J.length%3===1&&(j=j.substring(0,j.length-2)+"=="),j}function Xe(N,J){var j="";if(N&&(j=_t.call(N)),N&&(j==="[object ArrayBuffer]"||N.buffer&&_t.call(N.buffer)==="[object ArrayBuffer]")){var re,ce=gt;N instanceof ArrayBuffer?(re=N,ce+=hn):(re=N.buffer,j==="[object Int8Array]"?ce+=ye:j==="[object Uint8Array]"?ce+=ve:j==="[object Uint8ClampedArray]"?ce+=se:j==="[object Int16Array]"?ce+=be:j==="[object Uint16Array]"?ce+=X:j==="[object Int32Array]"?ce+=$e:j==="[object Uint32Array]"?ce+=me:j==="[object Float32Array]"?ce+=_e:j==="[object Float64Array]"?ce+=Oe:J(new Error("Failed to get type for BinaryArray"))),J(ce+Qe(re))}else if(j==="[object Blob]"){var ie=new FileReader;ie.onload=function(){var Ce=Ve+N.type+"~"+Qe(this.result);J(gt+ae+Ce)},ie.readAsArrayBuffer(N)}else try{J(JSON.stringify(N))}catch(Ce){console.error("Couldn't convert value into a JSON string: ",N),J(null,Ce)}}function Ct(N){if(N.substring(0,rn)!==gt)return JSON.parse(N);var J=N.substring(We),j=N.substring(rn,We),re;if(j===ae&&ct.test(J)){var ce=J.match(ct);re=ce[1],J=J.substring(ce[0].length)}var ie=Be(J);switch(j){case hn:return ie;case ae:return c([ie],{type:re});case ye:return new Int8Array(ie);case ve:return new Uint8Array(ie);case se:return new Uint8ClampedArray(ie);case be:return new Int16Array(ie);case X:return new Uint16Array(ie);case $e:return new Int32Array(ie);case me:return new Uint32Array(ie);case _e:return new Float32Array(ie);case Oe:return new Float64Array(ie);default:throw new Error("Unkown type: "+j)}}var ht={serialize:Xe,deserialize:Ct,stringToBuffer:Be,bufferToString:Qe};function Yn(N,J,j,re){N.executeSql("CREATE TABLE IF NOT EXISTS "+J.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],j,re)}function Qt(N){var J=this,j={db:null};if(N)for(var re in N)j[re]=typeof N[re]!="string"?N[re].toString():N[re];var ce=new f(function(ie,Ce){try{j.db=openDatabase(j.name,String(j.version),j.description,j.size)}catch(De){return Ce(De)}j.db.transaction(function(De){Yn(De,j,function(){J._dbInfo=j,ie()},function(Me,Fe){Ce(Fe)})},Ce)});return j.serializer=ht,ce}function vn(N,J,j,re,ce,ie){N.executeSql(j,re,ce,function(Ce,De){De.code===De.SYNTAX_ERR?Ce.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[J.storeName],function(Me,Fe){Fe.rows.length?ie(Me,De):Yn(Me,J,function(){Me.executeSql(j,re,ce,ie)},ie)},ie):ie(Ce,De)},ie)}function li(N,J){var j=this;N=p(N);var re=new f(function(ce,ie){j.ready().then(function(){var Ce=j._dbInfo;Ce.db.transaction(function(De){vn(De,Ce,"SELECT * FROM "+Ce.storeName+" WHERE key = ? LIMIT 1",[N],function(Me,Fe){var He=Fe.rows.length?Fe.rows.item(0).value:null;He&&(He=Ce.serializer.deserialize(He)),ce(He)},function(Me,Fe){ie(Fe)})})}).catch(ie)});return d(re,J),re}function Os(N,J){var j=this,re=new f(function(ce,ie){j.ready().then(function(){var Ce=j._dbInfo;Ce.db.transaction(function(De){vn(De,Ce,"SELECT * FROM "+Ce.storeName,[],function(Me,Fe){for(var He=Fe.rows,lt=He.length,qt=0;qt<lt;qt++){var Sn=He.item(qt),Cn=Sn.value;if(Cn&&(Cn=Ce.serializer.deserialize(Cn)),Cn=N(Cn,Sn.key,qt+1),Cn!==void 0){ce(Cn);return}}ce()},function(Me,Fe){ie(Fe)})})}).catch(ie)});return d(re,J),re}function ci(N,J,j,re){var ce=this;N=p(N);var ie=new f(function(Ce,De){ce.ready().then(function(){J===void 0&&(J=null);var Me=J,Fe=ce._dbInfo;Fe.serializer.serialize(J,function(He,lt){lt?De(lt):Fe.db.transaction(function(qt){vn(qt,Fe,"INSERT OR REPLACE INTO "+Fe.storeName+" (key, value) VALUES (?, ?)",[N,He],function(){Ce(Me)},function(Sn,Cn){De(Cn)})},function(qt){if(qt.code===qt.QUOTA_ERR){if(re>0){Ce(ci.apply(ce,[N,Me,j,re-1]));return}De(qt)}})})}).catch(De)});return d(ie,j),ie}function kn(N,J,j){return ci.apply(this,[N,J,j,1])}function Ta(N,J){var j=this;N=p(N);var re=new f(function(ce,ie){j.ready().then(function(){var Ce=j._dbInfo;Ce.db.transaction(function(De){vn(De,Ce,"DELETE FROM "+Ce.storeName+" WHERE key = ?",[N],function(){ce()},function(Me,Fe){ie(Fe)})})}).catch(ie)});return d(re,J),re}function kr(N){var J=this,j=new f(function(re,ce){J.ready().then(function(){var ie=J._dbInfo;ie.db.transaction(function(Ce){vn(Ce,ie,"DELETE FROM "+ie.storeName,[],function(){re()},function(De,Me){ce(Me)})})}).catch(ce)});return d(j,N),j}function wr(N){var J=this,j=new f(function(re,ce){J.ready().then(function(){var ie=J._dbInfo;ie.db.transaction(function(Ce){vn(Ce,ie,"SELECT COUNT(key) as c FROM "+ie.storeName,[],function(De,Me){var Fe=Me.rows.item(0).c;re(Fe)},function(De,Me){ce(Me)})})}).catch(ce)});return d(j,N),j}function Ln(N,J){var j=this,re=new f(function(ce,ie){j.ready().then(function(){var Ce=j._dbInfo;Ce.db.transaction(function(De){vn(De,Ce,"SELECT key FROM "+Ce.storeName+" WHERE id = ? LIMIT 1",[N+1],function(Me,Fe){var He=Fe.rows.length?Fe.rows.item(0).key:null;ce(He)},function(Me,Fe){ie(Fe)})})}).catch(ie)});return d(re,J),re}function pn(N){var J=this,j=new f(function(re,ce){J.ready().then(function(){var ie=J._dbInfo;ie.db.transaction(function(Ce){vn(Ce,ie,"SELECT key FROM "+ie.storeName,[],function(De,Me){for(var Fe=[],He=0;He<Me.rows.length;He++)Fe.push(Me.rows.item(He).key);re(Fe)},function(De,Me){ce(Me)})})}).catch(ce)});return d(j,N),j}function Qn(N){return new f(function(J,j){N.transaction(function(re){re.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ce,ie){for(var Ce=[],De=0;De<ie.rows.length;De++)Ce.push(ie.rows.item(De).name);J({db:N,storeNames:Ce})},function(ce,ie){j(ie)})},function(re){j(re)})})}function ds(N,J){J=m.apply(this,arguments);var j=this.config();N=typeof N!="function"&&N||{},N.name||(N.name=N.name||j.name,N.storeName=N.storeName||j.storeName);var re=this,ce;return N.name?ce=new f(function(ie){var Ce;N.name===j.name?Ce=re._dbInfo.db:Ce=openDatabase(N.name,"","",0),N.storeName?ie({db:Ce,storeNames:[N.storeName]}):ie(Qn(Ce))}).then(function(ie){return new f(function(Ce,De){ie.db.transaction(function(Me){function Fe(Sn){return new f(function(Cn,Tr){Me.executeSql("DROP TABLE IF EXISTS "+Sn,[],function(){Cn()},function(ur,Rs){Tr(Rs)})})}for(var He=[],lt=0,qt=ie.storeNames.length;lt<qt;lt++)He.push(Fe(ie.storeNames[lt]));f.all(He).then(function(){Ce()}).catch(function(Sn){De(Sn)})},function(Me){De(Me)})})}):ce=f.reject("Invalid arguments"),d(ce,J),ce}var Qr={_driver:"webSQLStorage",_initStorage:Qt,_support:Je(),iterate:Os,getItem:li,setItem:kn,removeItem:Ta,clear:kr,length:wr,key:Ln,keys:pn,dropInstance:ds};function Ur(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Z(N,J){var j=N.name+"/";return N.storeName!==J.storeName&&(j+=N.storeName+"/"),j}function z(){var N="_localforage_support_test";try{return localStorage.setItem(N,!0),localStorage.removeItem(N),!1}catch{return!0}}function ee(){return!z()||localStorage.length>0}function we(N){var J=this,j={};if(N)for(var re in N)j[re]=N[re];return j.keyPrefix=Z(N,J._defaultConfig),ee()?(J._dbInfo=j,j.serializer=ht,f.resolve()):f.reject()}function Ee(N){var J=this,j=J.ready().then(function(){for(var re=J._dbInfo.keyPrefix,ce=localStorage.length-1;ce>=0;ce--){var ie=localStorage.key(ce);ie.indexOf(re)===0&&localStorage.removeItem(ie)}});return d(j,N),j}function it(N,J){var j=this;N=p(N);var re=j.ready().then(function(){var ce=j._dbInfo,ie=localStorage.getItem(ce.keyPrefix+N);return ie&&(ie=ce.serializer.deserialize(ie)),ie});return d(re,J),re}function ot(N,J){var j=this,re=j.ready().then(function(){for(var ce=j._dbInfo,ie=ce.keyPrefix,Ce=ie.length,De=localStorage.length,Me=1,Fe=0;Fe<De;Fe++){var He=localStorage.key(Fe);if(He.indexOf(ie)===0){var lt=localStorage.getItem(He);if(lt&&(lt=ce.serializer.deserialize(lt)),lt=N(lt,He.substring(Ce),Me++),lt!==void 0)return lt}}});return d(re,J),re}function ke(N,J){var j=this,re=j.ready().then(function(){var ce=j._dbInfo,ie;try{ie=localStorage.key(N)}catch{ie=null}return ie&&(ie=ie.substring(ce.keyPrefix.length)),ie});return d(re,J),re}function ut(N){var J=this,j=J.ready().then(function(){for(var re=J._dbInfo,ce=localStorage.length,ie=[],Ce=0;Ce<ce;Ce++){var De=localStorage.key(Ce);De.indexOf(re.keyPrefix)===0&&ie.push(De.substring(re.keyPrefix.length))}return ie});return d(j,N),j}function Ut(N){var J=this,j=J.keys().then(function(re){return re.length});return d(j,N),j}function qe(N,J){var j=this;N=p(N);var re=j.ready().then(function(){var ce=j._dbInfo;localStorage.removeItem(ce.keyPrefix+N)});return d(re,J),re}function en(N,J,j){var re=this;N=p(N);var ce=re.ready().then(function(){J===void 0&&(J=null);var ie=J;return new f(function(Ce,De){var Me=re._dbInfo;Me.serializer.serialize(J,function(Fe,He){if(He)De(He);else try{localStorage.setItem(Me.keyPrefix+N,Fe),Ce(ie)}catch(lt){(lt.name==="QuotaExceededError"||lt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&De(lt),De(lt)}})})});return d(ce,j),ce}function tn(N,J){if(J=m.apply(this,arguments),N=typeof N!="function"&&N||{},!N.name){var j=this.config();N.name=N.name||j.name,N.storeName=N.storeName||j.storeName}var re=this,ce;return N.name?ce=new f(function(ie){N.storeName?ie(Z(N,re._defaultConfig)):ie(N.name+"/")}).then(function(ie){for(var Ce=localStorage.length-1;Ce>=0;Ce--){var De=localStorage.key(Ce);De.indexOf(ie)===0&&localStorage.removeItem(De)}}):ce=f.reject("Invalid arguments"),d(ce,J),ce}var bt={_driver:"localStorageWrapper",_initStorage:we,_support:Ur(),iterate:ot,getItem:it,setItem:en,removeItem:qe,clear:Ee,length:Ut,key:ke,keys:ut,dropInstance:tn},Dn=function(J,j){return J===j||typeof J=="number"&&typeof j=="number"&&isNaN(J)&&isNaN(j)},zn=function(J,j){for(var re=J.length,ce=0;ce<re;){if(Dn(J[ce],j))return!0;ce++}return!1},Pt=Array.isArray||function(N){return Object.prototype.toString.call(N)==="[object Array]"},Er={},Sr={},Dr={INDEXEDDB:st,WEBSQL:Qr,LOCALSTORAGE:bt},hs=[Dr.INDEXEDDB._driver,Dr.WEBSQL._driver,Dr.LOCALSTORAGE._driver],Ti=["dropInstance"],Vr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ti),Hi={description:"",driver:hs.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Wi(N,J){N[J]=function(){var j=arguments;return N.ready().then(function(){return N[J].apply(N,j)})}}function et(){for(var N=1;N<arguments.length;N++){var J=arguments[N];if(J)for(var j in J)J.hasOwnProperty(j)&&(Pt(J[j])?arguments[0][j]=J[j].slice():arguments[0][j]=J[j])}return arguments[0]}var nn=function(){function N(J){o(this,N);for(var j in Dr)if(Dr.hasOwnProperty(j)){var re=Dr[j],ce=re._driver;this[j]=ce,Er[ce]||this.defineDriver(re)}this._defaultConfig=et({},Hi),this._config=et({},this._defaultConfig,J),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return N.prototype.config=function(j){if((typeof j>"u"?"undefined":s(j))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var re in j){if(re==="storeName"&&(j[re]=j[re].replace(/\W/g,"_")),re==="version"&&typeof j[re]!="number")return new Error("Database version must be a number.");this._config[re]=j[re]}return"driver"in j&&j.driver?this.setDriver(this._config.driver):!0}else return typeof j=="string"?this._config[j]:this._config},N.prototype.defineDriver=function(j,re,ce){var ie=new f(function(Ce,De){try{var Me=j._driver,Fe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!j._driver){De(Fe);return}for(var He=Vr.concat("_initStorage"),lt=0,qt=He.length;lt<qt;lt++){var Sn=He[lt],Cn=!zn(Ti,Sn);if((Cn||j[Sn])&&typeof j[Sn]!="function"){De(Fe);return}}var Tr=function(){for(var cd=function(JP){return function(){var Jh=new Error("Method "+JP+" is not implemented by the current driver"),Zh=f.reject(Jh);return d(Zh,arguments[arguments.length-1]),Zh}},i0=0,s0=Ti.length;i0<s0;i0++){var o0=Ti[i0];j[o0]||(j[o0]=cd(o0))}};Tr();var ur=function(cd){Er[Me]&&console.info("Redefining LocalForage driver: "+Me),Er[Me]=j,Sr[Me]=cd,Ce()};"_support"in j?j._support&&typeof j._support=="function"?j._support().then(ur,De):ur(!!j._support):ur(!0)}catch(Rs){De(Rs)}});return h(ie,re,ce),ie},N.prototype.driver=function(){return this._driver||null},N.prototype.getDriver=function(j,re,ce){var ie=Er[j]?f.resolve(Er[j]):f.reject(new Error("Driver not found."));return h(ie,re,ce),ie},N.prototype.getSerializer=function(j){var re=f.resolve(ht);return h(re,j),re},N.prototype.ready=function(j){var re=this,ce=re._driverSet.then(function(){return re._ready===null&&(re._ready=re._initDriver()),re._ready});return h(ce,j,j),ce},N.prototype.setDriver=function(j,re,ce){var ie=this;Pt(j)||(j=[j]);var Ce=this._getSupportedDrivers(j);function De(){ie._config.driver=ie.driver()}function Me(lt){return ie._extend(lt),De(),ie._ready=ie._initStorage(ie._config),ie._ready}function Fe(lt){return function(){var qt=0;function Sn(){for(;qt<lt.length;){var Cn=lt[qt];return qt++,ie._dbInfo=null,ie._ready=null,ie.getDriver(Cn).then(Me).catch(Sn)}De();var Tr=new Error("No available storage method found.");return ie._driverSet=f.reject(Tr),ie._driverSet}return Sn()}}var He=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=He.then(function(){var lt=Ce[0];return ie._dbInfo=null,ie._ready=null,ie.getDriver(lt).then(function(qt){ie._driver=qt._driver,De(),ie._wrapLibraryMethodsWithReady(),ie._initDriver=Fe(Ce)})}).catch(function(){De();var lt=new Error("No available storage method found.");return ie._driverSet=f.reject(lt),ie._driverSet}),h(this._driverSet,re,ce),this._driverSet},N.prototype.supports=function(j){return!!Sr[j]},N.prototype._extend=function(j){et(this,j)},N.prototype._getSupportedDrivers=function(j){for(var re=[],ce=0,ie=j.length;ce<ie;ce++){var Ce=j[ce];this.supports(Ce)&&re.push(Ce)}return re},N.prototype._wrapLibraryMethodsWithReady=function(){for(var j=0,re=Vr.length;j<re;j++)Wi(this,Vr[j])},N.prototype.createInstance=function(j){return new N(j)},N}(),qi=new nn;r.exports=qi},{3:3}]},{},[4])(4)})})(Ece);var Xnt=Ece.exports;const Sce=su(Xnt);let ew;const Jnt=new Uint8Array(16);function Znt(){if(!ew&&(ew=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ew))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ew(Jnt)}const Ci=[];for(let e=0;e<256;++e)Ci.push((e+256).toString(16).slice(1));function ert(e,t=0){return Ci[e[t+0]]+Ci[e[t+1]]+Ci[e[t+2]]+Ci[e[t+3]]+"-"+Ci[e[t+4]]+Ci[e[t+5]]+"-"+Ci[e[t+6]]+Ci[e[t+7]]+"-"+Ci[e[t+8]]+Ci[e[t+9]]+"-"+Ci[e[t+10]]+Ci[e[t+11]]+Ci[e[t+12]]+Ci[e[t+13]]+Ci[e[t+14]]+Ci[e[t+15]]}const trt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),yW={randomUUID:trt};function vW(e,t,n){if(yW.randomUUID&&!t&&!e)return yW.randomUUID();e=e||{};const r=e.random||(e.rng||Znt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return ert(r)}class Tce{constructor(t){po(this,"engine");po(this,"connected",!1);po(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function Em(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}class nrt extends Tce{constructor(){super("localStorage");po(this,"studyDatabase")}saveAudioTags(n){throw new Error("Method not implemented.")}saveTextTags(n,r){throw new Error("Method not implemented.")}getAudioTags(){throw new Error("Method not implemented.")}getTextTags(n){throw new Error("Method not implemented.")}getAudio(n){return console.warn("not yet implemented",n),Promise.resolve("not implemented")}getTranscription(n){return console.warn("not yet implemented",n),Promise.resolve("not implemented")}saveAudio(n){return console.warn("not yet implemented",n),Promise.resolve()}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyDatabase=await Sce.createInstance({name:n});const i=await Em(JSON.stringify(r)),s=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...s,[i]:r})}async initializeParticipantSession(n,r,i){var u;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=await this.studyDatabase.getItem(this.currentParticipantId);if(s)return s;const o=await Em(JSON.stringify(r)),a={participantId:this.currentParticipantId,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:n};return await((u=this.studyDatabase)==null?void 0:u.setItem(this.currentParticipantId,a)),a}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=vW();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=await this.studyDatabase.getItem(this.currentParticipantId);if(!i)throw new Error("Participant not initialized");i.answers[n]=r,await this.studyDatabase.setItem(this.currentParticipantId,i)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.studyDatabase.setItem("sequenceArray",n),r}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&n.push(r)}),n}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=vW();this.studyDatabase.setItem("currentParticipant",r),this.currentParticipantId=r;let i=await this.studyDatabase.getItem(r);if(!i){const s=await Em(JSON.stringify(n)),o={participantId:r,participantConfigHash:s,sequence:await this.getSequence(),answers:{},searchParams:{}};await this.studyDatabase.setItem(r,o),i=o}return i}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}}var _W={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xce=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},rrt=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},VM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xce(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):rrt(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new irt;const d=s<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class irt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const srt=function(e){const t=xce(e);return VM.encodeByteArray(t,!0)},Bx=function(e){return srt(e).replace(/\./g,"")},Ice=function(e){try{return VM.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ort=()=>Cce().__FIREBASE_DEFAULTS__,art=()=>{if(typeof process>"u"||typeof _W>"u")return;const e=_W.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},urt=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ice(e[1]);return t&&JSON.parse(t)},yP=()=>{try{return ort()||art()||urt()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Pce=e=>{var t,n;return(n=(t=yP())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},lrt=e=>{const t=Pce(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ace=()=>{var e;return(e=yP())===null||e===void 0?void 0:e.config},Oce=e=>{var t;return(t=yP())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function crt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Bx(JSON.stringify(n)),Bx(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function frt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kr())}function drt(){var e;const t=(e=yP())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hrt(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function prt(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mrt(){const e=Kr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function grt(){return!drt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vP(){try{return typeof indexedDB=="object"}catch{return!1}}function yrt(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vrt="FirebaseError";class wl extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=vrt,Object.setPrototypeOf(this,wl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yg.prototype.create)}}class Yg{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?_rt(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new wl(i,a,r)}}function _rt(e,t){return e.replace(brt,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const brt=/\{\$([^}]+)}/g;function wrt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function o_(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(bW(s)&&bW(o)){if(!o_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bW(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ert(e,t){const n=new Srt(e,t);return n.subscribe.bind(n)}class Srt{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Trt(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=S2),i.error===void 0&&(i.error=S2),i.complete===void 0&&(i.complete=S2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Trt(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function S2(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xrt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Irt=1e3,Crt=2,Prt=4*60*60*1e3,Art=.5;function Ort(e,t=Irt,n=Crt){const r=t*Math.pow(n,e),i=Math.round(Art*r*(Math.random()-.5)*2);return Math.min(Prt,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e){return e&&e._delegate?e._delegate:e}class dl{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rrt{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new s_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(krt(t))try{this.getOrInitializeService({instanceIdentifier:Td})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Td){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Td){return this.instances.has(t)}getOptions(t=Td){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nrt(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Td){return this.component?this.component.multipleInstances?t:Td:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nrt(e){return e===Td?void 0:e}function krt(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Drt{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Rrt(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(cn||(cn={}));const $rt={debug:cn.DEBUG,verbose:cn.VERBOSE,info:cn.INFO,warn:cn.WARN,error:cn.ERROR,silent:cn.SILENT},Lrt=cn.INFO,Mrt={[cn.DEBUG]:"log",[cn.VERBOSE]:"log",[cn.INFO]:"info",[cn.WARN]:"warn",[cn.ERROR]:"error"},Frt=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Mrt[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _P{constructor(t){this.name=t,this._logLevel=Lrt,this._logHandler=Frt,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in cn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$rt[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,cn.DEBUG,...t),this._logHandler(this,cn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,cn.VERBOSE,...t),this._logHandler(this,cn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,cn.INFO,...t),this._logHandler(this,cn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,cn.WARN,...t),this._logHandler(this,cn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,cn.ERROR,...t),this._logHandler(this,cn.ERROR,...t)}}const jrt=(e,t)=>t.some(n=>e instanceof n);let wW,EW;function Brt(){return wW||(wW=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Urt(){return EW||(EW=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rce=new WeakMap,Hk=new WeakMap,Nce=new WeakMap,T2=new WeakMap,zM=new WeakMap;function Vrt(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Cf(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Rce.set(n,e)}).catch(()=>{}),zM.set(t,e),t}function zrt(e){if(Hk.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Hk.set(e,t)}let Wk={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Hk.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Nce.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cf(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Hrt(e){Wk=e(Wk)}function Wrt(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(x2(this),t,...n);return Nce.set(r,t.sort?t.sort():[t]),Cf(r)}:Urt().includes(e)?function(...t){return e.apply(x2(this),t),Cf(Rce.get(this))}:function(...t){return Cf(e.apply(x2(this),t))}}function qrt(e){return typeof e=="function"?Wrt(e):(e instanceof IDBTransaction&&zrt(e),jrt(e,Brt())?new Proxy(e,Wk):e)}function Cf(e){if(e instanceof IDBRequest)return Vrt(e);if(T2.has(e))return T2.get(e);const t=qrt(e);return t!==e&&(T2.set(e,t),zM.set(t,e)),t}const x2=e=>zM.get(e);function Grt(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Cf(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Cf(o.result),u.oldVersion,u.newVersion,Cf(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const Yrt=["get","getKey","getAll","getAllKeys","count"],Krt=["put","add","delete","clear"],I2=new Map;function SW(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(I2.get(t))return I2.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Krt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Yrt.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return I2.set(t,s),s}Hrt(e=>({...e,get:(t,n,r)=>SW(t,n)||e.get(t,n,r),has:(t,n)=>!!SW(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qrt{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Xrt(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Xrt(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const qk="@firebase/app",TW="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new _P("@firebase/app"),Jrt="@firebase/app-compat",Zrt="@firebase/analytics-compat",eit="@firebase/analytics",tit="@firebase/app-check-compat",nit="@firebase/app-check",rit="@firebase/auth",iit="@firebase/auth-compat",sit="@firebase/database",oit="@firebase/database-compat",ait="@firebase/functions",uit="@firebase/functions-compat",lit="@firebase/installations",cit="@firebase/installations-compat",fit="@firebase/messaging",dit="@firebase/messaging-compat",hit="@firebase/performance",pit="@firebase/performance-compat",mit="@firebase/remote-config",git="@firebase/remote-config-compat",yit="@firebase/storage",vit="@firebase/storage-compat",_it="@firebase/firestore",bit="@firebase/firestore-compat",wit="firebase",Eit="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="[DEFAULT]",Sit={[qk]:"fire-core",[Jrt]:"fire-core-compat",[eit]:"fire-analytics",[Zrt]:"fire-analytics-compat",[nit]:"fire-app-check",[tit]:"fire-app-check-compat",[rit]:"fire-auth",[iit]:"fire-auth-compat",[sit]:"fire-rtdb",[oit]:"fire-rtdb-compat",[ait]:"fire-fn",[uit]:"fire-fn-compat",[lit]:"fire-iid",[cit]:"fire-iid-compat",[fit]:"fire-fcm",[dit]:"fire-fcm-compat",[hit]:"fire-perf",[pit]:"fire-perf-compat",[mit]:"fire-rc",[git]:"fire-rc-compat",[yit]:"fire-gcs",[vit]:"fire-gcs-compat",[_it]:"fire-fst",[bit]:"fire-fst-compat","fire-js":"fire-js",[wit]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new Map,Yk=new Map;function Tit(e,t){try{e.container.addComponent(t)}catch(n){Ih.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function uc(e){const t=e.name;if(Yk.has(t))return Ih.debug(`There were multiple attempts to register component ${t}.`),!1;Yk.set(t,e);for(const n of Ux.values())Tit(n,e);return!0}function Kg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xit={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Pf=new Yg("app","Firebase",xit);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iit{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Pf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=Eit;function kce(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Gk,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Pf.create("bad-app-name",{appName:String(i)});if(n||(n=Ace()),!n)throw Pf.create("no-options");const s=Ux.get(i);if(s){if(o_(n,s.options)&&o_(r,s.config))return s;throw Pf.create("duplicate-app",{appName:i})}const o=new Drt(i);for(const u of Yk.values())o.addComponent(u);const a=new Iit(n,r,o);return Ux.set(i,a),a}function HM(e=Gk){const t=Ux.get(e);if(!t&&e===Gk&&Ace())return kce();if(!t)throw Pf.create("no-app",{appName:e});return t}function Ka(e,t,n){var r;let i=(r=Sit[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ih.warn(a.join(" "));return}uc(new dl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cit="firebase-heartbeat-database",Pit=1,a_="firebase-heartbeat-store";let C2=null;function Dce(){return C2||(C2=Grt(Cit,Pit,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(a_)}catch(n){console.warn(n)}}}}).catch(e=>{throw Pf.create("idb-open",{originalErrorMessage:e.message})})),C2}async function Ait(e){try{const n=(await Dce()).transaction(a_),r=await n.objectStore(a_).get($ce(e));return await n.done,r}catch(t){if(t instanceof wl)Ih.warn(t.message);else{const n=Pf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ih.warn(n.message)}}}async function xW(e,t){try{const r=(await Dce()).transaction(a_,"readwrite");await r.objectStore(a_).put(t,$ce(e)),await r.done}catch(n){if(n instanceof wl)Ih.warn(n.message);else{const r=Pf.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ih.warn(r.message)}}}function $ce(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oit=1024,Rit=30*24*60*60*1e3;class Nit{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Dit(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IW();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Rit}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=IW(),{heartbeatsToSend:r,unsentEntries:i}=kit(this._heartbeatsCache.heartbeats),s=Bx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function IW(){return new Date().toISOString().substring(0,10)}function kit(e,t=Oit){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),CW(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CW(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Dit{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vP()?yrt().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ait(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xW(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xW(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function CW(e){return Bx(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $it(e){uc(new dl("platform-logger",t=>new Qrt(t),"PRIVATE")),uc(new dl("heartbeat",t=>new Nit(t),"PRIVATE")),Ka(qk,TW,e),Ka(qk,TW,"esm2017"),Ka("fire-js","")}$it("");var Lit="firebase",Mit="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ka(Lit,Mit,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lce="firebasestorage.googleapis.com",Mce="storageBucket",Fit=2*60*1e3,jit=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends wl{constructor(t,n,r=0){super(P2(t),`Firebase Storage: ${n} (${P2(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return P2(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Or;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Or||(Or={}));function P2(e){return"storage/"+e}function WM(){const e="An unknown error occurred, please check the error payload for server response.";return new Nr(Or.UNKNOWN,e)}function Bit(e){return new Nr(Or.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Uit(e){return new Nr(Or.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Vit(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nr(Or.UNAUTHENTICATED,e)}function zit(){return new Nr(Or.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Hit(e){return new Nr(Or.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Wit(){return new Nr(Or.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qit(){return new Nr(Or.CANCELED,"User canceled the upload/download.")}function Git(e){return new Nr(Or.INVALID_URL,"Invalid URL '"+e+"'.")}function Yit(e){return new Nr(Or.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Kit(){return new Nr(Or.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Mce+"' property when initializing the app?")}function Qit(){return new Nr(Or.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Xit(){return new Nr(Or.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Jit(e){return new Nr(Or.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Kk(e){return new Nr(Or.INVALID_ARGUMENT,e)}function Fce(){return new Nr(Or.APP_DELETED,"The Firebase app was deleted.")}function Zit(e){return new Nr(Or.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ky(e,t){return new Nr(Or.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function z0(e){throw new Nr(Or.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Po.makeFromUrl(t,n)}catch{return new Po(t,"")}if(r.path==="")return r;throw Yit(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(S){S.path_=decodeURIComponent(S.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===Lce?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",g=new RegExp(`^https?://${m}/${i}/${y}`,"i"),_=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:l},{regex:g,indices:{bucket:1,path:2},postModify:l}];for(let S=0;S<_.length;S++){const T=_[S],E=T.regex.exec(t);if(E){const x=E[T.indices.bucket];let P=E[T.indices.path];P||(P=""),r=new Po(x,P),T.postModify(r);break}}if(r==null)throw Git(t);return r}}class est{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tst(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...y){l||(l=!0,t.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,e(h,u())},y)}function d(){s&&clearTimeout(s)}function h(y,...g){if(l){d();return}if(y){d(),c.call(null,y,...g);return}if(u()||o){d(),c.call(null,y,...g);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let p=!1;function m(y){p||(p=!0,d(),!l&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function nst(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rst(e){return e!==void 0}function ist(e){return typeof e=="object"&&!Array.isArray(e)}function qM(e){return typeof e=="string"||e instanceof String}function PW(e){return GM()&&e instanceof Blob}function GM(){return typeof Blob<"u"}function AW(e,t,n,r){if(r<t)throw Kk(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Kk(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function jce(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rh;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(rh||(rh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sst(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ost{constructor(t,n,r,i,s,o,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new tw(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===rh.NO_ERROR,u=s.getStatus();if(!a||sst(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===rh.ABORT;r(!1,new tw(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new tw(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());rst(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=WM();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?Fce():qit();o(u)}else{const u=Wit();o(u)}};this.canceled_?n(!1,new tw(!1,null,!0)):this.backoffId_=tst(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&nst(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tw{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function ast(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function ust(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function lst(e,t){t&&(e["X-Firebase-GMPID"]=t)}function cst(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function fst(e,t,n,r,i,s,o=!0){const a=jce(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return lst(l,t),ast(l,n),ust(l,s),cst(l,r),new ost(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dst(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hst(...e){const t=dst();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(GM())return new Blob(e);throw new Nr(Or.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function pst(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mst(e){if(typeof atob>"u")throw Jit("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class A2{constructor(t,n){this.data=t,this.contentType=n||null}}function gst(e,t){switch(e){case Fu.RAW:return new A2(Bce(t));case Fu.BASE64:case Fu.BASE64URL:return new A2(Uce(e,t));case Fu.DATA_URL:return new A2(vst(t),_st(t))}throw WM()}function Bce(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function yst(e){let t;try{t=decodeURIComponent(e)}catch{throw Ky(Fu.DATA_URL,"Malformed data URL.")}return Bce(t)}function Uce(e,t){switch(e){case Fu.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Ky(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Fu.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Ky(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=mst(t)}catch(i){throw i.message.includes("polyfill")?i:Ky(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Vce{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ky(Fu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=bst(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function vst(e){const t=new Vce(e);return t.base64?Uce(Fu.BASE64,t.rest):yst(t.rest)}function _st(e){return new Vce(e).contentType}function bst(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n){let r=0,i="";PW(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(PW(this.data_)){const r=this.data_,i=pst(r,t,n);return i===null?null:new Yc(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Yc(r,!0)}}static getBlob(...t){if(GM()){const n=t.map(r=>r instanceof Yc?r.data_:r);return new Yc(hst.apply(null,n))}else{const n=t.map(o=>qM(o)?gst(Fu.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Yc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zce(e){let t;try{t=JSON.parse(e)}catch{return null}return ist(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wst(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Est(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function Hce(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sst(e,t){return t}class ps{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Sst}}let nw=null;function Tst(e){return!qM(e)||e.length<2?e:Hce(e)}function Wce(){if(nw)return nw;const e=[];e.push(new ps("bucket")),e.push(new ps("generation")),e.push(new ps("metageneration")),e.push(new ps("name","fullPath",!0));function t(s,o){return Tst(o)}const n=new ps("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ps("size");return i.xform=r,e.push(i),e.push(new ps("timeCreated")),e.push(new ps("updated")),e.push(new ps("md5Hash",null,!0)),e.push(new ps("cacheControl",null,!0)),e.push(new ps("contentDisposition",null,!0)),e.push(new ps("contentEncoding",null,!0)),e.push(new ps("contentLanguage",null,!0)),e.push(new ps("contentType",null,!0)),e.push(new ps("metadata","customMetadata",!0)),nw=e,nw}function xst(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new Po(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Ist(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return xst(r,e),r}function qce(e,t,n){const r=zce(t);return r===null?null:Ist(e,r,n)}function Cst(e,t,n,r){const i=zce(t);if(i===null||!qM(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=YM(d,n,r),p=jce({alt:"media",token:l});return h+p})[0]}function Pst(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class Gce{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yce(e){if(!e)throw WM()}function Ast(e,t){function n(r,i){const s=qce(e,i,t);return Yce(s!==null),s}return n}function Ost(e,t){function n(r,i){const s=qce(e,i,t);return Yce(s!==null),Cst(s,i,e.host,e._protocol)}return n}function Kce(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=zit():i=Vit():n.getStatus()===402?i=Uit(e.bucket):n.getStatus()===403?i=Hit(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function Rst(e){const t=Kce(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=Bit(e.path)),s.serverResponse=i.serverResponse,s}return n}function Nst(e,t,n){const r=t.fullServerUrl(),i=YM(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new Gce(i,s,Ost(e,n),o);return a.errorHandler=Rst(t),a}function kst(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Dst(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=kst(null,t)),r}function $st(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let S=0;S<2;S++)_=_+Math.random().toString().slice(2);return _}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=Dst(t,r,i),c=Pst(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=Yc.getBlob(f,r,d);if(h===null)throw Qit();const p={name:l.fullPath},m=YM(s,e.host,e._protocol),y="POST",g=e.maxUploadRetryTime,v=new Gce(m,y,Ast(e,n),g);return v.urlParams=p,v.headers=o,v.body=h.uploadData(),v.errorHandler=Kce(t),v}class Lst{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw z0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw z0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw z0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw z0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw z0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Mst extends Lst{initXhr(){this.xhr_.responseType="text"}}function Qce(){return new Mst}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,n){this._service=t,n instanceof Po?this._location=n:this._location=Po.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Ch(t,n)}get root(){const t=new Po(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hce(this._location.path)}get storage(){return this._service}get parent(){const t=wst(this._location.path);if(t===null)return null;const n=new Po(this._location.bucket,t);return new Ch(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Zit(t)}}function Fst(e,t,n){e._throwIfRoot("uploadBytes");const r=$st(e.storage,e._location,Wce(),new Yc(t,!0),n);return e.storage.makeRequestWithTokens(r,Qce).then(i=>({metadata:i,ref:e}))}function jst(e){e._throwIfRoot("getDownloadURL");const t=Nst(e.storage,e._location,Wce());return e.storage.makeRequestWithTokens(t,Qce).then(n=>{if(n===null)throw Xit();return n})}function Bst(e,t){const n=Est(e._location.path,t),r=new Po(e._location.bucket,n);return new Ch(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ust(e){return/^[A-Za-z]+:\/\//.test(e)}function Vst(e,t){return new Ch(e,t)}function Xce(e,t){if(e instanceof KM){const n=e;if(n._bucket==null)throw Kit();const r=new Ch(n,n._bucket);return t!=null?Xce(r,t):r}else return t!==void 0?Bst(e,t):e}function zst(e,t){if(t&&Ust(t)){if(e instanceof KM)return Vst(e,t);throw Kk("To use ref(service, url), the first argument must be a Storage instance.")}else return Xce(e,t)}function OW(e,t){const n=t==null?void 0:t[Mce];return n==null?null:Po.makeFromBucketSpec(n,e)}function Hst(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:crt(i,e.app.options.projectId))}class KM{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Lce,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Fit,this._maxUploadRetryTime=jit,this._requests=new Set,i!=null?this._bucket=Po.makeFromBucketSpec(i,this._host):this._bucket=OW(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Po.makeFromBucketSpec(this._url,t):this._bucket=OW(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){AW("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){AW("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ch(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new est(Fce());{const o=fst(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const RW="@firebase/storage",NW="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jce="storage";function kW(e,t,n){return e=Ui(e),Fst(e,t,n)}function H0(e){return e=Ui(e),jst(e)}function pd(e,t){return e=Ui(e),zst(e,t)}function md(e=HM(),t){e=Ui(e);const r=Kg(e,Jce).getImmediate({identifier:t}),i=lrt("storage");return i&&Wst(r,...i),r}function Wst(e,t,n,r={}){Hst(e,t,n,r)}function qst(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new KM(n,r,i,t,Gh)}function Gst(){uc(new dl(Jce,qst,"PUBLIC").setMultipleInstances(!0)),Ka(RW,NW,""),Ka(RW,NW,"esm2017")}Gst();var Yst=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ke,QM=QM||{},Mt=Yst||self;function bP(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function w1(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Kst(e){return Object.prototype.hasOwnProperty.call(e,O2)&&e[O2]||(e[O2]=++Qst)}var O2="closure_uid_"+(1e9*Math.random()>>>0),Qst=0;function Xst(e,t,n){return e.call.apply(e.bind,arguments)}function Jst(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function os(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?os=Xst:os=Jst,os.apply(null,arguments)}function rw(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Si(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function ud(){this.s=this.s,this.o=this.o}var Zst=0;ud.prototype.s=!1;ud.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Zst!=0)&&Kst(this)};ud.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zce=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function XM(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function DW(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(bP(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function as(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}as.prototype.h=function(){this.defaultPrevented=!0};var eot=function(){if(!Mt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};Mt.addEventListener("test",n,t),Mt.removeEventListener("test",n,t)}catch{}return e}();function u_(e){return/^[\s\xa0]*$/.test(e)}function wP(){var e=Mt.navigator;return e&&(e=e.userAgent)?e:""}function ku(e){return wP().indexOf(e)!=-1}function JM(e){return JM[" "](e),e}JM[" "]=function(){};function tot(e,t){var n=Got;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var not=ku("Opera"),fg=ku("Trident")||ku("MSIE"),efe=ku("Edge"),Qk=efe||fg,tfe=ku("Gecko")&&!(wP().toLowerCase().indexOf("webkit")!=-1&&!ku("Edge"))&&!(ku("Trident")||ku("MSIE"))&&!ku("Edge"),rot=wP().toLowerCase().indexOf("webkit")!=-1&&!ku("Edge");function nfe(){var e=Mt.document;return e?e.documentMode:void 0}var Xk;e:{var R2="",N2=function(){var e=wP();if(tfe)return/rv:([^\);]+)(\)|;)/.exec(e);if(efe)return/Edge\/([\d\.]+)/.exec(e);if(fg)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(rot)return/WebKit\/(\S+)/.exec(e);if(not)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(N2&&(R2=N2?N2[1]:""),fg){var k2=nfe();if(k2!=null&&k2>parseFloat(R2)){Xk=String(k2);break e}}Xk=R2}var Jk;if(Mt.document&&fg){var $W=nfe();Jk=$W||parseInt(Xk,10)||void 0}else Jk=void 0;var iot=Jk;function l_(e,t){if(as.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(tfe){e:{try{JM(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:sot[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&l_.$.h.call(this)}}Si(l_,as);var sot={2:"touch",3:"pen",4:"mouse"};l_.prototype.h=function(){l_.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var E1="closure_listenable_"+(1e6*Math.random()|0),oot=0;function aot(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++oot,this.fa=this.ia=!1}function EP(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ZM(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function uot(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function rfe(e){const t={};for(const n in e)t[n]=e[n];return t}const LW="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ife(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<LW.length;s++)n=LW[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function SP(e){this.src=e,this.g={},this.h=0}SP.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=eD(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new aot(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Zk(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Zce(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(EP(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function eD(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var e4="closure_lm_"+(1e6*Math.random()|0),D2={};function sfe(e,t,n,r,i){if(r&&r.once)return afe(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)sfe(e,t[s],n,r,i);return null}return n=r4(n),e&&e[E1]?e.O(t,n,w1(r)?!!r.capture:!!r,i):ofe(e,t,n,!1,r,i)}function ofe(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=w1(i)?!!i.capture:!!i,a=n4(e);if(a||(e[e4]=a=new SP(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=lot(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)eot||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(lfe(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function lot(){function e(n){return t.call(e.src,e.listener,n)}const t=cot;return e}function afe(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)afe(e,t[s],n,r,i);return null}return n=r4(n),e&&e[E1]?e.P(t,n,w1(r)?!!r.capture:!!r,i):ofe(e,t,n,!0,r,i)}function ufe(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)ufe(e,t[s],n,r,i);else r=w1(r)?!!r.capture:!!r,n=r4(n),e&&e[E1]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=eD(s,n,r,i),-1<n&&(EP(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=n4(e))&&(t=e.g[t.toString()],e=-1,t&&(e=eD(t,n,r,i)),(n=-1<e?t[e]:null)&&t4(n))}function t4(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[E1])Zk(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(lfe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=n4(t))?(Zk(n,e),n.h==0&&(n.src=null,t[e4]=null)):EP(e)}}}function lfe(e){return e in D2?D2[e]:D2[e]="on"+e}function cot(e,t){if(e.fa)e=!0;else{t=new l_(t,this);var n=e.listener,r=e.la||e.src;e.ia&&t4(e),e=n.call(r,t)}return e}function n4(e){return e=e[e4],e instanceof SP?e:null}var $2="__closure_events_fn_"+(1e9*Math.random()>>>0);function r4(e){return typeof e=="function"?e:(e[$2]||(e[$2]=function(t){return e.handleEvent(t)}),e[$2])}function bi(){ud.call(this),this.i=new SP(this),this.S=this,this.J=null}Si(bi,ud);bi.prototype[E1]=!0;bi.prototype.removeEventListener=function(e,t,n,r){ufe(this,e,t,n,r)};function Fi(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new as(t,e);else if(t instanceof as)t.target=t.target||e;else{var i=t;t=new as(r,e),ife(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=iw(o,r,!0,t)&&i}if(o=t.g=e,i=iw(o,r,!0,t)&&i,i=iw(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=iw(o,r,!1,t)&&i}bi.prototype.N=function(){if(bi.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)EP(n[r]);delete e.g[t],e.h--}}this.J=null};bi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};bi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function iw(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Zk(e.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var i4=Mt.JSON.stringify;class fot{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function dot(){var e=s4;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class hot{constructor(){this.h=this.g=null}add(t,n){const r=cfe.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var cfe=new fot(()=>new pot,e=>e.reset());class pot{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function mot(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function got(e){Mt.setTimeout(()=>{throw e},0)}let c_,f_=!1,s4=new hot,ffe=()=>{const e=Mt.Promise.resolve(void 0);c_=()=>{e.then(yot)}};var yot=()=>{for(var e;e=dot();){try{e.h.call(e.g)}catch(n){got(n)}var t=cfe;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}f_=!1};function TP(e,t){bi.call(this),this.h=e||1,this.g=t||Mt,this.j=os(this.qb,this),this.l=Date.now()}Si(TP,bi);Ke=TP.prototype;Ke.ga=!1;Ke.T=null;Ke.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fi(this,"tick"),this.ga&&(o4(this),this.start()))}};Ke.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function o4(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Ke.N=function(){TP.$.N.call(this),o4(this),delete this.g};function a4(e,t,n){if(typeof e=="function")n&&(e=os(e,n));else if(e&&typeof e.handleEvent=="function")e=os(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Mt.setTimeout(e,t||0)}function dfe(e){e.g=a4(()=>{e.g=null,e.i&&(e.i=!1,dfe(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class vot extends ud{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:dfe(this)}N(){super.N(),this.g&&(Mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function d_(e){ud.call(this),this.h=e,this.g={}}Si(d_,ud);var MW=[];function hfe(e,t,n,r){Array.isArray(n)||(n&&(MW[0]=n.toString()),n=MW);for(var i=0;i<n.length;i++){var s=sfe(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function pfe(e){ZM(e.g,function(t,n){this.g.hasOwnProperty(n)&&t4(t)},e),e.g={}}d_.prototype.N=function(){d_.$.N.call(this),pfe(this)};d_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function xP(){this.g=!0}xP.prototype.Ea=function(){this.g=!1};function _ot(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function bot(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function qp(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Eot(e,n)+(r?" "+r:"")})}function wot(e,t){e.info(function(){return"TIMEOUT: "+t})}xP.prototype.info=function(){};function Eot(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return i4(n)}catch{return t}}var Yh={},FW=null;function IP(){return FW=FW||new bi}Yh.Ta="serverreachability";function mfe(e){as.call(this,Yh.Ta,e)}Si(mfe,as);function h_(e){const t=IP();Fi(t,new mfe(t))}Yh.STAT_EVENT="statevent";function gfe(e,t){as.call(this,Yh.STAT_EVENT,e),this.stat=t}Si(gfe,as);function ws(e){const t=IP();Fi(t,new gfe(t,e))}Yh.Ua="timingevent";function yfe(e,t){as.call(this,Yh.Ua,e),this.size=t}Si(yfe,as);function S1(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Mt.setTimeout(function(){e()},t)}var CP={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vfe={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function u4(){}u4.prototype.h=null;function jW(e){return e.h||(e.h=e.i())}function _fe(){}var T1={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function l4(){as.call(this,"d")}Si(l4,as);function c4(){as.call(this,"c")}Si(c4,as);var tD;function PP(){}Si(PP,u4);PP.prototype.g=function(){return new XMLHttpRequest};PP.prototype.i=function(){return{}};tD=new PP;function x1(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new d_(this),this.P=Sot,e=Qk?125:void 0,this.V=new TP(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bfe}function bfe(){this.i=null,this.g="",this.h=!1}var Sot=45e3,wfe={},nD={};Ke=x1.prototype;Ke.setTimeout=function(e){this.P=e};function rD(e,t,n){e.L=1,e.A=OP(lc(t)),e.u=n,e.S=!0,Efe(e,null)}function Efe(e,t){e.G=Date.now(),I1(e),e.B=lc(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Ofe(n.i,"t",r),e.o=0,n=e.l.J,e.h=new bfe,e.g=Xfe(e.l,n?t:null,!e.u),0<e.O&&(e.M=new vot(os(e.Pa,e,e.g),e.O)),hfe(e.U,e.g,"readystatechange",e.nb),t=e.I?rfe(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),h_(),_ot(e.j,e.v,e.B,e.m,e.W,e.u)}Ke.nb=function(e){e=e.target;const t=this.M;t&&ju(e)==3?t.l():this.Pa(e)};Ke.Pa=function(e){try{if(e==this.g)e:{const c=ju(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||Qk||this.g&&(this.h.h||this.g.ja()||zW(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?h_(3):h_(2)),AP(this);var n=this.g.da();this.ca=n;t:if(Sfe(this)){var r=zW(this.g);e="";var i=r.length,s=ju(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yd(this),Qy(this);var o="";break t}this.h.i=new Mt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,bot(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!u_(a)){var l=a;break t}}l=null}if(n=l)qp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iD(this,n);else{this.i=!1,this.s=3,ws(12),Yd(this),Qy(this);break e}}this.S?(Tfe(this,c,o),Qk&&this.i&&c==3&&(hfe(this.U,this.V,"tick",this.mb),this.V.start())):(qp(this.j,this.m,o,null),iD(this,o)),c==4&&Yd(this),this.i&&!this.J&&(c==4?Gfe(this.l,this):(this.i=!1,I1(this)))}else Hot(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,ws(12)):(this.s=0,ws(13)),Yd(this),Qy(this)}}}catch{}finally{}};function Sfe(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function Tfe(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=Tot(e,n),i==nD){t==4&&(e.s=4,ws(14),r=!1),qp(e.j,e.m,null,"[Incomplete Response]");break}else if(i==wfe){e.s=4,ws(15),qp(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else qp(e.j,e.m,i,null),iD(e,i);Sfe(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,ws(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),g4(t),t.M=!0,ws(11))):(qp(e.j,e.m,n,"[Invalid Chunked Response]"),Yd(e),Qy(e))}Ke.mb=function(){if(this.g){var e=ju(this.g),t=this.g.ja();this.o<t.length&&(AP(this),Tfe(this,e,t),this.i&&e!=4&&I1(this))}};function Tot(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?nD:(n=Number(t.substring(n,r)),isNaN(n)?wfe:(r+=1,r+n>t.length?nD:(t=t.slice(r,r+n),e.o=r+n,t)))}Ke.cancel=function(){this.J=!0,Yd(this)};function I1(e){e.Y=Date.now()+e.P,xfe(e,e.P)}function xfe(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=S1(os(e.lb,e),t)}function AP(e){e.C&&(Mt.clearTimeout(e.C),e.C=null)}Ke.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(wot(this.j,this.B),this.L!=2&&(h_(),ws(17)),Yd(this),this.s=2,Qy(this)):xfe(this,this.Y-e)};function Qy(e){e.l.H==0||e.J||Gfe(e.l,e)}function Yd(e){AP(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,o4(e.V),pfe(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function iD(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||sD(n.i,e))){if(!e.K&&sD(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Hx(n),DP(n);else break e;m4(n),ws(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=S1(os(n.ib,n),6e3));if(1>=kfe(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Kd(n,11)}else if((e.K||n.g==e)&&Hx(n),!u_(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(f4(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,ir(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=Qfe(r,r.J?r.pa:null,r.Y),o.K){Dfe(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(AP(a),I1(a)),r.g=o}else Wfe(r);0<n.j.length&&$P(n)}else l[0]!="stop"&&l[0]!="close"||Kd(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Kd(n,7):p4(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}h_(4)}catch{}}function xot(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(bP(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Iot(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(bP(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Ife(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(bP(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Iot(e),r=xot(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var Cfe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cot(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ih(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ih){this.h=e.h,Vx(this,e.j),this.s=e.s,this.g=e.g,zx(this,e.m),this.l=e.l;var t=e.i,n=new p_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),BW(this,n),this.o=e.o}else e&&(t=String(e).match(Cfe))?(this.h=!1,Vx(this,t[1]||"",!0),this.s=cy(t[2]||""),this.g=cy(t[3]||"",!0),zx(this,t[4]),this.l=cy(t[5]||"",!0),BW(this,t[6]||"",!0),this.o=cy(t[7]||"")):(this.h=!1,this.i=new p_(null,this.h))}ih.prototype.toString=function(){var e=[],t=this.j;t&&e.push(fy(t,UW,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(fy(t,UW,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(fy(n,n.charAt(0)=="/"?Oot:Aot,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",fy(n,Not)),e.join("")};function lc(e){return new ih(e)}function Vx(e,t,n){e.j=n?cy(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zx(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function BW(e,t,n){t instanceof p_?(e.i=t,kot(e.i,e.h)):(n||(t=fy(t,Rot)),e.i=new p_(t,e.h))}function ir(e,t,n){e.i.set(t,n)}function OP(e){return ir(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function cy(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function fy(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Pot),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pot(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var UW=/[#\/\?@]/g,Aot=/[#\?:]/g,Oot=/[#\?]/g,Rot=/[#\?@]/g,Not=/#/g;function p_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ld(e){e.g||(e.g=new Map,e.h=0,e.i&&Cot(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Ke=p_.prototype;Ke.add=function(e,t){ld(this),this.i=null,e=Qg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Pfe(e,t){ld(e),t=Qg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Afe(e,t){return ld(e),t=Qg(e,t),e.g.has(t)}Ke.forEach=function(e,t){ld(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};Ke.ta=function(){ld(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};Ke.Z=function(e){ld(this);let t=[];if(typeof e=="string")Afe(this,e)&&(t=t.concat(this.g.get(Qg(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Ke.set=function(e,t){return ld(this),this.i=null,e=Qg(this,e),Afe(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Ke.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Ofe(e,t,n){Pfe(e,t),0<n.length&&(e.i=null,e.g.set(Qg(e,t),XM(n)),e.h+=n.length)}Ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Qg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kot(e,t){t&&!e.j&&(ld(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Pfe(this,r),Ofe(this,i,n))},e)),e.j=t}var Dot=class{constructor(e,t){this.g=e,this.map=t}};function Rfe(e){this.l=e||$ot,Mt.PerformanceNavigationTiming?(e=Mt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Mt.g&&Mt.g.Ka&&Mt.g.Ka()&&Mt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $ot=10;function Nfe(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function kfe(e){return e.h?1:e.g?e.g.size:0}function sD(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function f4(e,t){e.g?e.g.add(t):e.h=t}function Dfe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Rfe.prototype.cancel=function(){if(this.i=$fe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function $fe(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return XM(e.i)}var Lot=class{stringify(e){return Mt.JSON.stringify(e,void 0)}parse(e){return Mt.JSON.parse(e,void 0)}};function Mot(){this.g=new Lot}function Fot(e,t,n){const r=n||"";try{Ife(e,function(i,s){let o=i;w1(i)&&(o=i4(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function jot(e,t){const n=new xP;if(Mt.Image){const r=new Image;r.onload=rw(sw,n,r,"TestLoadImage: loaded",!0,t),r.onerror=rw(sw,n,r,"TestLoadImage: error",!1,t),r.onabort=rw(sw,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=rw(sw,n,r,"TestLoadImage: timeout",!1,t),Mt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function sw(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function RP(e){this.l=e.ec||null,this.j=e.ob||!1}Si(RP,u4);RP.prototype.g=function(){return new NP(this.l,this.j)};RP.prototype.i=function(e){return function(){return e}}({});function NP(e,t){bi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=d4,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Si(NP,bi);var d4=0;Ke=NP.prototype;Ke.open=function(e,t){if(this.readyState!=d4)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,m_(this)};Ke.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Mt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,C1(this)),this.readyState=d4};Ke.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,m_(this)),this.g&&(this.readyState=3,m_(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Mt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lfe(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Lfe(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Ke.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?C1(this):m_(this),this.readyState==3&&Lfe(this)}};Ke.Za=function(e){this.g&&(this.response=this.responseText=e,C1(this))};Ke.Ya=function(e){this.g&&(this.response=e,C1(this))};Ke.ka=function(){this.g&&C1(this)};function C1(e){e.readyState=4,e.l=null,e.j=null,e.A=null,m_(e)}Ke.setRequestHeader=function(e,t){this.v.append(e,t)};Ke.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Ke.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function m_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(NP.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Bot=Mt.JSON.parse;function Rr(e){bi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Mfe,this.L=this.M=!1}Si(Rr,bi);var Mfe="",Uot=/^https?$/i,Vot=["POST","PUT"];Ke=Rr.prototype;Ke.Oa=function(e){this.M=e};Ke.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tD.g(),this.C=this.u?jW(this.u):jW(tD),this.g.onreadystatechange=os(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){VW(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Mt.FormData&&e instanceof Mt.FormData,!(0<=Zce(Vot,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Bfe(this),0<this.B&&((this.L=zot(this.g))?(this.g.timeout=this.B,this.g.ontimeout=os(this.ua,this)):this.A=a4(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){VW(this,s)}};function zot(e){return fg&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Ke.ua=function(){typeof QM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fi(this,"timeout"),this.abort(8))};function VW(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ffe(e),kP(e)}function Ffe(e){e.F||(e.F=!0,Fi(e,"complete"),Fi(e,"error"))}Ke.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fi(this,"complete"),Fi(this,"abort"),kP(this))};Ke.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kP(this,!0)),Rr.$.N.call(this)};Ke.La=function(){this.s||(this.G||this.v||this.l?jfe(this):this.kb())};Ke.kb=function(){jfe(this)};function jfe(e){if(e.h&&typeof QM<"u"&&(!e.C[1]||ju(e)!=4||e.da()!=2)){if(e.v&&ju(e)==4)a4(e.La,0,e);else if(Fi(e,"readystatechange"),ju(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(Cfe)[1]||null;!i&&Mt.self&&Mt.self.location&&(i=Mt.self.location.protocol.slice(0,-1)),r=!Uot.test(i?i.toLowerCase():"")}n=r}if(n)Fi(e,"complete"),Fi(e,"success");else{e.m=6;try{var s=2<ju(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",Ffe(e)}}finally{kP(e)}}}}function kP(e,t){if(e.g){Bfe(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Fi(e,"ready");try{n.onreadystatechange=r}catch{}}}function Bfe(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Mt.clearTimeout(e.A),e.A=null)}Ke.isActive=function(){return!!this.g};function ju(e){return e.g?e.g.readyState:0}Ke.da=function(){try{return 2<ju(this)?this.g.status:-1}catch{return-1}};Ke.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ke.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Bot(t)}};function zW(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Mfe:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Hot(e){const t={};e=(e.g&&2<=ju(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(u_(e[r]))continue;var n=mot(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}uot(t,function(r){return r.join(", ")})}Ke.Ia=function(){return this.m};Ke.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ufe(e){let t="";return ZM(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function h4(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ufe(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ir(e,t,n))}function W0(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vfe(e){this.Ga=0,this.j=[],this.l=new xP,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=W0("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=W0("baseRetryDelayMs",5e3,e),this.hb=W0("retryDelaySeedMs",1e4,e),this.eb=W0("forwardChannelMaxRetries",2,e),this.xa=W0("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Rfe(e&&e.concurrentRequestLimit),this.Ja=new Mot,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ke=Vfe.prototype;Ke.ra=8;Ke.H=1;function p4(e){if(zfe(e),e.H==3){var t=e.W++,n=lc(e.I);if(ir(n,"SID",e.K),ir(n,"RID",t),ir(n,"TYPE","terminate"),P1(e,n),t=new x1(e,e.l,t),t.L=2,t.A=OP(lc(n)),n=!1,Mt.navigator&&Mt.navigator.sendBeacon)try{n=Mt.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&Mt.Image&&(new Image().src=t.A,n=!0),n||(t.g=Xfe(t.l,null),t.g.ha(t.A)),t.G=Date.now(),I1(t)}Kfe(e)}function DP(e){e.g&&(g4(e),e.g.cancel(),e.g=null)}function zfe(e){DP(e),e.u&&(Mt.clearTimeout(e.u),e.u=null),Hx(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Mt.clearTimeout(e.m),e.m=null)}function $P(e){if(!Nfe(e.i)&&!e.m){e.m=!0;var t=e.Na;c_||ffe(),f_||(c_(),f_=!0),s4.add(t,e),e.C=0}}function Wot(e,t){return kfe(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=S1(os(e.Na,e,t),Yfe(e,e.C)),e.C++,!0)}Ke.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new x1(this,this.l,e);let s=this.s;if(this.U&&(s?(s=rfe(s),ife(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Hfe(this,i,t),n=lc(this.I),ir(n,"RID",e),ir(n,"CVER",22),this.F&&ir(n,"X-HTTP-Session-Id",this.F),P1(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ufe(s)))+"&"+t:this.o&&h4(n,this.o,s)),f4(this.i,i),this.bb&&ir(n,"TYPE","init"),this.P?(ir(n,"$req",t),ir(n,"SID","null"),i.aa=!0,rD(i,n,null)):rD(i,n,t),this.H=2}}else this.H==3&&(e?HW(this,e):this.j.length==0||Nfe(this.i)||HW(this))};function HW(e,t){var n;t?n=t.m:n=e.W++;const r=lc(e.I);ir(r,"SID",e.K),ir(r,"RID",n),ir(r,"AID",e.V),P1(e,r),e.o&&e.s&&h4(r,e.o,e.s),n=new x1(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Hfe(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),f4(e.i,n),rD(n,r,t)}function P1(e,t){e.na&&ZM(e.na,function(n,r){ir(t,r,n)}),e.h&&Ife({},function(n,r){ir(t,r,n)})}function Hfe(e,t,n){n=Math.min(e.j.length,n);var r=e.h?os(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{Fot(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Wfe(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;c_||ffe(),f_||(c_(),f_=!0),s4.add(t,e),e.A=0}}function m4(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=S1(os(e.Ma,e),Yfe(e,e.A)),e.A++,!0)}Ke.Ma=function(){if(this.u=null,qfe(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=S1(os(this.jb,this),e)}};Ke.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ws(10),DP(this),qfe(this))};function g4(e){e.B!=null&&(Mt.clearTimeout(e.B),e.B=null)}function qfe(e){e.g=new x1(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=lc(e.wa);ir(t,"RID","rpc"),ir(t,"SID",e.K),ir(t,"AID",e.V),ir(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ir(t,"TO",e.qa),ir(t,"TYPE","xmlhttp"),P1(e,t),e.o&&e.s&&h4(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=OP(lc(t)),n.u=null,n.S=!0,Efe(n,e)}Ke.ib=function(){this.v!=null&&(this.v=null,DP(this),m4(this),ws(19))};function Hx(e){e.v!=null&&(Mt.clearTimeout(e.v),e.v=null)}function Gfe(e,t){var n=null;if(e.g==t){Hx(e),g4(e),e.g=null;var r=2}else if(sD(e.i,t))n=t.F,Dfe(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=IP(),Fi(r,new yfe(r,n)),$P(e)}else Wfe(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&Wot(e,t)||r==2&&m4(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Kd(e,5);break;case 4:Kd(e,10);break;case 3:Kd(e,6);break;default:Kd(e,2)}}}function Yfe(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Kd(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=os(e.pb,e);n||(n=new ih("//www.google.com/images/cleardot.gif"),Mt.location&&Mt.location.protocol=="http"||Vx(n,"https"),OP(n)),jot(n.toString(),r)}else ws(2);e.H=0,e.h&&e.h.za(t),Kfe(e),zfe(e)}Ke.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ws(2)):(this.l.info("Failed to ping google.com"),ws(1))};function Kfe(e){if(e.H=0,e.ma=[],e.h){const t=$fe(e.i);(t.length!=0||e.j.length!=0)&&(DW(e.ma,t),DW(e.ma,e.j),e.i.i.length=0,XM(e.j),e.j.length=0),e.h.ya()}}function Qfe(e,t,n){var r=n instanceof ih?lc(n):new ih(n);if(r.g!="")t&&(r.g=t+"."+r.g),zx(r,r.m);else{var i=Mt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new ih(null);r&&Vx(s,r),t&&(s.g=t),i&&zx(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&ir(r,n,t),ir(r,"VER",e.ra),P1(e,r),r}function Xfe(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Rr(new RP({ob:n})):new Rr(e.va),t.Oa(e.J),t}Ke.isActive=function(){return!!this.h&&this.h.isActive(this)};function Jfe(){}Ke=Jfe.prototype;Ke.Ba=function(){};Ke.Aa=function(){};Ke.za=function(){};Ke.ya=function(){};Ke.isActive=function(){return!0};Ke.Va=function(){};function Wx(){if(fg&&!(10<=Number(iot)))throw Error("Environmental error: no available transport.")}Wx.prototype.g=function(e,t){return new Mo(e,t)};function Mo(e,t){bi.call(this),this.g=new Vfe(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!u_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!u_(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Xg(this)}Si(Mo,bi);Mo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ws(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Qfe(e,null,e.Y),$P(e)};Mo.prototype.close=function(){p4(this.g)};Mo.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=i4(e),e=n);t.j.push(new Dot(t.fb++,e)),t.H==3&&$P(t)};Mo.prototype.N=function(){this.g.h=null,delete this.j,p4(this.g),delete this.g,Mo.$.N.call(this)};function Zfe(e){l4.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Si(Zfe,l4);function ede(){c4.call(this),this.status=1}Si(ede,c4);function Xg(e){this.g=e}Si(Xg,Jfe);Xg.prototype.Ba=function(){Fi(this.g,"a")};Xg.prototype.Aa=function(e){Fi(this.g,new Zfe(e))};Xg.prototype.za=function(e){Fi(this.g,new ede)};Xg.prototype.ya=function(){Fi(this.g,"b")};function qot(){this.blockSize=-1}function ru(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Si(ru,qot);ru.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function L2(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}ru.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)L2(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){L2(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){L2(this,r),i=0;break}}this.h=i,this.i+=t};ru.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Bn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var Got={};function y4(e){return-128<=e&&128>e?tot(e,function(t){return new Bn([t|0],0>t?-1:0)}):new Bn([e|0],0>e?-1:0)}function Bu(e){if(isNaN(e)||!isFinite(e))return Sm;if(0>e)return Di(Bu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=oD;return new Bn(t,0)}function tde(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Di(tde(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Bu(Math.pow(t,8)),r=Sm,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Bu(Math.pow(t,s)),r=r.R(s).add(Bu(o))):(r=r.R(n),r=r.add(Bu(o)))}return r}var oD=4294967296,Sm=y4(0),aD=y4(1),WW=y4(16777216);Ke=Bn.prototype;Ke.ea=function(){if(na(this))return-Di(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:oD+r)*t,t*=oD}return e};Ke.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(jl(this))return"0";if(na(this))return"-"+Di(this).toString(e);for(var t=Bu(Math.pow(e,6)),n=this,r="";;){var i=Gx(n,t).g;n=qx(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,jl(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ke.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function jl(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function na(e){return e.h==-1}Ke.X=function(e){return e=qx(this,e),na(e)?-1:jl(e)?0:1};function Di(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Bn(n,~e.h).add(aD)}Ke.abs=function(){return na(this)?Di(this):this};Ke.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Bn(n,n[n.length-1]&-2147483648?-1:0)};function qx(e,t){return e.add(Di(t))}Ke.R=function(e){if(jl(this)||jl(e))return Sm;if(na(this))return na(e)?Di(this).R(Di(e)):Di(Di(this).R(e));if(na(e))return Di(this.R(Di(e)));if(0>this.X(WW)&&0>e.X(WW))return Bu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,u=e.D(i)&65535;n[2*r+2*i]+=o*u,ow(n,2*r+2*i),n[2*r+2*i+1]+=s*u,ow(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ow(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ow(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Bn(n,0)};function ow(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function q0(e,t){this.g=e,this.h=t}function Gx(e,t){if(jl(t))throw Error("division by zero");if(jl(e))return new q0(Sm,Sm);if(na(e))return t=Gx(Di(e),t),new q0(Di(t.g),Di(t.h));if(na(t))return t=Gx(e,Di(t)),new q0(Di(t.g),t.h);if(30<e.g.length){if(na(e)||na(t))throw Error("slowDivide_ only works with positive integers.");for(var n=aD,r=t;0>=r.X(e);)n=qW(n),r=qW(r);var i=hp(n,1),s=hp(r,1);for(r=hp(r,2),n=hp(n,2);!jl(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=hp(r,1),n=hp(n,1)}return t=qx(e,i.R(t)),new q0(i,t)}for(i=Sm;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Bu(n),o=s.R(t);na(o)||0<o.X(e);)n-=r,s=Bu(n),o=s.R(t);jl(s)&&(s=aD),i=i.add(s),e=qx(e,o)}return new q0(i,e)}Ke.gb=function(e){return Gx(this,e).h};Ke.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Bn(n,this.h&e.h)};Ke.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Bn(n,this.h|e.h)};Ke.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Bn(n,this.h^e.h)};function qW(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Bn(n,e.h)}function hp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Bn(i,e.h)}Wx.prototype.createWebChannel=Wx.prototype.g;Mo.prototype.send=Mo.prototype.u;Mo.prototype.open=Mo.prototype.m;Mo.prototype.close=Mo.prototype.close;CP.NO_ERROR=0;CP.TIMEOUT=8;CP.HTTP_ERROR=6;vfe.COMPLETE="complete";_fe.EventType=T1;T1.OPEN="a";T1.CLOSE="b";T1.ERROR="c";T1.MESSAGE="d";bi.prototype.listen=bi.prototype.O;Rr.prototype.listenOnce=Rr.prototype.P;Rr.prototype.getLastError=Rr.prototype.Sa;Rr.prototype.getLastErrorCode=Rr.prototype.Ia;Rr.prototype.getStatus=Rr.prototype.da;Rr.prototype.getResponseJson=Rr.prototype.Wa;Rr.prototype.getResponseText=Rr.prototype.ja;Rr.prototype.send=Rr.prototype.ha;Rr.prototype.setWithCredentials=Rr.prototype.Oa;ru.prototype.digest=ru.prototype.l;ru.prototype.reset=ru.prototype.reset;ru.prototype.update=ru.prototype.j;Bn.prototype.add=Bn.prototype.add;Bn.prototype.multiply=Bn.prototype.R;Bn.prototype.modulo=Bn.prototype.gb;Bn.prototype.compare=Bn.prototype.X;Bn.prototype.toNumber=Bn.prototype.ea;Bn.prototype.toString=Bn.prototype.toString;Bn.prototype.getBits=Bn.prototype.D;Bn.fromNumber=Bu;Bn.fromString=tde;var Yot=function(){return new Wx},Kot=function(){return IP()},M2=CP,Qot=vfe,Xot=Yh,GW={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},aw=_fe,Jot=Rr,Zot=ru,Tm=Bn;const YW="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fs.UNAUTHENTICATED=new Fs(null),Fs.GOOGLE_CREDENTIALS=new Fs("google-credentials-uid"),Fs.FIRST_PARTY=new Fs("first-party-uid"),Fs.MOCK_USER=new Fs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jg="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new _P("@firebase/firestore");function G0(){return Ph.logLevel}function Ge(e,...t){if(Ph.logLevel<=cn.DEBUG){const n=t.map(v4);Ph.debug(`Firestore (${Jg}): ${e}`,...n)}}function hl(e,...t){if(Ph.logLevel<=cn.ERROR){const n=t.map(v4);Ph.error(`Firestore (${Jg}): ${e}`,...n)}}function g_(e,...t){if(Ph.logLevel<=cn.WARN){const n=t.map(v4);Ph.warn(`Firestore (${Jg}): ${e}`,...n)}}function v4(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(e="Unexpected state"){const t=`FIRESTORE (${Jg}) INTERNAL ASSERTION FAILED: `+e;throw hl(t),new Error(t)}function tr(e,t){e||$t()}function Ht(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends wl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eat{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tat{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Fs.UNAUTHENTICATED))}shutdown(){}}class nat{constructor(t){this.t=t,this.currentUser=Fs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Qu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qu,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qu)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tr(typeof r.accessToken=="string"),new eat(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return tr(t===null||typeof t=="string"),new Fs(t)}}class rat{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Fs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iat{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new rat(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Fs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sat{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oat{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(tr(typeof n.token=="string"),this.R=n.token,new sat(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aat(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nde{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=aat(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function On(e,t){return e<t?-1:e>t?1:0}function dg(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return si.fromMillis(Date.now())}static fromDate(t){return si.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new si(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?On(this.nanoseconds,t.nanoseconds):On(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new jt(t)}static min(){return new jt(new si(0,0))}static max(){return new jt(new si(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(t,n,r){n===void 0?n=0:n>t.length&&$t(),r===void 0?r=t.length-n:r>t.length-n&&$t(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return y_.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof y_?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class sr extends y_{construct(t,n,r){return new sr(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ze(Re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new sr(n)}static emptyPath(){return new sr([])}}const uat=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends y_{construct(t,n,r){return new $i(t,n,r)}static isValidIdentifier(t){return uat.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $i(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ze(Re.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Ze(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Ze(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ze(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $i(n)}static emptyPath(){return new $i([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(sr.fromString(t))}static fromName(t){return new yt(sr.fromString(t).popFirst(5))}static empty(){return new yt(sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&sr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return sr.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new sr(t.slice()))}}function lat(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=jt.fromTimestamp(r===1e9?new si(n+1,0):new si(n,r));return new Yf(i,yt.empty(),t)}function cat(e){return new Yf(e.readTime,e.key,-1)}class Yf{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Yf(jt.min(),yt.empty(),-1)}static max(){return new Yf(jt.max(),yt.empty(),-1)}}function fat(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:On(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dat="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hat{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(e){if(e.code!==Re.FAILED_PRECONDITION||e.message!==dat)throw e;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&$t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Ne((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Ne?n:Ne.resolve(n)}catch(n){return Ne.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Ne.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Ne.reject(n)}static resolve(t){return new Ne((n,r)=>{n(t)})}static reject(t){return new Ne((n,r)=>{r(t)})}static waitFor(t){return new Ne((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=Ne.resolve(!1);for(const r of t)n=n.next(i=>i?Ne.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new Ne((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new Ne((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new Qu,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Xy(t,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=b4(r.target.error);this.V.reject(new Xy(t,i))}}static open(t,n,r,i){try{return new _4(n,t.transaction(i,r))}catch(s){throw new Xy(n,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Ge("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new mat(n)}}class Qd{constructor(t,n,r){this.name=t,this.version=n,this.p=r,Qd.S(Kr())===12.2&&hl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ge("SimpleDb","Removing database:",t),Dd(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!vP())return!1;if(Qd.C())return!0;const t=Kr(),n=Qd.S(t),r=0<n&&n<10,i=Qd.v(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(t){return this.db||(Ge("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Xy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new Ze(Re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Ze(Re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Xy(t,o))},i.onupgradeneeded=s=>{Ge("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(t){this.B=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(t);const a=_4.open(this.db,t,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),Ne.reject(l))).toPromise();return u.catch(()=>{}),await a.m,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&o<3;if(Ge("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class pat{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Dd(this.k.delete())}}class Xy extends Ze{constructor(t,n){super(Re.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function O1(e){return e.name==="IndexedDbTransactionError"}class mat{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(Ge("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Dd(r)}add(t){return Ge("SimpleDb","ADD",this.store.name,t,t),Dd(this.store.add(t))}get(t){return Dd(this.store.get(t)).next(n=>(n===void 0&&(n=null),Ge("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return Ge("SimpleDb","DELETE",this.store.name,t),Dd(this.store.delete(t))}count(){return Ge("SimpleDb","COUNT",this.store.name),Dd(this.store.count())}W(t,n){const r=this.options(t,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Ne((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,u)=>{o.push(u)}).next(()=>o)}}j(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new Ne((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(t,n){Ge("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(t,n){let r;n?r=t:(r={},n=t);const i=this.cursor(r);return this.G(i,n)}Z(t){const n=this.cursor({});return new Ne((r,i)=>{n.onerror=s=>{const o=b4(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(t,n){const r=[];return new Ne((i,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new pat(a),l=n(a.primaryKey,a.value,u);if(l instanceof Ne){const c=l.catch(f=>(u.done(),Ne.reject(f)));r.push(c)}u.isDone?i():u.$===null?a.continue():a.continue(u.$)}}).next(()=>Ne.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.J?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Dd(e){return new Ne((t,n)=>{e.onsuccess=r=>{const i=r.target.result;t(i)},e.onerror=r=>{const i=b4(r.target.error);n(i)}})}let KW=!1;function b4(e){const t=Qd.S(Kr());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new Ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return KW||(KW=!0,setTimeout(()=>{throw r},0)),r}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}w4._e=-1;function LP(e){return e==null}function Yx(e){return e===0&&1/e==-1/0}function gat(e){return typeof e=="number"&&Number.isInteger(e)&&!Yx(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zg(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rde(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,n){this.comparator=t,this.root=n||Ri.EMPTY}insert(t,n){return new br(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(t){return new br(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uw(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uw(this.root,t,this.comparator,!1)}getReverseIterator(){return new uw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uw(this.root,t,this.comparator,!0)}}class uw{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ri{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ri.RED,this.left=i??Ri.EMPTY,this.right=s??Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ri(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ri.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $t();const t=this.left.check();if(t!==this.right.check())throw $t();return t+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1;Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw $t()}get value(){throw $t()}get color(){throw $t()}get left(){throw $t()}get right(){throw $t()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Ri(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t){this.comparator=t,this.data=new br(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new XW(this.data.getIterator())}getIteratorFrom(t){return new XW(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ji)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ji(this.comparator);return n.data=t,n}}class XW{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.fields=t,t.sort($i.comparator)}static empty(){return new Ha([])}unionWith(t){let n=new ji($i.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ha(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return dg(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ide extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ide("Invalid base64 string: "+s):s}}(t);return new cs(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new cs(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return On(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cs.EMPTY_BYTE_STRING=new cs("");const yat=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kf(e){if(tr(!!e),typeof e=="string"){let t=0;const n=yat.exec(e);if(tr(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Wr(e.seconds),nanos:Wr(e.nanos)}}function Wr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ah(e){return typeof e=="string"?cs.fromBase64String(e):cs.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function S4(e){const t=e.mapValue.fields.__previous_value__;return E4(t)?S4(t):t}function v_(e){const t=Kf(e.mapValue.fields.__local_write_time__.timestampValue);return new si(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vat{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class __{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new __("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof __&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Oh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?E4(e)?4:_at(e)?9007199254740991:10:$t()}function pl(e,t){if(e===t)return!0;const n=Oh(e);if(n!==Oh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return v_(e).isEqual(v_(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Kf(i.timestampValue),a=Kf(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Ah(i.bytesValue).isEqual(Ah(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Wr(i.geoPointValue.latitude)===Wr(s.geoPointValue.latitude)&&Wr(i.geoPointValue.longitude)===Wr(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Wr(i.integerValue)===Wr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Wr(i.doubleValue),a=Wr(s.doubleValue);return o===a?Yx(o)===Yx(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return dg(e.arrayValue.values||[],t.arrayValue.values||[],pl);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(QW(o)!==QW(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!pl(o[u],a[u])))return!1;return!0}(e,t);default:return $t()}}function b_(e,t){return(e.values||[]).find(n=>pl(n,t))!==void 0}function hg(e,t){if(e===t)return 0;const n=Oh(e),r=Oh(t);if(n!==r)return On(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return On(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Wr(s.integerValue||s.doubleValue),u=Wr(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return JW(e.timestampValue,t.timestampValue);case 4:return JW(v_(e),v_(t));case 5:return On(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Ah(s),u=Ah(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=On(a[l],u[l]);if(c!==0)return c}return On(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=On(Wr(s.latitude),Wr(o.latitude));return a!==0?a:On(Wr(s.longitude),Wr(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=hg(a[l],u[l]);if(c)return c}return On(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===lw.mapValue&&o===lw.mapValue)return 0;if(s===lw.mapValue)return 1;if(o===lw.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=On(u[f],c[f]);if(d!==0)return d;const h=hg(a[u[f]],l[c[f]]);if(h!==0)return h}return On(u.length,c.length)}(e.mapValue,t.mapValue);default:throw $t()}}function JW(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return On(e,t);const n=Kf(e),r=Kf(t),i=On(n.seconds,r.seconds);return i!==0?i:On(n.nanos,r.nanos)}function pg(e){return uD(e)}function uD(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Kf(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ah(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return yt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=uD(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${uD(n.fields[o])}`;return i+"}"}(e.mapValue):$t()}function ZW(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function lD(e){return!!e&&"integerValue"in e}function T4(e){return!!e&&"arrayValue"in e}function eq(e){return!!e&&"nullValue"in e}function tq(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tE(e){return!!e&&"mapValue"in e}function Jy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Zg(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Jy(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jy(e.arrayValue.values[n]);return t}return Object.assign({},e)}function _at(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t){this.value=t}static empty(){return new ra({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!tE(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jy(n)}setAll(t){let n=$i.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Jy(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());tE(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return pl(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];tE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Zg(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new ra(Jy(this.value))}}function sde(e){const t=[];return Zg(e.fields,(n,r)=>{const i=new $i([n]);if(tE(r)){const s=sde(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Ha(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new is(t,0,jt.min(),jt.min(),jt.min(),ra.empty(),0)}static newFoundDocument(t,n,r,i){return new is(t,1,n,jt.min(),r,i,0)}static newNoDocument(t,n){return new is(t,2,n,jt.min(),jt.min(),ra.empty(),0)}static newUnknownDocument(t,n){return new is(t,3,n,jt.min(),jt.min(),ra.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ra.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ra.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof is&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t,n){this.position=t,this.inclusive=n}}function nq(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=yt.comparator(yt.fromName(o.referenceValue),n.key):r=hg(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function rq(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!pl(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(t,n="asc"){this.field=t,this.dir=n}}function bat(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ode{}class Yr extends ode{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Eat(t,n,r):n==="array-contains"?new xat(t,r):n==="in"?new Iat(t,r):n==="not-in"?new Cat(t,r):n==="array-contains-any"?new Pat(t,r):new Yr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Sat(t,r):new Tat(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hg(n,this.value)):n!==null&&Oh(this.value)===Oh(n)&&this.matchesComparison(hg(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return $t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class iu extends ode{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new iu(t,n)}matches(t){return ade(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ade(e){return e.op==="and"}function ude(e){return wat(e)&&ade(e)}function wat(e){for(const t of e.filters)if(t instanceof iu)return!1;return!0}function cD(e){if(e instanceof Yr)return e.field.canonicalString()+e.op.toString()+pg(e.value);if(ude(e))return e.filters.map(t=>cD(t)).join(",");{const t=e.filters.map(n=>cD(n)).join(",");return`${e.op}(${t})`}}function lde(e,t){return e instanceof Yr?function(r,i){return i instanceof Yr&&r.op===i.op&&r.field.isEqual(i.field)&&pl(r.value,i.value)}(e,t):e instanceof iu?function(r,i){return i instanceof iu&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&lde(o,i.filters[a]),!0):!1}(e,t):void $t()}function cde(e){return e instanceof Yr?function(n){return`${n.field.canonicalString()} ${n.op} ${pg(n.value)}`}(e):e instanceof iu?function(n){return n.op.toString()+" {"+n.getFilters().map(cde).join(" ,")+"}"}(e):"Filter"}class Eat extends Yr{constructor(t,n,r){super(t,n,r),this.key=yt.fromName(r.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Sat extends Yr{constructor(t,n){super(t,"in",n),this.keys=fde("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Tat extends Yr{constructor(t,n){super(t,"not-in",n),this.keys=fde("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function fde(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>yt.fromName(r.referenceValue))}class xat extends Yr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return T4(n)&&b_(n.arrayValue,this.value)}}class Iat extends Yr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&b_(this.value.arrayValue,n)}}class Cat extends Yr{constructor(t,n){super(t,"not-in",n)}matches(t){if(b_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!b_(this.value.arrayValue,n)}}class Pat extends Yr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!T4(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>b_(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aat{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function iq(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Aat(e,t,n,r,i,s,o)}function x4(e){const t=Ht(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>cD(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),LP(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>pg(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>pg(r)).join(",")),t.ce=n}return t.ce}function I4(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bat(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!lde(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rq(e.startAt,t.startAt)&&rq(e.endAt,t.endAt)}function fD(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Oat(e,t,n,r,i,s,o,a){return new e0(e,t,n,r,i,s,o,a)}function C4(e){return new e0(e)}function sq(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function dde(e){return e.collectionGroup!==null}function Zy(e){const t=Ht(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ji($i.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new w_(s,r))}),n.has($i.keyField().canonicalString())||t.le.push(new w_($i.keyField(),r))}return t.le}function Xu(e){const t=Ht(e);return t.he||(t.he=Rat(t,Zy(e))),t.he}function Rat(e,t){if(e.limitType==="F")return iq(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new w_(i.field,s)});const n=e.endAt?new Kx(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Kx(e.startAt.position,e.startAt.inclusive):null;return iq(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function dD(e,t){const n=e.filters.concat([t]);return new e0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function hD(e,t,n){return new e0(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function MP(e,t){return I4(Xu(e),Xu(t))&&e.limitType===t.limitType}function hde(e){return`${x4(Xu(e))}|lt:${e.limitType}`}function Ep(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cde(i)).join(", ")}]`),LP(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>pg(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>pg(i)).join(",")),`Target(${r})`}(Xu(e))}; limitType=${e.limitType})`}function FP(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):yt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Zy(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=nq(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Zy(r),i)||r.endAt&&!function(o,a,u){const l=nq(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Zy(r),i))}(e,t)}function Nat(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function pde(e){return(t,n)=>{let r=!1;for(const i of Zy(e)){const s=kat(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kat(e,t,n){const r=e.field.isKeyField()?yt.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?hg(u,l):$t()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return $t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Zg(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return rde(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dat=new br(yt.comparator);function cc(){return Dat}const mde=new br(yt.comparator);function dy(...e){let t=mde;for(const n of e)t=t.insert(n.key,n);return t}function gde(e){let t=mde;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Xd(){return ev()}function yde(){return ev()}function ev(){return new t0(e=>e.toString(),(e,t)=>e.isEqual(t))}const $at=new br(yt.comparator),Lat=new ji(yt.comparator);function sn(...e){let t=Lat;for(const n of e)t=t.add(n);return t}const Mat=new ji(On);function Fat(){return Mat}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vde(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yx(t)?"-0":t}}function _de(e){return{integerValue:""+e}}function jat(e,t){return gat(t)?_de(t):vde(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this._=void 0}}function Bat(e,t,n){return e instanceof E_?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&E4(s)&&(s=S4(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof S_?wde(e,t):e instanceof T_?Ede(e,t):function(i,s){const o=bde(i,s),a=oq(o)+oq(i.Ie);return lD(o)&&lD(i.Ie)?_de(a):vde(i.serializer,a)}(e,t)}function Uat(e,t,n){return e instanceof S_?wde(e,t):e instanceof T_?Ede(e,t):n}function bde(e,t){return e instanceof Qx?function(r){return lD(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class E_ extends jP{}class S_ extends jP{constructor(t){super(),this.elements=t}}function wde(e,t){const n=Sde(t);for(const r of e.elements)n.some(i=>pl(i,r))||n.push(r);return{arrayValue:{values:n}}}class T_ extends jP{constructor(t){super(),this.elements=t}}function Ede(e,t){let n=Sde(t);for(const r of e.elements)n=n.filter(i=>!pl(i,r));return{arrayValue:{values:n}}}class Qx extends jP{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function oq(e){return Wr(e.integerValue||e.doubleValue)}function Sde(e){return T4(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vat{constructor(t,n){this.field=t,this.transform=n}}function zat(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof S_&&i instanceof S_||r instanceof T_&&i instanceof T_?dg(r.elements,i.elements,pl):r instanceof Qx&&i instanceof Qx?pl(r.Ie,i.Ie):r instanceof E_&&i instanceof E_}(e.transform,t.transform)}class Hat{constructor(t,n){this.version=t,this.transformResults=n}}class ql{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ql}static exists(t){return new ql(void 0,t)}static updateTime(t){return new ql(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nE(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class BP{}function Tde(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Ide(e.key,ql.none()):new R1(e.key,e.data,ql.none());{const n=e.data,r=ra.empty();let i=new ji($i.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Kh(e.key,r,new Ha(i.toArray()),ql.none())}}function Wat(e,t,n){e instanceof R1?function(i,s,o){const a=i.value.clone(),u=uq(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Kh?function(i,s,o){if(!nE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=uq(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(xde(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function tv(e,t,n,r){return e instanceof R1?function(s,o,a,u){if(!nE(s.precondition,o))return a;const l=s.value.clone(),c=lq(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof Kh?function(s,o,a,u){if(!nE(s.precondition,o))return a;const l=lq(s.fieldTransforms,u,o),c=o.data;return c.setAll(xde(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return nE(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function qat(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=bde(r.transform,i||null);s!=null&&(n===null&&(n=ra.empty()),n.set(r.field,s))}return n||null}function aq(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dg(r,i,(s,o)=>zat(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class R1 extends BP{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Kh extends BP{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function xde(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function uq(e,t,n){const r=new Map;tr(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Uat(o,a,n[i]))}return r}function lq(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Bat(s,o,t))}return r}class Ide extends BP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gat extends BP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yat{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Wat(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=tv(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=tv(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=yde();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=Tde(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(jt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),sn())}isEqual(t){return this.batchId===t.batchId&&dg(this.mutations,t.mutations,(n,r)=>aq(n,r))&&dg(this.baseMutations,t.baseMutations,(n,r)=>aq(n,r))}}class P4{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){tr(t.mutations.length===r.length);let i=function(){return $at}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new P4(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kat{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qat{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr,gn;function Xat(e){switch(e){default:return $t();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0}}function Cde(e){if(e===void 0)return hl("GRPC error has no .code"),Re.UNKNOWN;switch(e){case zr.OK:return Re.OK;case zr.CANCELLED:return Re.CANCELLED;case zr.UNKNOWN:return Re.UNKNOWN;case zr.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case zr.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case zr.INTERNAL:return Re.INTERNAL;case zr.UNAVAILABLE:return Re.UNAVAILABLE;case zr.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case zr.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case zr.NOT_FOUND:return Re.NOT_FOUND;case zr.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case zr.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case zr.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case zr.ABORTED:return Re.ABORTED;case zr.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case zr.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case zr.DATA_LOSS:return Re.DATA_LOSS;default:return $t()}}(gn=zr||(zr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jat(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zat=new Tm([4294967295,4294967295],0);function cq(e){const t=Jat().encode(e),n=new Zot;return n.update(t),new Uint8Array(n.digest())}function fq(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Tm([n,r],0),new Tm([i,s],0)]}class A4{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hy(`Invalid padding: ${n}`);if(r<0)throw new hy(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new hy(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new hy(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Tm.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(Tm.fromNumber(r)));return i.compare(Zat)===1&&(i=new Tm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=cq(t),[r,i]=fq(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new A4(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=cq(t),[r,i]=fq(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class hy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,N1.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new UP(jt.min(),i,new br(On),cc(),sn())}}class N1{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new N1(r,n,sn(),sn(),sn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class Pde{constructor(t,n){this.targetId=t,this.fe=n}}class Ade{constructor(t,n,r=cs.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class dq{constructor(){this.ge=0,this.pe=pq(),this.ye=cs.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=sn(),n=sn(),r=sn();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$t()}}),new N1(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=pq()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,tr(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class eut{constructor(t){this.Le=t,this.ke=new Map,this.qe=cc(),this.Qe=hq(),this.Ke=new br(On)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:$t()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(fD(s))if(r===0){const o=new yt(s.path);this.We(n,o,is.newNoDocument(o,jt.min()))}else tr(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),u=a?this.et(a,t,o):1;if(u!==0){this.He(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ah(r).toUint8Array()}catch(u){if(u instanceof ide)return g_("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new A4(o,i,s)}catch(u){return g_(u instanceof hy?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&fD(a.target)){const u=new yt(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,is.newNoDocument(u,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=sn();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new UP(t,n,this.Ke,this.qe,r);return this.qe=cc(),this.Qe=hq(),this.Ke=new br(On),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new dq,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new ji(On),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Ge("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new dq),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function hq(){return new br(yt.comparator)}function pq(){return new br(yt.comparator)}const tut={asc:"ASCENDING",desc:"DESCENDING"},nut={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rut={and:"AND",or:"OR"};class iut{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function pD(e,t){return e.useProto3Json||LP(t)?t:{value:t}}function Xx(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ode(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sut(e,t){return Xx(e,t.toTimestamp())}function Ju(e){return tr(!!e),jt.fromTimestamp(function(n){const r=Kf(n);return new si(r.seconds,r.nanos)}(e))}function O4(e,t){return mD(e,t).canonicalString()}function mD(e,t){const n=function(i){return new sr(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Rde(e){const t=sr.fromString(e);return tr(Lde(t)),t}function gD(e,t){return O4(e.databaseId,t.path)}function F2(e,t){const n=Rde(t);if(n.get(1)!==e.databaseId.projectId)throw new Ze(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ze(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(kde(n))}function Nde(e,t){return O4(e.databaseId,t)}function out(e){const t=Rde(e);return t.length===4?sr.emptyPath():kde(t)}function yD(e){return new sr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function kde(e){return tr(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function mq(e,t,n){return{name:gD(e,t),fields:n.value.mapValue.fields}}function aut(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:$t()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(tr(c===void 0||typeof c=="string"),cs.fromBase64String(c||"")):(tr(c===void 0||c instanceof Uint8Array),cs.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?Re.UNKNOWN:Cde(l.code);return new Ze(c,l.message||"")}(o);n=new Ade(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=F2(e,r.document.name),s=Ju(r.document.updateTime),o=r.document.createTime?Ju(r.document.createTime):jt.min(),a=new ra({mapValue:{fields:r.document.fields}}),u=is.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new rE(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=F2(e,r.document),s=r.readTime?Ju(r.readTime):jt.min(),o=is.newNoDocument(i,s),a=r.removedTargetIds||[];n=new rE([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=F2(e,r.document),s=r.removedTargetIds||[];n=new rE([],s,i,null)}else{if(!("filter"in t))return $t();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Qat(i,s),a=r.targetId;n=new Pde(a,o)}}return n}function uut(e,t){let n;if(t instanceof R1)n={update:mq(e,t.key,t.value)};else if(t instanceof Ide)n={delete:gD(e,t.key)};else if(t instanceof Kh)n={update:mq(e,t.key,t.data),updateMask:yut(t.fieldMask)};else{if(!(t instanceof Gat))return $t();n={verify:gD(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof E_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof S_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof T_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qx)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw $t()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:sut(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:$t()}(e,t.precondition)),n}function lut(e,t){return e&&e.length>0?(tr(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?Ju(i.updateTime):Ju(s);return o.isEqual(jt.min())&&(o=Ju(s)),new Hat(o,i.transformResults||[])}(n,t))):[]}function cut(e,t){return{documents:[Nde(e,t.path)]}}function fut(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Nde(e,i);const s=function(l){if(l.length!==0)return $de(iu.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:Sp(d.field),direction:put(d.dir)}}(c))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=pD(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{ut:n,parent:i}}function dut(e){let t=out(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){tr(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=Dde(f);return d instanceof iu&&ude(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new w_(Tp(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,LP(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new Kx(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new Kx(h,d)}(n.endAt)),Oat(t,i,o,s,a,"F",u,l)}function hut(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $t()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Dde(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tp(n.unaryFilter.field);return Yr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tp(n.unaryFilter.field);return Yr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Tp(n.unaryFilter.field);return Yr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Tp(n.unaryFilter.field);return Yr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $t()}}(e):e.fieldFilter!==void 0?function(n){return Yr.create(Tp(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $t()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return iu.create(n.compositeFilter.filters.map(r=>Dde(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $t()}}(n.compositeFilter.op))}(e):$t()}function put(e){return tut[e]}function mut(e){return nut[e]}function gut(e){return rut[e]}function Sp(e){return{fieldPath:e.canonicalString()}}function Tp(e){return $i.fromServerFormat(e.fieldPath)}function $de(e){return e instanceof Yr?function(n){if(n.op==="=="){if(tq(n.value))return{unaryFilter:{field:Sp(n.field),op:"IS_NAN"}};if(eq(n.value))return{unaryFilter:{field:Sp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tq(n.value))return{unaryFilter:{field:Sp(n.field),op:"IS_NOT_NAN"}};if(eq(n.value))return{unaryFilter:{field:Sp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sp(n.field),op:mut(n.op),value:n.value}}}(e):e instanceof iu?function(n){const r=n.getFilters().map(i=>$de(i));return r.length===1?r[0]:{compositeFilter:{op:gut(n.op),filters:r}}}(e):$t()}function yut(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Lde(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,n,r,i,s=jt.min(),o=jt.min(),a=cs.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new uf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new uf(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new uf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new uf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vut{constructor(t){this.ct=t}}function _ut(e){const t=dut({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?hD(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class but{constructor(){this._n=new wut}addToCollectionParentIndex(t,n){return this._n.add(n),Ne.resolve()}getCollectionParents(t,n){return Ne.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return Ne.resolve()}deleteFieldIndex(t,n){return Ne.resolve()}deleteAllFieldIndexes(t){return Ne.resolve()}createTargetIndexes(t,n){return Ne.resolve()}getDocumentsMatchingTarget(t,n){return Ne.resolve(null)}getIndexType(t,n){return Ne.resolve(0)}getFieldIndexes(t,n){return Ne.resolve([])}getNextCollectionGroupToUpdate(t){return Ne.resolve(null)}getMinOffset(t,n){return Ne.resolve(Yf.min())}getMinOffsetFromCollectionGroup(t,n){return Ne.resolve(Yf.min())}updateCollectionGroup(t,n,r){return Ne.resolve()}updateIndexEntries(t,n){return Ne.resolve()}}class wut{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new ji(sr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ji(sr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new mg(0)}static Bn(){return new mg(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eut{constructor(){this.changes=new t0(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,is.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ne.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sut{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tut{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&tv(r.mutation,i,Ha.empty(),si.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,sn()).next(()=>r))}getLocalViewOfDocuments(t,n,r=sn()){const i=Xd();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=dy();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Xd();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,sn()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=cc();const o=ev(),a=function(){return ev()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Kh)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),tv(c.mutation,l,c.mutation.getFieldMask(),si.now())):o.set(l.key,Ha.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new Sut(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=ev();let i=new br((o,a)=>o-a),s=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Ha.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||sn()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=yde();c.forEach(d=>{if(!s.has(d)){const h=Tde(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,f))}return Ne.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return yt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):dde(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):Ne.resolve(Xd());let a=-1,u=s;return o.next(l=>Ne.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?Ne.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,sn())).next(c=>({batchId:a,changes:gde(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(r=>{let i=dy();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=dy();return this.indexManager.getCollectionParents(t,s).next(a=>Ne.forEach(a,u=>{const l=function(f,d){return new e0(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,is.newInvalidDocument(c)))});let a=dy();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&tv(c.mutation,l,Ha.empty(),si.now()),FP(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xut{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return Ne.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ju(i.createTime)}}(n)),Ne.resolve()}getNamedQuery(t,n){return Ne.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(i){return{name:i.name,query:_ut(i.bundledQuery),readTime:Ju(i.readTime)}}(n)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iut{constructor(){this.overlays=new br(yt.comparator),this.hr=new Map}getOverlay(t,n){return Ne.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Xd();return Ne.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.ht(t,n,s)}),Ne.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),Ne.resolve()}getOverlaysForCollection(t,n,r){const i=Xd(),s=n.length+1,o=new yt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Ne.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new br((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=Xd(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Xd(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return Ne.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Kat(n,r));let s=this.hr.get(n);s===void 0&&(s=sn(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.Pr=new ji(pi.Ir),this.Tr=new ji(pi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new pi(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new pi(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new yt(new sr([])),r=new pi(n,t),i=new pi(n,t+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new yt(new sr([])),r=new pi(n,t),i=new pi(n,t+1);let s=sn();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new pi(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class pi{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return yt.comparator(t.key,n.key)||On(t.pr,n.pr)}static Er(t,n){return On(t.pr,n.pr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cut{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ji(pi.Ir)}checkEmpty(t){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Yat(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new pi(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Ne.resolve(o)}lookupMutationBatch(t,n){return Ne.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),s=i<0?0:i;return Ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new pi(n,0),i=new pi(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),Ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ji(On);return n.forEach(i=>{const s=new pi(i,0),o=new pi(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),Ne.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;yt.isDocumentKey(s)||(s=s.child(""));const o=new pi(new yt(s),0);let a=new ji(On);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),Ne.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){tr(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Ne.forEach(n.mutations,i=>{const s=new pi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new pi(n,0),i=this.wr.firstAfterOrEqual(r);return Ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ne.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Put{constructor(t){this.vr=t,this.docs=function(){return new br(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Ne.resolve(r?r.document.mutableCopy():is.newInvalidDocument(n))}getEntries(t,n){let r=cc();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():is.newInvalidDocument(i))}),Ne.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=cc();const o=n.path,a=new yt(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||fat(cat(c),r)<=0||(i.has(c.key)||FP(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ne.resolve(s)}getAllFromCollectionGroup(t,n,r,i){$t()}Fr(t,n){return Ne.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Aut(this)}getSize(t){return Ne.resolve(this.size)}}class Aut extends Eut{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),Ne.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Out{constructor(t){this.persistence=t,this.Mr=new t0(n=>x4(n),I4),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new R4,this.targetCount=0,this.Br=mg.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),Ne.resolve()}getLastRemoteSnapshotVersion(t){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ne.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Br.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Ne.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Br=new mg(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,Ne.resolve()}updateTargetData(t,n){return this.qn(n),Ne.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ne.waitFor(s).next(()=>i)}getTargetCount(t){return Ne.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return Ne.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),Ne.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Ne.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),Ne.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return Ne.resolve(r)}containsKey(t,n){return Ne.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rut{constructor(t,n){this.Lr={},this.overlays={},this.kr=new w4(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Out(this),this.indexManager=new but,this.remoteDocumentCache=function(i){return new Put(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new vut(n),this.$r=new xut(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Iut,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Lr[t.toKey()];return r||(r=new Cut(n,this.referenceDelegate),this.Lr[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){Ge("MemoryPersistence","Starting transaction:",t);const i=new Nut(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(t,n){return Ne.or(Object.values(this.Lr).map(r=>()=>r.containsKey(t,n)))}}class Nut extends hat{constructor(t){super(),this.currentSequenceNumber=t}}class N4{constructor(t){this.persistence=t,this.zr=new R4,this.jr=null}static Hr(t){return new N4(t)}get Jr(){if(this.jr)return this.jr;throw $t()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Ne.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),Ne.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.Jr,r=>{const i=yt.fromPath(r);return this.Yr(t,i).next(s=>{s||n.removeEntry(i,jt.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return Ne.or([()=>Ne.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=sn(),i=sn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new k4(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kut{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dut{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return grt()?8:Qd.v(Kr())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ji(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new kut;return this.Ji(t,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>s.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(G0()<=cn.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",Ep(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ne.resolve()):(G0()<=cn.DEBUG&&Ge("QueryEngine","Query:",Ep(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(G0()<=cn.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",Ep(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Xu(n))):Ne.resolve())}ji(t,n){if(sq(n))return Ne.resolve(null);let r=Xu(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hD(n,null,"F"),r=Xu(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=sn(...s);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(t,hD(n,null,"F")):this.es(t,l,n,u)}))})))}Hi(t,n,r,i){return sq(n)||i.isEqual(jt.min())?Ne.resolve(null):this.zi.getDocuments(t,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?Ne.resolve(null):(G0()<=cn.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ep(n)),this.es(t,o,n,lat(i,-1)).next(a=>a))})}Zi(t,n){let r=new ji(pde(t));return n.forEach((i,s)=>{FP(t,s)&&(r=r.add(s))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(t,n,r){return G0()<=cn.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",Ep(n)),this.zi.getDocumentsMatchingQuery(t,n,Yf.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ut{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new br(On),this.rs=new t0(s=>x4(s),I4),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Tut(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function Lut(e,t,n,r){return new $ut(e,t,n,r)}async function Mde(e,t){const n=Ht(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=sn();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}function Mut(e,t){const n=Ht(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=Ne.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(m=>{const y=l.docVersions.get(p);tr(y!==null),m.version.compareTo(y)<0&&(f.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=sn();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Fde(e){const t=Ht(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function Fut(e,t){const n=Ht(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(cs.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(m,y,g){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,h,c)&&a.push(n.Qr.updateTargetData(s,h))});let u=cc(),l=sn();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(jut(s,o,t.documentUpdates).next(c=>{u=c.cs,l=c.ls})),!r.isEqual(jt.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Ne.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}function jut(e,t,n){let r=sn(),i=sn();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=cc();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(jt.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):Ge("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function But(e,t){const n=Ht(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Uut(e,t){const n=Ht(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,t).next(s=>s?(i=s,Ne.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new uf(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function vD(e,t,n){const r=Ht(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!O1(o))throw o;Ge("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function gq(e,t,n){const r=Ht(e);let i=jt.min(),s=sn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=Ht(u),d=f.rs.get(c);return d!==void 0?Ne.resolve(f.ns.get(d)):f.Qr.getTargetData(l,c)}(r,o,Xu(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?i:jt.min(),n?s:sn())).next(a=>(Vut(r,Nat(t),a),{documents:a,hs:s})))}function Vut(e,t,n){let r=e.ss.get(t)||jt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.ss.set(t,r)}class yq{constructor(){this.activeTargetIds=Fat()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zut{constructor(){this.no=new yq,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new yq,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hut{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cw=null;function j2(){return cw===null?cw=function(){return 268435456+Math.round(2147483648*Math.random())}():cw++,"0x"+cw.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wut={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qut{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="WebChannelConnection";class Gut extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=j2(),u=this.bo(n,r.toUriEncodedString());Ge("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,u,l,i).then(c=>(Ge("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw g_("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jg}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=Wut[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,r,i){const s=j2();return new Promise((o,a)=>{const u=new Jot;u.setWithCredentials(!0),u.listenOnce(Qot.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case M2.NO_ERROR:const c=u.getResponseJson();Ge(Qi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case M2.TIMEOUT:Ge(Qi,`RPC '${t}' ${s} timed out`),a(new Ze(Re.DEADLINE_EXCEEDED,"Request time out"));break;case M2.HTTP_ERROR:const f=u.getStatus();if(Ge(Qi,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const g=y.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(g)>=0?g:Re.UNKNOWN}(h.status);a(new Ze(p,h.message))}else a(new Ze(Re.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Ze(Re.UNAVAILABLE,"Connection failed."));break;default:$t()}}finally{Ge(Qi,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);Ge(Qi,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Fo(t,n,r){const i=j2(),s=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Yot(),a=Kot(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");Ge(Qi,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let d=!1,h=!1;const p=new qut({lo:y=>{h?Ge(Qi,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(Ge(Qi,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),Ge(Qi,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},ho:()=>f.close()}),m=(y,g,v)=>{y.listen(g,_=>{try{v(_)}catch(S){setTimeout(()=>{throw S},0)}})};return m(f,aw.EventType.OPEN,()=>{h||Ge(Qi,`RPC '${t}' stream ${i} transport opened.`)}),m(f,aw.EventType.CLOSE,()=>{h||(h=!0,Ge(Qi,`RPC '${t}' stream ${i} transport closed`),p.Vo())}),m(f,aw.EventType.ERROR,y=>{h||(h=!0,g_(Qi,`RPC '${t}' stream ${i} transport errored:`,y),p.Vo(new Ze(Re.UNAVAILABLE,"The operation could not be completed")))}),m(f,aw.EventType.MESSAGE,y=>{var g;if(!h){const v=y.data[0];tr(!!v);const _=v,S=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(S){Ge(Qi,`RPC '${t}' stream ${i} received error:`,S);const T=S.status;let E=function(M){const L=zr[M];if(L!==void 0)return Cde(L)}(T),x=S.message;E===void 0&&(E=Re.INTERNAL,x="Unknown error status: "+T+" with message "+S.message),h=!0,p.Vo(new Ze(E,x)),f.close()}else Ge(Qi,`RPC '${t}' stream ${i} received:`,v),p.mo(v)}}),m(a,Xot.STAT_EVENT,y=>{y.stat===GW.PROXY?Ge(Qi,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===GW.NOPROXY&&Ge(Qi,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function B2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(e){return new iut(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jde{constructor(t,n,r=1e3,i=1.5,s=6e4){this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bde{constructor(t,n,r,i,s,o,a,u){this.oi=t,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new jde(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===Re.RESOURCE_EXHAUSTED?(hl(n.toString()),hl("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{t(()=>{const i=new Ze(Re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(t,n){const r=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return Ge("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yut extends Bde{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=aut(this.serializer,t),r=function(s){if(!("targetChange"in s))return jt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?jt.min():o.readTime?Ju(o.readTime):jt.min()}(t);return this.listener.u_(n,r)}c_(t){const n={};n.database=yD(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=fD(u)?{documents:cut(s,u)}:{query:fut(s,u).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ode(s,o.resumeToken);const l=pD(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(jt.min())>0){a.readTime=Xx(s,o.snapshotVersion.toTimestamp());const l=pD(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=hut(this.serializer,t);r&&(n.labels=r),this.t_(n)}l_(t){const n={};n.database=yD(this.serializer),n.removeTarget=t,this.t_(n)}}class Kut extends Bde{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(tr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=lut(t.writeResults,t.commitTime),r=Ju(t.commitTime);return this.listener.T_(r,n)}return tr(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=yD(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>uut(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qut extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new Ze(Re.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(t,mD(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ze(Re.UNKNOWN,s.toString())})}vo(t,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(t,mD(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ze(Re.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Xut{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(hl(n),this.g_=!1):Ge("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jut{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Qh(this)&&(Ge("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Ht(u);l.v_.add(4),await D1(l),l.x_.set("Unknown"),l.v_.delete(4),await k1(l)}(this))})}),this.x_=new Xut(r,i)}}async function k1(e){if(Qh(e))for(const t of e.F_)await t(!0)}async function D1(e){for(const t of e.F_)await t(!1)}function Ude(e,t){const n=Ht(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),L4(n)?$4(n):n0(n).Jo()&&D4(n,t))}function Vde(e,t){const n=Ht(e),r=n0(n);n.C_.delete(t),r.Jo()&&zde(n,t),n.C_.size===0&&(r.Jo()?r.Xo():Qh(n)&&n.x_.set("Unknown"))}function D4(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}n0(e).c_(t)}function zde(e,t){e.O_.Oe(t),n0(e).l_(t)}function $4(e){e.O_=new eut({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),n0(e).start(),e.x_.p_()}function L4(e){return Qh(e)&&!n0(e).Ho()&&e.C_.size>0}function Qh(e){return Ht(e).v_.size===0}function Hde(e){e.O_=void 0}async function Zut(e){e.C_.forEach((t,n)=>{D4(e,t)})}async function elt(e,t){Hde(e),L4(e)?(e.x_.S_(t),$4(e)):e.x_.set("Unknown")}async function tlt(e,t,n){if(e.x_.set("Online"),t instanceof Ade&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(e,t)}catch(r){Ge("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Jx(e,r)}else if(t instanceof rE?e.O_.$e(t):t instanceof Pde?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(jt.min()))try{const r=await Fde(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.C_.get(l);c&&s.C_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.C_.get(u);if(!c)return;s.C_.set(u,c.withResumeToken(cs.EMPTY_BYTE_STRING,c.snapshotVersion)),zde(s,u);const f=new uf(c.target,u,l,c.sequenceNumber);D4(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Ge("RemoteStore","Failed to raise snapshot:",r),await Jx(e,r)}}async function Jx(e,t,n){if(!O1(t))throw t;e.v_.add(1),await D1(e),e.x_.set("Offline"),n||(n=()=>Fde(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ge("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await k1(e)})}function Wde(e,t){return t().catch(n=>Jx(e,n,t))}async function zP(e){const t=Ht(e),n=Qf(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;nlt(t);)try{const i=await But(t.localStore,r);if(i===null){t.D_.length===0&&n.Xo();break}r=i.batchId,rlt(t,i)}catch(i){await Jx(t,i)}qde(t)&&Gde(t)}function nlt(e){return Qh(e)&&e.D_.length<10}function rlt(e,t){e.D_.push(t);const n=Qf(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function qde(e){return Qh(e)&&!Qf(e).Ho()&&e.D_.length>0}function Gde(e){Qf(e).start()}async function ilt(e){Qf(e).d_()}async function slt(e){const t=Qf(e);for(const n of e.D_)t.I_(n.mutations)}async function olt(e,t,n){const r=e.D_.shift(),i=P4.from(r,t,n);await Wde(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await zP(e)}async function alt(e,t){t&&Qf(e).P_&&await async function(r,i){if(function(o){return Xat(o)&&o!==Re.ABORTED}(i.code)){const s=r.D_.shift();Qf(r).Zo(),await Wde(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await zP(r)}}(e,t),qde(e)&&Gde(e)}async function _q(e,t){const n=Ht(e);n.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const r=Qh(n);n.v_.add(3),await D1(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await k1(n)}async function ult(e,t){const n=Ht(e);t?(n.v_.delete(2),await k1(n)):t||(n.v_.add(2),await D1(n),n.x_.set("Unknown"))}function n0(e){return e.N_||(e.N_=function(n,r,i){const s=Ht(n);return s.R_(),new Yut(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:Zut.bind(null,e),To:elt.bind(null,e),u_:tlt.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),L4(e)?$4(e):e.x_.set("Unknown")):(await e.N_.stop(),Hde(e))})),e.N_}function Qf(e){return e.B_||(e.B_=function(n,r,i){const s=Ht(n);return s.R_(),new Kut(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Po:ilt.bind(null,e),To:alt.bind(null,e),E_:slt.bind(null,e),T_:olt.bind(null,e)}),e.F_.push(async t=>{t?(e.B_.Zo(),await zP(e)):(await e.B_.stop(),e.D_.length>0&&(Ge("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new M4(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(Re.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F4(e,t){if(hl("AsyncQueue",`${t}: ${e}`),O1(e))return new Ze(Re.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t){this.comparator=t?(n,r)=>t(n,r)||yt.comparator(n.key,r.key):(n,r)=>yt.comparator(n.key,r.key),this.keyedMap=dy(),this.sortedSet=new br(this.comparator)}static emptySet(t){return new xm(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof xm)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new xm;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(){this.L_=new br(yt.comparator)}track(t){const n=t.doc.key,r=this.L_.get(n);r?t.type!==0&&r.type===3?this.L_=this.L_.insert(n,t):t.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.L_=this.L_.remove(n):t.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:t.doc}):$t():this.L_=this.L_.insert(n,t)}k_(){const t=[];return this.L_.inorderTraversal((n,r)=>{t.push(r)}),t}}class gg{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new gg(t,n,xm.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&MP(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class llt{constructor(){this.q_=void 0,this.Q_=[]}}class clt{constructor(){this.queries=new t0(t=>hde(t),MP),this.onlineState="Unknown",this.K_=new Set}}async function Yde(e,t){const n=Ht(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new llt),i)try{s.q_=await n.onListen(r)}catch(o){const a=F4(o,`Initialization of query '${Ep(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&j4(n)}async function Kde(e,t){const n=Ht(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(t);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function flt(e,t){const n=Ht(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&j4(n)}function dlt(e,t,n){const r=Ht(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function j4(e){e.K_.forEach(t=>{t.next()})}class Qde{constructor(t,n,r){this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new gg(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.z_?this.H_(t)&&(this.G_.next(t),n=!0):this.J_(t,this.onlineState)&&(this.Y_(t),n=!0),this.j_=t,n}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),n=!0),n}J_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}H_(t){if(t.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(t){t=gg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xde{constructor(t){this.key=t}}class Jde{constructor(t){this.key=t}}class hlt{constructor(t,n){this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=sn(),this.mutatedKeys=sn(),this.ua=pde(t),this.ca=new xm(this.ua)}get la(){return this.oa}ha(t,n){const r=n?n.Pa:new bq,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=FP(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),y=!0):this.Ia(d,h)||(r.track({type:2,doc:h}),y=!0,(u&&this.ua(h,u)>0||l&&this.ua(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(u||l)&&(a=!0)),y&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const o=t.Pa.k_();o.sort((c,f)=>function(h,p){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t()}};return m(h)-m(p)}(c.type,f.type)||this.ua(c.doc,f.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],u=this.aa.size===0&&this.current&&!i?1:0,l=u!==this._a;return this._a=u,o.length!==0||l?{snapshot:new gg(this.query,t.ca,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new bq,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}Ta(t){t&&(t.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=t.current)}Ea(){if(!this.current)return[];const t=this.aa;this.aa=sn(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return t.forEach(r=>{this.aa.has(r)||n.push(new Jde(r))}),this.aa.forEach(r=>{t.has(r)||n.push(new Xde(r))}),n}Ra(t){this.oa=t.hs,this.aa=sn();const n=this.ha(t.documents);return this.applyChanges(n,!0)}Va(){return gg.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class plt{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class mlt{constructor(t){this.key=t,this.ma=!1}}class glt{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new t0(a=>hde(a),MP),this.pa=new Map,this.ya=new Set,this.wa=new br(yt.comparator),this.Sa=new Map,this.ba=new R4,this.Da={},this.Ca=new Map,this.va=mg.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function ylt(e,t){const n=Clt(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await Uut(n.localStore,Xu(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await vlt(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&Ude(n.remoteStore,o)}return i}async function vlt(e,t,n,r,i){e.Ma=(f,d,h)=>async function(m,y,g,v){let _=y.view.ha(g);_.Xi&&(_=await gq(m.localStore,y.query,!1).then(({documents:x})=>y.view.ha(x,_)));const S=v&&v.targetChanges.get(y.targetId),T=v&&v.targetMismatches.get(y.targetId)!=null,E=y.view.applyChanges(_,m.isPrimaryClient,S,T);return Eq(m,y.targetId,E.da),E.snapshot}(e,f,d,h);const s=await gq(e.localStore,t,!0),o=new hlt(t,s.hs),a=o.ha(s.documents),u=N1.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);Eq(e,n,l.da);const c=new plt(t,n,o);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),l.snapshot}async function _lt(e,t){const n=Ht(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!MP(s,t))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await vD(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Vde(n.remoteStore,r.targetId),_D(n,r.targetId)}).catch(A1)):(_D(n,r.targetId),await vD(n.localStore,r.targetId,!0))}async function blt(e,t,n){const r=Plt(e);try{const i=await function(o,a){const u=Ht(o),l=si.now(),c=a.reduce((h,p)=>h.add(p.key),sn());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=cc(),m=sn();return u.os.getEntries(h,c).next(y=>{p=y,p.forEach((g,v)=>{v.isValidDocument()||(m=m.add(g))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(y=>{f=y;const g=[];for(const v of a){const _=qat(v,f.get(v.key).overlayedDocument);_!=null&&g.push(new Kh(v.key,_,sde(_.value.mapValue),ql.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,g,a)}).next(y=>{d=y;const g=y.applyToLocalDocumentSet(f,m);return u.documentOverlayCache.saveOverlays(h,y.batchId,g)})}).then(()=>({batchId:d.batchId,changes:gde(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Da[o.currentUser.toKey()];l||(l=new br(On)),l=l.insert(a,u),o.Da[o.currentUser.toKey()]=l}(r,i.batchId,n),await $1(r,i.changes),await zP(r.remoteStore)}catch(i){const s=F4(i,"Failed to persist write");n.reject(s)}}async function Zde(e,t){const n=Ht(e);try{const r=await Fut(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(tr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?tr(o.ma):i.removedDocuments.size>0&&(tr(o.ma),o.ma=!1))}),await $1(n,r,t)}catch(r){await A1(r)}}function wq(e,t,n){const r=Ht(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Ht(o);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.Q_)d.U_(a)&&(l=!0)}),l&&j4(u)}(r.eventManager,t),i.length&&r.fa.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wlt(e,t,n){const r=Ht(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let o=new br(yt.comparator);o=o.insert(s,is.newNoDocument(s,jt.min()));const a=sn().add(s),u=new UP(jt.min(),new Map,new br(On),o,a);await Zde(r,u),r.wa=r.wa.remove(s),r.Sa.delete(t),B4(r)}else await vD(r.localStore,t,!1).then(()=>_D(r,t,n)).catch(A1)}async function Elt(e,t){const n=Ht(e),r=t.batch.batchId;try{const i=await Mut(n.localStore,t);the(n,r,null),ehe(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $1(n,i)}catch(i){await A1(i)}}async function Slt(e,t,n){const r=Ht(e);try{const i=await function(o,a){const u=Ht(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(tr(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);the(r,t,n),ehe(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await $1(r,i)}catch(i){await A1(i)}}function ehe(e,t){(e.Ca.get(t)||[]).forEach(n=>{n.resolve()}),e.Ca.delete(t)}function the(e,t,n){const r=Ht(e);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function _D(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach(r=>{e.ba.containsKey(r)||nhe(e,r)})}function nhe(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);n!==null&&(Vde(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),B4(e))}function Eq(e,t,n){for(const r of n)r instanceof Xde?(e.ba.addReference(r.key,t),Tlt(e,r)):r instanceof Jde?(Ge("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||nhe(e,r.key)):$t()}function Tlt(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Ge("SyncEngine","New document in limbo: "+n),e.ya.add(r),B4(e))}function B4(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new yt(sr.fromString(t)),r=e.va.next();e.Sa.set(r,new mlt(n)),e.wa=e.wa.insert(n,r),Ude(e.remoteStore,new uf(Xu(C4(n.path)),r,"TargetPurposeLimboResolution",w4._e))}}async function $1(e,t,n){const r=Ht(e),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=k4.Ki(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(u,l){const c=Ht(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ne.forEach(l,d=>Ne.forEach(d.qi,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>Ne.forEach(d.Qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!O1(f))throw f;Ge("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ns.get(d),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(d,m)}}}(r.localStore,s))}async function xlt(e,t){const n=Ht(e);if(!n.currentUser.isEqual(t)){Ge("SyncEngine","User change. New user:",t.toKey());const r=await Mde(n.localStore,t);n.currentUser=t,function(s,o){s.Ca.forEach(a=>{a.forEach(u=>{u.reject(new Ze(Re.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await $1(n,r.us)}}function Ilt(e,t){const n=Ht(e),r=n.Sa.get(t);if(r&&r.ma)return sn().add(r.key);{let i=sn();const s=n.pa.get(t);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function Clt(e){const t=Ht(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zde.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ilt.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wlt.bind(null,t),t.fa.u_=flt.bind(null,t.eventManager),t.fa.xa=dlt.bind(null,t.eventManager),t}function Plt(e){const t=Ht(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Elt.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Slt.bind(null,t),t}class Sq{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=VP(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return Lut(this.persistence,new Dut,t.initialUser,this.serializer)}createPersistence(t){return new Rut(N4.Hr,this.serializer)}createSharedClientState(t){return new zut}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Alt{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wq(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xlt.bind(null,this.syncEngine),await ult(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new clt}()}createDatastore(t){const n=VP(t.databaseInfo.databaseId),r=function(s){return new Gut(s)}(t.databaseInfo);return function(s,o,a,u){return new Qut(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new Jut(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>wq(this.syncEngine,n,0),function(){return vq.D()?new vq:new Hut}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const f=new glt(i,s,o,a,u,l);return c&&(f.Fa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const i=Ht(r);Ge("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await D1(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rhe{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):hl("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Olt{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fs.UNAUTHENTICATED,this.clientId=nde.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ge("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ge("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ze(Re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=F4(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function U2(e,t){e.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Mde(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Tq(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ihe(e);Ge("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>_q(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>_q(t.remoteStore,i)),e._onlineComponents=t}function Rlt(e){return e.name==="FirebaseError"?e.code===Re.FAILED_PRECONDITION||e.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function ihe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await U2(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Rlt(n))throw n;g_("Error using user provided cache. Falling back to memory cache: "+n),await U2(e,new Sq)}}else Ge("FirestoreClient","Using default OfflineComponentProvider"),await U2(e,new Sq);return e._offlineComponents}async function U4(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ge("FirestoreClient","Using user provided OnlineComponentProvider"),await Tq(e,e._uninitializedComponentsProvider._online)):(Ge("FirestoreClient","Using default OnlineComponentProvider"),await Tq(e,new Alt))),e._onlineComponents}function Nlt(e){return ihe(e).then(t=>t.persistence)}function klt(e){return U4(e).then(t=>t.remoteStore)}function Dlt(e){return U4(e).then(t=>t.syncEngine)}async function she(e){const t=await U4(e),n=t.eventManager;return n.onListen=ylt.bind(null,t.syncEngine),n.onUnlisten=_lt.bind(null,t.syncEngine),n}function $lt(e){return e.asyncQueue.enqueue(async()=>{const t=await Nlt(e),n=await klt(e);return t.setNetworkEnabled(!0),function(i){const s=Ht(i);return s.v_.delete(0),k1(s)}(n)})}function Llt(e,t,n={}){const r=new Qu;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new rhe({next:d=>{o.enqueueAndForget(()=>Kde(s,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new Ze(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new Ze(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Qde(C4(a.path),c,{includeMetadataChanges:!0,Z_:!0});return Yde(s,f)}(await she(e),e.asyncQueue,t,n,r)),r.promise}function Mlt(e,t,n={}){const r=new Qu;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new rhe({next:d=>{o.enqueueAndForget(()=>Kde(s,f)),d.fromCache&&u.source==="server"?l.reject(new Ze(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Qde(a,c,{includeMetadataChanges:!0,Z_:!0});return Yde(s,f)}(await she(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ohe(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ahe(e,t,n){if(!n)throw new Ze(Re.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Flt(e,t,n,r){if(t===!0&&r===!0)throw new Ze(Re.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Iq(e){if(!yt.isDocumentKey(e))throw new Ze(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Cq(e){if(yt.isDocumentKey(e))throw new Ze(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function HP(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":$t()}function Rh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ze(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=HP(e);throw new Ze(Re.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Ze(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Ze(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Flt("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ohe((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ze(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ze(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ze(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class V4{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pq({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ze(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Ze(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pq(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tat;switch(r.type){case"firstParty":return new iat(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ze(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xq.get(n);r&&(Ge("ComponentProvider","Removing Datastore"),xq.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Xh(this.firestore,t,this._query)}}class ro{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Af(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ro(this.firestore,t,this._key)}}class Af extends Xh{constructor(t,n,r){super(t,n,C4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ro(this.firestore,null,new yt(t))}withConverter(t){return new Af(this.firestore,t,this._path)}}function V2(e,t,...n){if(e=Ui(e),ahe("collection","path",t),e instanceof V4){const r=sr.fromString(t,...n);return Cq(r),new Af(e,null,r)}{if(!(e instanceof ro||e instanceof Af))throw new Ze(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(sr.fromString(t,...n));return Cq(r),new Af(e.firestore,null,r)}}function Ds(e,t,...n){if(e=Ui(e),arguments.length===1&&(t=nde.newId()),ahe("doc","path",t),e instanceof V4){const r=sr.fromString(t,...n);return Iq(r),new ro(e,null,new yt(r))}{if(!(e instanceof ro||e instanceof Af))throw new Ze(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(sr.fromString(t,...n));return Iq(r),new ro(e.firestore,e instanceof Af?e.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jlt{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new jde(this,"async_queue_retry"),this._u=()=>{const n=B2();n&&Ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=B2();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.au(),this.uu(t)}enterRestrictedMode(t){if(!this.tu){this.tu=!0,this.su=t||!1;const n=B2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(t){if(this.au(),this.tu)return new Promise(()=>{});const n=new Qu;return this.uu(()=>this.tu&&this.su?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.eu.push(t),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(t){if(!O1(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(t){const n=this.Xa.then(()=>(this.iu=!0,t().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw hl("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(t,n,r){this.au(),this.ou.indexOf(t)>-1&&(n=0);const i=M4.createAndSchedule(this,t,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&$t()}verifyOperationInProgress(){}async hu(){let t;do t=this.Xa,await t;while(t!==this.Xa)}Pu(t){for(const n of this.nu)if(n.timerId===t)return!0;return!1}Iu(t){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.hu()})}Tu(t){this.ou.push(t)}lu(t){const n=this.nu.indexOf(t);this.nu.splice(n,1)}}class L1 extends V4{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new jlt}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||uhe(this),this._firestoreClient.terminate()}}function Blt(e,t,n){n||(n="(default)");const r=Kg(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(o_(s,t))return i;throw new Ze(Re.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new Ze(Re.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Ze(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function WP(e){return e._firestoreClient||uhe(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function uhe(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new vat(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,ohe(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Olt(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Ult(e){return $lt(WP(e=Rh(e,L1)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t){this._byteString=t}static fromBase64String(t){try{return new yg(cs.fromBase64String(t))}catch(n){throw new Ze(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new yg(cs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ze(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ze(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ze(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return On(this._lat,t._lat)||On(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vlt=/^__.*__$/;class zlt{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Kh(t,this.data,this.fieldMask,n,this.fieldTransforms):new R1(t,this.data,n,this.fieldTransforms)}}function lhe(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t()}}class q4{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(t){return new q4(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Au({path:r,Vu:!1});return i.mu(t),i}fu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(t){return this.Au({path:void 0,Vu:!0})}pu(t){return Zx(t,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let t=0;t<this.path.length;t++)this.mu(this.path.get(t))}mu(t){if(t.length===0)throw this.pu("Document fields must not be empty");if(lhe(this.du)&&Vlt.test(t))throw this.pu('Document fields cannot begin and end with "__"')}}class Hlt{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||VP(t)}Su(t,n,r,i=!1){return new q4({du:t,methodName:n,wu:r,path:$i.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function che(e){const t=e._freezeSettings(),n=VP(e._databaseId);return new Hlt(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Wlt(e,t,n,r,i,s={}){const o=e.Su(s.merge||s.mergeFields?2:0,t,n,i);hhe("Data must be an object, but it was:",o,r);const a=fhe(r,o);let u,l;if(s.merge)u=new Ha(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=Glt(t,f,n);if(!o.contains(d))throw new Ze(Re.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Klt(c,d)||c.push(d)}u=new Ha(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new zlt(new ra(a),u,l)}class G4 extends H4{_toFieldTransform(t){return new Vat(t.path,new E_)}isEqual(t){return t instanceof G4}}function qlt(e,t,n,r=!1){return Y4(n,e.Su(r?4:3,t))}function Y4(e,t){if(dhe(e=Ui(e)))return hhe("Unsupported field value:",t,e),fhe(e,t);if(e instanceof H4)return function(r,i){if(!lhe(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&t.du!==4)throw t.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Y4(a,i.gu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Ui(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jat(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=si.fromDate(r);return{timestampValue:Xx(i.serializer,s)}}if(r instanceof si){const s=new si(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xx(i.serializer,s)}}if(r instanceof W4)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yg)return{bytesValue:Ode(i.serializer,r._byteString)};if(r instanceof ro){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:O4(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${HP(r)}`)}(e,t)}function fhe(e,t){const n={};return rde(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zg(e,(r,i)=>{const s=Y4(i,t.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function dhe(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof si||e instanceof W4||e instanceof yg||e instanceof ro||e instanceof H4)}function hhe(e,t,n){if(!dhe(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=HP(n);throw r==="an object"?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function Glt(e,t,n){if((t=Ui(t))instanceof z4)return t._internalPath;if(typeof t=="string")return phe(e,t);throw Zx("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ylt=new RegExp("[~\\*/\\[\\]]");function phe(e,t,n){if(t.search(Ylt)>=0)throw Zx(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new z4(...t.split("."))._internalPath}catch{throw Zx(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Zx(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Ze(Re.INVALID_ARGUMENT,a+e+u)}function Klt(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mhe{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ro(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Qlt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(K4("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Qlt extends mhe{data(){return super.data()}}function K4(e,t){return typeof t=="string"?phe(e,t):t instanceof z4?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xlt(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ze(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q4{}class ghe extends Q4{}function Jlt(e,t,...n){let r=[];t instanceof Q4&&r.push(t),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof J4).length,a=s.filter(u=>u instanceof X4).length;if(o>1||o>0&&a>0)throw new Ze(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class X4 extends ghe{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new X4(t,n,r)}_apply(t){const n=this._parse(t);return yhe(t._query,n),new Xh(t.firestore,t.converter,dD(t._query,n))}_parse(t){const n=che(t.firestore);return function(s,o,a,u,l,c,f){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Ze(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Oq(f,c);const h=[];for(const p of f)h.push(Aq(u,s,p));d={arrayValue:{values:h}}}else d=Aq(u,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Oq(f,c),d=qlt(a,o,f,c==="in"||c==="not-in");return Yr.create(l,c,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class J4 extends Q4{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new J4(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:iu.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)yhe(o,u),o=dD(o,u)}(t._query,n),new Xh(t.firestore,t.converter,dD(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Z4 extends ghe{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Z4(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new Ze(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ze(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new w_(s,o)}(t._query,this._field,this._direction);return new Xh(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new e0(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function Zlt(e,t="asc"){const n=t,r=K4("orderBy",e);return Z4._create(r,n)}function Aq(e,t,n){if(typeof(n=Ui(n))=="string"){if(n==="")throw new Ze(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dde(t)&&n.indexOf("/")!==-1)throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(sr.fromString(n));if(!yt.isDocumentKey(r))throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ZW(e,new yt(r))}if(n instanceof ro)return ZW(e,n._key);throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${HP(n)}.`)}function Oq(e,t){if(!Array.isArray(e)||e.length===0)throw new Ze(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function yhe(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Ze(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ze(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ect{convertValue(t,n="none"){switch(Oh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ah(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw $t()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Zg(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new W4(Wr(t.latitude),Wr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=S4(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(v_(t));default:return null}}convertTimestamp(t){const n=Kf(t);return new si(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=sr.fromString(t);tr(Lde(r));const i=new __(r.get(1),r.get(3)),s=new yt(r.popFirst(5));return i.isEqual(n)||hl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tct(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class vhe extends mhe{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new iE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(K4("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class iE extends vhe{data(t={}){return super.data(t)}}class nct{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new py(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new iE(this._firestore,this._userDataWriter,r.key,r,new py(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ze(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new iE(i._firestore,i._userDataWriter,a.doc.key,a.doc,new py(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new iE(i._firestore,i._userDataWriter,a.doc.key,a.doc,new py(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:rct(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rct(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(e){e=Rh(e,ro);const t=Rh(e.firestore,L1);return Llt(WP(t),e._key).then(n=>sct(t,e,n))}class _he extends ect{constructor(t){super(),this.firestore=t}convertBytes(t){return new yg(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ro(this.firestore,null,n)}}function Rq(e){e=Rh(e,Xh);const t=Rh(e.firestore,L1),n=WP(t),r=new _he(t);return Xlt(e._query),Mlt(n,e._query).then(i=>new nct(t,r,e,i))}function gd(e,t,n){e=Rh(e,ro);const r=Rh(e.firestore,L1),i=tct(e.converter,t,n);return ict(r,[Wlt(che(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,ql.none())])}function ict(e,t){return function(r,i){const s=new Qu;return r.asyncQueue.enqueueAndForget(async()=>blt(await Dlt(r),i,s)),s.promise}(WP(e),t)}function sct(e,t,n){const r=n.docs.get(t._key),i=new _he(e);return new vhe(e,i,t._key,r,new py(n.hasPendingWrites,n.fromCache),t.converter)}function oct(){return new G4("serverTimestamp")}(function(t,n=!0){(function(i){Jg=i})(Gh),uc(new dl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new L1(new nat(r.getProvider("auth-internal")),new oat(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ze(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new __(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ka(YW,"4.4.2",t),Ka(YW,"4.4.2","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new Map,bhe={activated:!1,tokenObservers:[]},act={initialized:!1,enabled:!1};function oi(e){return bD.get(e)||Object.assign({},bhe)}function uct(e,t){return bD.set(e,t),bD.get(e)}function qP(){return act}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const whe="https://content-firebaseappcheck.googleapis.com/v1",lct="exchangeRecaptchaV3Token",cct="exchangeDebugToken",Nq={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},fct=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dct{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new s_,this.pending.promise.catch(n=>{}),await hct(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new s_,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function hct(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pct={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Xs=new Yg("appCheck","AppCheck",pct);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kq(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function e5(e){if(!oi(e).activated)throw Xs.create("use-before-activation",{appName:e.name})}function Ehe(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=fw(n)+"d:"),r&&(o+=fw(r)+"h:"),o+=fw(i)+"m:"+fw(s)+"s",o}function fw(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t5({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(f){throw Xs.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw Xs.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw Xs.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Xs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function mct(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${whe}/projects/${n}/apps/${r}:${lct}?key=${i}`,body:{recaptcha_v3_token:t}}}function She(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${whe}/projects/${n}/apps/${r}:${cct}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gct="firebase-app-check-database",yct=1,x_="firebase-app-check-store",The="debug-token";let dw=null;function xhe(){return dw||(dw=new Promise((e,t)=>{try{const n=indexedDB.open(gct,yct);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Xs.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(x_,{keyPath:"compositeKey"})}}}catch(n){t(Xs.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),dw)}function vct(e){return Che(Phe(e))}function _ct(e,t){return Ihe(Phe(e),t)}function bct(e){return Ihe(The,e)}function wct(){return Che(The)}async function Ihe(e,t){const r=(await xhe()).transaction(x_,"readwrite"),s=r.objectStore(x_).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Xs.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function Che(e){const n=(await xhe()).transaction(x_,"readonly"),i=n.objectStore(x_).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o(Xs.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function Phe(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new _P("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ect(e){if(vP()){let t;try{t=await vct(e)}catch(n){I_.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function z2(e,t){return vP()?_ct(e,t).catch(n=>{I_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function Sct(){let e;try{e=await wct()}catch{}if(e)return e;{const t=xrt();return bct(t).catch(n=>I_.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(){return qP().enabled}async function r5(){const e=qP();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function Tct(){const e=Cce(),t=qP();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new s_;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Sct())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xct={error:"UNKNOWN_ERROR"};function Ict(e){return VM.encodeString(JSON.stringify(e),!1)}async function wD(e,t=!1){const n=e.app;e5(n);const r=oi(n);let i=r.token,s;if(i&&!Gp(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(Gp(u)?i=u:await z2(n,void 0))}if(!t&&i&&Gp(i))return{token:i.token};let o=!1;if(n5()){r.exchangeTokenPromise||(r.exchangeTokenPromise=t5(She(n,await r5()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await z2(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await oi(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?I_.warn(u.message):I_.error(u),s=u}let a;return i?s?Gp(i)?a={token:i.token,internalError:s}:a=$q(s):(a={token:i.token},r.token=i,await z2(n,i)):a=$q(s),o&&Rhe(n,a),a}async function Cct(e){const t=e.app;e5(t);const{provider:n}=oi(t);if(n5()){const r=await r5(),{token:i}=await t5(She(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function Ahe(e,t,n,r){const{app:i}=e,s=oi(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Gp(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Dq(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Dq(e))}function Ohe(e,t){const n=oi(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Dq(e){const{app:t}=e,n=oi(t);let r=n.tokenRefresher;r||(r=Pct(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Pct(e){const{app:t}=e;return new dct(async()=>{const n=oi(t);let r;if(n.token?r=await wD(e,!0):r=await wD(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=oi(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Nq.RETRIAL_MIN_WAIT,Nq.RETRIAL_MAX_WAIT)}function Rhe(e,t){const n=oi(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Gp(e){return e.expireTimeMillis-Date.now()>0}function $q(e){return{token:Ict(xct),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Act{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=oi(this.app);for(const n of t)Ohe(this.app,n.next);return Promise.resolve()}}function Oct(e,t){return new Act(e,t)}function Rct(e){return{getToken:t=>wD(e,t),getLimitedUseToken:()=>Cct(e),addTokenListener:t=>Ahe(e,"INTERNAL",t),removeTokenListener:t=>Ohe(e.app,t)}}const Nct="@firebase/app-check",kct="0.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dct="https://www.google.com/recaptcha/api.js";function $ct(e,t){const n=new s_,r=oi(e);r.reCAPTCHAState={initialized:n};const i=Lct(e),s=kq(!1);return s?Lq(e,t,s,i,n):jct(()=>{const o=kq(!1);if(!o)throw new Error("no recaptcha");Lq(e,t,o,i,n)}),n.promise}function Lq(e,t,n,r,i){n.ready(()=>{Fct(e,t,n,r),i.resolve(n)})}function Lct(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function Mct(e){e5(e);const n=await oi(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=oi(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function Fct(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{oi(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{oi(e).reCAPTCHAState.succeeded=!1}}),s=oi(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function jct(e){const t=document.createElement("script");t.src=Dct,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;Uct(this._throttleData);const i=await Mct(this._app).catch(o=>{throw Xs.create("recaptcha-error")});if(!(!((t=oi(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw Xs.create("recaptcha-error");let s;try{s=await t5(mct(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=Bct(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Xs.create("throttled",{time:Ehe(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=Kg(t,"heartbeat"),$ct(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof i5?this._siteKey===t._siteKey:!1}}function Bct(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+fct,httpStatus:e};{const n=t?t.backoffCount:0,r=Ort(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function Uct(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Xs.create("throttled",{time:Ehe(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vct(e=HM(),t){e=Ui(e);const n=Kg(e,"app-check");if(qP().initialized||Tct(),n5()&&r5().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw Xs.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return zct(e,t.provider,t.isTokenAutoRefreshEnabled),oi(e).isTokenAutoRefreshEnabled&&Ahe(r,"INTERNAL",()=>{}),r}function zct(e,t,n){const r=uct(e,Object.assign({},bhe));r.activated=!0,r.provider=t,r.cachedTokenPromise=Ect(e).then(i=>(i&&Gp(i)&&(r.token=i,Rhe(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const Hct="app-check",Mq="app-check-internal";function Wct(){uc(new dl(Hct,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return Oct(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Mq).initialize()})),uc(new dl(Mq,e=>{const t=e.getProvider("app-check").getImmediate();return Rct(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ka(Nct,kct)}Wct();function Nhe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qct=Nhe,khe=new Yg("auth","Firebase",Nhe());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=new _P("@firebase/auth");function Gct(e,...t){eI.logLevel<=cn.WARN&&eI.warn(`Auth (${Gh}): ${e}`,...t)}function sE(e,...t){eI.logLevel<=cn.ERROR&&eI.error(`Auth (${Gh}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(e,...t){throw s5(e,...t)}function Zu(e,...t){return s5(e,...t)}function Yct(e,t,n){const r=Object.assign(Object.assign({},qct()),{[t]:n});return new Yg("auth","Firebase",r).create(t,{appName:e.name})}function s5(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return khe.create(e,...t)}function Bt(e,t,...n){if(!e)throw s5(t,...n)}function Bl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw sE(t),new Error(t)}function dc(e,t){e||Bl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Kct(){return Fq()==="http:"||Fq()==="https:"}function Fq(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qct(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kct()||hrt()||"connection"in navigator)?navigator.onLine:!0}function Xct(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t,n){this.shortDelay=t,this.longDelay=n,dc(n>t,"Short delay should be less than long delay!"),this.isMobile=frt()||prt()}get(){return Qct()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(e,t){dc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dhe{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zct=new M1(3e4,6e4);function GP(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function r0(e,t,n,r,i={}){return $he(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=b1(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),Dhe.fetch()(Mhe(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function $he(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jct),t);try{const i=new eft(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw hw(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw hw(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw hw(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw hw(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Yct(e,c,l);fc(e,c)}}catch(i){if(i instanceof wl)throw i;fc(e,"network-request-failed",{message:String(i)})}}async function Lhe(e,t,n,r,i={}){const s=await r0(e,t,n,r,i);return"mfaPendingCredential"in s&&fc(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Mhe(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?o5(e.config,i):`${e.config.apiScheme}://${i}`}class eft{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zu(this.auth,"network-request-failed")),Zct.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hw(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zu(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tft(e,t){return r0(e,"POST","/v1/accounts:delete",t)}async function nft(e,t){return r0(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function rft(e,t=!1){const n=Ui(e),r=await n.getIdToken(t),i=a5(r);Bt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:nv(H2(i.auth_time)),issuedAtTime:nv(H2(i.iat)),expirationTime:nv(H2(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function H2(e){return Number(e)*1e3}function a5(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return sE("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ice(n);return i?JSON.parse(i):(sE("Failed to decode base64 JWT payload"),null)}catch(i){return sE("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ift(e){const t=a5(e);return Bt(t,"internal-error"),Bt(typeof t.exp<"u","internal-error"),Bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C_(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof wl&&sft(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function sft({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oft{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fhe{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nv(this.lastLoginAt),this.creationTime=nv(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(e){var t;const n=e.auth,r=await e.getIdToken(),i=await C_(e,nft(n,{idToken:r}));Bt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?lft(s.providerUserInfo):[],a=uft(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Fhe(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function aft(e){const t=Ui(e);await tI(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function uft(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function lft(e){return e.map(t=>{var{providerId:n}=t,r=oL(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cft(e,t){const n=await $he(e,{},async()=>{const r=b1({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=Mhe(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Dhe.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fft(e,t){return r0(e,"POST","/v2/accounts:revokeToken",GP(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Bt(t.idToken,"internal-error"),Bt(typeof t.idToken<"u","internal-error"),Bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ift(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Bt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await cft(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new P_;return r&&(Bt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Bt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Bt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new P_,this.toJSON())}_performRefresh(){return Bl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(e,t){Bt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class sh{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=oL(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oft(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fhe(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await C_(this,this.stsTokenManager.getToken(this.auth,t));return Bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return rft(this,t)}reload(){return aft(this)}_assign(t){this!==t&&(Bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new sh(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await tI(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await C_(this,tft(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,g=(l=n.createdAt)!==null&&l!==void 0?l:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:S,isAnonymous:T,providerData:E,stsTokenManager:x}=n;Bt(_&&x,t,"internal-error");const P=P_.fromJSON(this.name,x);Bt(typeof _=="string",t,"internal-error"),Lc(f,t.name),Lc(d,t.name),Bt(typeof S=="boolean",t,"internal-error"),Bt(typeof T=="boolean",t,"internal-error"),Lc(h,t.name),Lc(p,t.name),Lc(m,t.name),Lc(y,t.name),Lc(g,t.name),Lc(v,t.name);const M=new sh({uid:_,auth:t,email:d,emailVerified:S,displayName:f,isAnonymous:T,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(M.providerData=E.map(L=>Object.assign({},L))),y&&(M._redirectEventId=y),M}static async _fromIdTokenResponse(t,n,r=!1){const i=new P_;i.updateFromServerResponse(n);const s=new sh({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await tI(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=new Map;function Ul(e){dc(e instanceof Function,"Expected a class definition");let t=jq.get(e);return t?(dc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,jq.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jhe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}jhe.type="NONE";const Bq=jhe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(e,t,n){return`firebase:${e}:${t}:${n}`}class Im{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=oE(this.userKey,i.apiKey,s),this.fullPersistenceKey=oE("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?sh._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Im(Ul(Bq),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Ul(Bq);const o=oE(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const f=sh._fromJSON(t,c);l!==s&&(a=f),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Im(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Im(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uq(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Vhe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Bhe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hhe(t))return"Blackberry";if(Whe(t))return"Webos";if(u5(t))return"Safari";if((t.includes("chrome/")||Uhe(t))&&!t.includes("edge/"))return"Chrome";if(zhe(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Bhe(e=Kr()){return/firefox\//i.test(e)}function u5(e=Kr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Uhe(e=Kr()){return/crios\//i.test(e)}function Vhe(e=Kr()){return/iemobile/i.test(e)}function zhe(e=Kr()){return/android/i.test(e)}function Hhe(e=Kr()){return/blackberry/i.test(e)}function Whe(e=Kr()){return/webos/i.test(e)}function YP(e=Kr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function dft(e=Kr()){var t;return YP(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function hft(){return mrt()&&document.documentMode===10}function qhe(e=Kr()){return YP(e)||zhe(e)||Whe(e)||Hhe(e)||/windows phone/i.test(e)||Vhe(e)}function pft(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ghe(e,t=[]){let n;switch(e){case"Browser":n=Uq(Kr());break;case"Worker":n=`${Uq(Kr())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mft{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gft(e,t={}){return r0(e,"GET","/v2/passwordPolicy",GP(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yft=6;class vft{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yft,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ft{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vq(this),this.idTokenSubscription=new Vq(this),this.beforeStateQueue=new mft(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=khe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ul(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Im.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await tI(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Xct()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Ui(t):null;return n&&Bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ul(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await gft(this),n=new vft(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Yg("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fft(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ul(t)||this._popupRedirectResolver;Bt(n,this,"argument-error"),this.redirectPersistenceManager=await Im.create(this,[Ul(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ghe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Gct(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function KP(e){return Ui(e)}class Vq{constructor(t){this.auth=t,this.observer=null,this.addObserver=Ert(n=>this.observer=n)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l5={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bft(e){l5=e}function wft(e){return l5.loadJS(e)}function Eft(){return l5.gapiScript}function Sft(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tft(e,t){const n=Kg(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(o_(s,t??{}))return i;fc(i,"already-initialized")}return n.initialize({options:t})}function xft(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ul);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Ift(e,t,n){const r=KP(e);Bt(r._canInitEmulator,r,"emulator-config-failed"),Bt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Yhe(t),{host:o,port:a}=Cft(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Pft()}function Yhe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Cft(e){const t=Yhe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:zq(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:zq(o)}}}function zq(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Pft(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Khe{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Bl("not implemented")}_getIdTokenResponse(t){return Bl("not implemented")}_linkToIdToken(t,n){return Bl("not implemented")}_getReauthenticationResolver(t){return Bl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm(e,t){return Lhe(e,"POST","/v1/accounts:signInWithIdp",GP(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aft="http://localhost";class Nh extends Khe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Nh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):fc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=oL(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Nh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Cm(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Cm(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Cm(t,n)}buildRequest(){const t={requestUri:Aft,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=b1(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qhe{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends Qhe{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends F1{constructor(){super("facebook.com")}static credential(t){return Nh._fromParams({providerId:Kc.PROVIDER_ID,signInMethod:Kc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kc.credentialFromTaggedObject(t)}static credentialFromError(t){return Kc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kc.credential(t.oauthAccessToken)}catch{return null}}}Kc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends F1{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Nh._fromParams({providerId:Qc.PROVIDER_ID,signInMethod:Qc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Qc.credentialFromTaggedObject(t)}static credentialFromError(t){return Qc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Qc.credential(n,r)}catch{return null}}}Qc.GOOGLE_SIGN_IN_METHOD="google.com";Qc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends F1{constructor(){super("github.com")}static credential(t){return Nh._fromParams({providerId:Xc.PROVIDER_ID,signInMethod:Xc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xc.credentialFromTaggedObject(t)}static credentialFromError(t){return Xc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xc.credential(t.oauthAccessToken)}catch{return null}}}Xc.GITHUB_SIGN_IN_METHOD="github.com";Xc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends F1{constructor(){super("twitter.com")}static credential(t,n){return Nh._fromParams({providerId:Jc.PROVIDER_ID,signInMethod:Jc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Jc.credentialFromTaggedObject(t)}static credentialFromError(t){return Jc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Jc.credential(n,r)}catch{return null}}}Jc.TWITTER_SIGN_IN_METHOD="twitter.com";Jc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oft(e,t){return Lhe(e,"POST","/v1/accounts:signUp",GP(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await sh._fromIdTokenResponse(t,r,i),o=Hq(r);return new Xf({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=Hq(r);return new Xf({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function Hq(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rft(e){var t;const n=KP(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Xf({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Oft(n,{returnSecureToken:!0}),i=await Xf._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI extends wl{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,nI.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new nI(t,n,r,i)}}function Xhe(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?nI._fromErrorAndOperation(e,s,t,r):s})}async function Nft(e,t,n=!1){const r=await C_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Xf._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kft(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await C_(e,Xhe(r,i,t,e),n);Bt(s.idToken,r,"internal-error");const o=a5(s.idToken);Bt(o,r,"internal-error");const{sub:a}=o;return Bt(e.uid===a,r,"user-mismatch"),Xf._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&fc(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dft(e,t,n=!1){const r="signIn",i=await Xhe(e,r,t),s=await Xf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function $ft(e,t,n,r){return Ui(e).onIdTokenChanged(t,n,r)}function Lft(e,t,n){return Ui(e).beforeAuthStateChanged(t,n)}const rI="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jhe{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rI,"1"),this.storage.removeItem(rI),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mft(){const e=Kr();return u5(e)||YP(e)}const Fft=1e3,jft=10;class Zhe extends Jhe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Mft()&&pft(),this.fallbackToPolling=qhe(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);hft()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,jft):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Fft)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Zhe.type="LOCAL";const Bft=Zhe;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class epe extends Jhe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}epe.type="SESSION";const tpe=epe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uft(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new QP(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await Uft(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}QP.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vft{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=c5("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(){return window}function zft(e){el().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function npe(){return typeof el().WorkerGlobalScope<"u"&&typeof el().importScripts=="function"}async function Hft(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Wft(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function qft(){return npe()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rpe="firebaseLocalStorageDb",Gft=1,iI="firebaseLocalStorage",ipe="fbase_key";class j1{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function XP(e,t){return e.transaction([iI],t?"readwrite":"readonly").objectStore(iI)}function Yft(){const e=indexedDB.deleteDatabase(rpe);return new j1(e).toPromise()}function SD(){const e=indexedDB.open(rpe,Gft);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(iI,{keyPath:ipe})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(iI)?t(r):(r.close(),await Yft(),t(await SD()))})})}async function Wq(e,t,n){const r=XP(e,!0).put({[ipe]:t,value:n});return new j1(r).toPromise()}async function Kft(e,t){const n=XP(e,!1).get(t),r=await new j1(n).toPromise();return r===void 0?null:r.value}function qq(e,t){const n=XP(e,!0).delete(t);return new j1(n).toPromise()}const Qft=800,Xft=3;class spe{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await SD(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Xft)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return npe()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=QP._getInstance(qft()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Hft(),!this.activeServiceWorker)return;this.sender=new Vft(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Wft()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await SD();return await Wq(t,rI,"1"),await qq(t,rI),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Wq(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Kft(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>qq(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=XP(i,!1).getAll();return new j1(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qft)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}spe.type="LOCAL";const Jft=spe;new M1(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zft(e,t){return t?Ul(t):(Bt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5 extends Khe{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Cm(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Cm(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Cm(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function edt(e){return Dft(e.auth,new f5(e),e.bypassAuthState)}function tdt(e){const{auth:t,user:n}=e;return Bt(n,t,"internal-error"),kft(n,new f5(e),e.bypassAuthState)}async function ndt(e){const{auth:t,user:n}=e;return Bt(n,t,"internal-error"),Nft(n,new f5(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ope{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return edt;case"linkViaPopup":case"linkViaRedirect":return ndt;case"reauthViaPopup":case"reauthViaRedirect":return tdt;default:fc(this.auth,"internal-error")}}resolve(t){dc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){dc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rdt=new M1(2e3,1e4);class Yp extends ope{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Yp.currentPopupAction&&Yp.currentPopupAction.cancel(),Yp.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Bt(t,this.auth,"internal-error"),t}async onExecution(){dc(this.filter.length===1,"Popup operations only handle one event");const t=c5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Zu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yp.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zu(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rdt.get())};t()}}Yp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const idt="pendingRedirect",aE=new Map;class sdt extends ope{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=aE.get(this.auth._key());if(!t){try{const r=await odt(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}aE.set(this.auth._key(),t)}return this.bypassAuthState||aE.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function odt(e,t){const n=ldt(t),r=udt(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function adt(e,t){aE.set(e._key(),t)}function udt(e){return Ul(e._redirectPersistence)}function ldt(e){return oE(idt,e.config.apiKey,e.name)}async function cdt(e,t,n=!1){const r=KP(e),i=Zft(r,t),o=await new sdt(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fdt=10*60*1e3;class ddt{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hdt(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!ape(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zu(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fdt&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gq(t))}saveEventToCache(t){this.cachedEventUids.add(Gq(t)),this.lastProcessedEventTime=Date.now()}}function Gq(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function ape({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function hdt(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ape(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pdt(e,t={}){return r0(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mdt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gdt=/^https?/;async function ydt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await pdt(e);for(const n of t)try{if(vdt(n))return}catch{}fc(e,"unauthorized-domain")}function vdt(e){const t=ED(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!gdt.test(n))return!1;if(mdt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _dt=new M1(3e4,6e4);function Yq(){const e=el().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function bdt(e){return new Promise((t,n)=>{var r,i,s;function o(){Yq(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yq(),n(Zu(e,"network-request-failed"))},timeout:_dt.get()})}if(!((i=(r=el().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=el().gapi)===null||s===void 0)&&s.load)o();else{const a=Sft("iframefcb");return el()[a]=()=>{gapi.load?o():n(Zu(e,"network-request-failed"))},wft(`${Eft()}?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw uE=null,t})}let uE=null;function wdt(e){return uE=uE||bdt(e),uE}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Edt=new M1(5e3,15e3),Sdt="__/auth/iframe",Tdt="emulator/auth/iframe",xdt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Idt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cdt(e){const t=e.config;Bt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?o5(t,Tdt):`https://${e.config.authDomain}/${Sdt}`,r={apiKey:t.apiKey,appName:e.name,v:Gh},i=Idt.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${b1(r).slice(1)}`}async function Pdt(e){const t=await wdt(e),n=el().gapi;return Bt(n,e,"internal-error"),t.open({where:document.body,url:Cdt(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xdt,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zu(e,"network-request-failed"),a=el().setTimeout(()=>{s(o)},Edt.get());function u(){el().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Adt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Odt=500,Rdt=600,Ndt="_blank",kdt="http://localhost";class Kq{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ddt(e,t,n,r=Odt,i=Rdt){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Adt),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Kr().toLowerCase();n&&(a=Uhe(l)?Ndt:n),Bhe(l)&&(t=t||kdt,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(dft(l)&&a!=="_self")return $dt(t||"",a),new Kq(null);const f=window.open(t||"",a,c);Bt(f,e,"popup-blocked");try{f.focus()}catch{}return new Kq(f)}function $dt(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ldt="__/auth/handler",Mdt="emulator/auth/handler",Fdt=encodeURIComponent("fac");async function Qq(e,t,n,r,i,s){Bt(e.config.authDomain,e,"auth-domain-config-required"),Bt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Gh,eventId:i};if(t instanceof Qhe){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",wrt(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(t instanceof F1){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${Fdt}=${encodeURIComponent(u)}`:"";return`${jdt(e)}?${b1(a).slice(1)}${l}`}function jdt({config:e}){return e.emulator?o5(e,Mdt):`https://${e.authDomain}/${Ldt}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="webStorageSupport";class Bdt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tpe,this._completeRedirectFn=cdt,this._overrideRedirectResult=adt}async _openPopup(t,n,r,i){var s;dc((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Qq(t,n,r,ED(),i);return Ddt(t,o,c5())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await Qq(t,n,r,ED(),i);return zft(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(dc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Pdt(t),r=new ddt(t);return n.register("authEvent",i=>(Bt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(W2,{type:W2},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[W2];o!==void 0&&n(!!o),fc(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ydt(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return qhe()||u5()||YP()}}const Udt=Bdt;var Xq="@firebase/auth",Jq="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vdt{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zdt(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hdt(e){uc(new dl("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Bt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ghe(e)},l=new _ft(r,i,s,u);return xft(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),uc(new dl("auth-internal",t=>{const n=KP(t.getProvider("auth").getImmediate());return(r=>new Vdt(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ka(Xq,Jq,zdt(e)),Ka(Xq,Jq,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wdt=5*60,qdt=Oce("authIdTokenMaxAge")||Wdt;let Zq=null;const Gdt=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qdt)return;const i=n==null?void 0:n.token;Zq!==i&&(Zq=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ydt(e=HM()){const t=Kg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Tft(e,{popupRedirectResolver:Udt,persistence:[Jft,Bft,tpe]}),r=Oce("authTokenSyncURL");if(r){const s=Gdt(r);Lft(n,s,()=>s(n.currentUser)),$ft(n,o=>s(o))}const i=Pce("auth");return i&&Ift(n,`http://${i}`),n}function Kdt(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}bft({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Zu("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Kdt().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hdt("Browser");class Qdt extends Tce{constructor(){super("firebase");po(this,"RECAPTCHAV3TOKEN","6Ld4v0cqAAAAAP38vhiyN4R-prbI3mo_TgmcYGaG");po(this,"firestore");po(this,"collectionPrefix","prod-");po(this,"studyCollection");po(this,"studyId","");po(this,"localForage",Sce.createInstance({name:"currentParticipantId"}));po(this,"localProvenanceCopy",{});po(this,"localWindowEvents",{});const n=m3.parse(`
{
  apiKey: "AIzaSyDrtH9IIDAUm4aXy-bBUj8yhnXCMaO41JI",
  authDomain: "guardrails2-dd6dc.firebaseapp.com",
  projectId: "guardrails2-dd6dc",
  storageBucket: "guardrails2-dd6dc.firebasestorage.app",
  messagingSenderId: "935778552841",
  appId: "1:935778552841:web:5cefef36b8abd813ecfcd8"
}
`),r=kce(n);this.firestore=Blt(r,{});try{Vct(r,{provider:new i5(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{const n=Ydt();if(await Rft(n),!n.currentUser)throw new Error("Login failed with firebase");await Ult(this.firestore);const r=await Ds(this.firestore,".info/connected");await pp(r),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){const i=await Em(JSON.stringify(r));this.studyCollection=V2(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const s=Ds(this.studyCollection,"configs"),o=V2(s,"configs"),a=Ds(o,i);return await gd(a,r)}async initializeParticipantSession(n,r,i){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=Ds(this.studyCollection,this.currentParticipantId),o=(await pp(s)).data();if(this.localProvenanceCopy=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),this.localWindowEvents=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents"),Object.entries(this.localWindowEvents).forEach(([l,c])=>{o===null||!o.answers[l]||(c===void 0||c.length===0?o.answers[l].windowEvents=[]:o.answers[l].windowEvents=c)}),o)return o;const a=await Em(JSON.stringify(r)),u={participantId:this.currentParticipantId,participantConfigHash:a,sequence:await this.getSequence(),answers:{},searchParams:n};return await gd(s,u),u}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=Ds(this.studyCollection);return this.currentParticipantId=i.id,await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=Ds(this.studyCollection,this.currentParticipantId),s={answer:r.answer,startTime:r.startTime,endTime:r.endTime};await gd(i,{answers:{[n]:s}},{merge:!0}),r.provenanceGraph&&(this.localProvenanceCopy[n]=r.provenanceGraph,await this._pushToFirebaseStorage(this.currentParticipantId,"provenance",this.localProvenanceCopy)),this.localWindowEvents[n]=r.windowEvents,await this._pushToFirebaseStorage(this.currentParticipantId,"windowEvents",this.localWindowEvents)}async saveAudioTags(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=Ds(this.studyCollection,"audioTags");await gd(r,{audioTags:n})}async getAudioTags(){var n;if(this.studyCollection){const r=Ds(this.studyCollection,"audioTags");return((n=(await pp(r)).data())==null?void 0:n.audioTags)||[]}return[]}async saveTextTags(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=Ds(this.studyCollection,n);await gd(i,{textTags:r},{merge:!0})}async getTextTags(n){var r;if(this.studyCollection){const i=Ds(this.studyCollection,n);return((r=(await pp(i)).data())==null?void 0:r.textTags)||[]}return[]}async saveAudio(n,r){n.addEventListener("dataavailable",i=>{const s=md(),o=pd(s,`${this.studyId}/audio/${this.currentParticipantId}_${r}`);kW(o,i.data).then(()=>{console.warn("Uploaded a blob or file!")})}),n.stop(),n.stream.getTracks().forEach(i=>i.stop())}async getAudio(n){const r=md(),i=await H0(pd(r,`${this.studyId}/audio/${n}`));return new Promise(s=>{const o=new XMLHttpRequest;o.responseType="blob",o.onload=()=>{const a=o.response,u=URL.createObjectURL(a);s(u)},o.open("GET",i),o.send()})}async getTranscription(n){const r=md(),i=await H0(pd(r,`${this.studyId}/audio/${n}.wav_transcription.txt`));return new Promise(s=>{const o=new XMLHttpRequest;o.responseType="blob",o.onload=()=>{o.response.text().then(u=>{s(u)})},o.open("GET",i),o.send()})}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");this._pushToFirebaseStorage("","sequenceArray",{sequenceArray:n})}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");return(await this._getFromFirebaseStorage("","sequenceArray")).sequenceArray}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=Ds(this.studyCollection,"sequenceAssignment"),i=V2(r,"sequenceAssignment"),s=Ds(i,this.currentParticipantId);await gd(s,{participantId:this.currentParticipantId,timestamp:oct()});const o=Jlt(i,Zlt("timestamp","asc")),l=(await Rq(o)).docs.map(f=>f.data()).findIndex(f=>f.participantId===this.currentParticipantId),c=n[l%n.length];if(!c)throw new Error("Latin square is empty");return c}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await Rq(this.studyCollection),r=[],i=n.docs.map(async s=>{if(s.id==="config"||s.id==="sequenceArray"||s.id==="audioTags"||s.id==="sequenceAssignment"||s.id==="configs")return;const o=s.data(),a=await this._getFromFirebaseStorage(o.participantId,"provenance"),u=await this._getFromFirebaseStorage(o.participantId,"windowEvents");o.answers=Object.fromEntries(Object.entries(o.answers).map(([l,c])=>{if(c===void 0)return[l,c];const f=a[l],d=u[l];return[l,{...c,provenanceGraph:f,windowEvents:d}]})),r.push(o)});return await Promise.all(i),r}async getParticipantData(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this.getCurrentParticipantId();let r=null;if(this.currentParticipantId!==null){const i=Ds(this.studyCollection,n||this.currentParticipantId);if(r=(await pp(i)).data(),r!==null){const s=await this._getFromFirebaseStorage(n||this.currentParticipantId,"provenance"),o=await this._getFromFirebaseStorage(n||this.currentParticipantId,"windowEvents");Object.entries(r.answers).forEach(([a,u])=>{u!==void 0&&(u.provenanceGraph=s[a],u.windowEvents=o[a])})}}return r}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=Ds(this.studyCollection),i=r.id;await this.localForage.setItem("currentParticipantId",i),this.currentParticipantId=i;let s=null;if(this.currentParticipantId!==null&&(s=(await pp(r)).data()),!s){const o=await Em(JSON.stringify(n)),a={participantId:i,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:{}};await gd(r,a),s=a}return s}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=md(),s=pd(i,`${this.studyId}/${n}_${r}`);let o={};try{const a=await H0(s),l=await(await fetch(a)).text();o=JSON.parse(l)}catch{console.warn(`${n} does not have ${r} for ${this.studyId}.`)}return o}async _pushToFirebaseStorage(n,r,i={}){if(Object.keys(i).length>0){const s=md(),o=pd(s,`${this.studyId}/${n}_${r}`),a=new Blob([JSON.stringify(i)],{type:"application/json"});await kW(o,a)}}async _getFirebaseProvenance(n){const r=md(),i=pd(r,`${this.studyId}/${n}_provenance`);let s={};try{const o=await H0(i),u=await(await fetch(o)).text();s=JSON.parse(u)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}async _getFirebaseWindowEvents(n){const r=md(),i=pd(r,`${this.studyId}/${n}_windowEvents`);let s={};try{const o=await H0(i),u=await(await fetch(o)).text();s=JSON.parse(u)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}}async function Xdt(){let e,t=!1;{const n=new Qdt;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new nrt;await n.connect(),e=n}return e}function Jdt(){const{storageEngine:e,setStorageEngine:t}=la();return w.useEffect(()=>{if(e!==void 0)return;async function n(){const r=await Xdt();t(r)}n()},[t,e]),I.jsx(Qnt,{})}q2.createRoot(document.getElementById("root")).render(I.jsx(R.StrictMode,{children:I.jsx(Vge,{children:I.jsx(Jdt,{})})}));
